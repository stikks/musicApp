webpackJsonp(["main"],{

/***/ "./src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"app/admin/admin.module": [
		"./src/app/admin/admin.module.ts",
		"admin.module"
	],
	"app/admin/analytics/analytics.module": [
		"./src/app/admin/analytics/analytics.module.ts",
		"analytics.module"
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids)
		return Promise.reject(new Error("Cannot find module '" + req + "'."));
	return __webpack_require__.e(ids[1]).then(function() {
		return __webpack_require__(ids[0]);
	});
};
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/admin/pages/pages.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Pages; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_http_cache_client__ = __webpack_require__("./src/app/shared/http-cache-client.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Pages = (function () {
    /**
     * TagsService Constructor.
     */
    function Pages(http) {
        this.http = http;
        /**
         * Base uri for pages api.
         */
        this.baseUri = 'pages';
    }
    /**
     * Fetch all existing pages from the server.
     */
    Pages.prototype.getAll = function (params) {
        if (params === void 0) { params = {}; }
        return this.http.getWithCache(this.baseUri, params);
    };
    /**
     * Fetch a page matching specified id.
     */
    Pages.prototype.get = function (id) {
        return this.http.getWithCache(this.baseUri + '/' + id);
    };
    /**
     * Create a new page.
     */
    Pages.prototype.create = function (data) {
        return this.http.post(this.baseUri, data);
    };
    /**
     * Update existing page.
     */
    Pages.prototype.update = function (id, data) {
        return this.http.put(this.baseUri + '/' + id, data);
    };
    /**
     * Delete specified pages.
     */
    Pages.prototype.delete = function (ids) {
        return this.http.delete(this.baseUri, { ids: ids });
    };
    Pages = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_http_cache_client__["a" /* HttpCacheClient */]])
    ], Pages);
    return Pages;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppRoutingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var routes = [
    {
        path: 'admin',
        loadChildren: 'app/admin/admin.module#AdminModule'
    },
];
var AppRoutingModule = (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* RouterModule */].forRoot(routes)],
            exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* RouterModule */]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"app-content\" #appContent>\n    <router-outlet></router-outlet>\n</div>\n\n<toast></toast>\n\n<div id=\"modal-placeholder\" #modalPlaceholder></div>\n<div id=\"context-menu-placeholder\" #contextMenuPlaceholder></div>\n"

/***/ }),

/***/ "./src/app/app.component.scss":
/***/ (function(module, exports) {

module.exports = "app-root {\n  display: block;\n  width: 100%;\n  height: 100%; }\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_modal_modal_placeholder_service__ = __webpack_require__("./src/app/shared/modal/modal-placeholder.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_toast_toast_component__ = __webpack_require__("./src/app/shared/toast/toast.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__shared_preview_app_service__ = __webpack_require__("./src/app/shared/preview-app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__shared_title_service__ = __webpack_require__("./src/app/shared/title.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_svg4everybody__ = __webpack_require__("./node_modules/svg4everybody/dist/svg4everybody.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_svg4everybody___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_svg4everybody__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_debounceTime__ = __webpack_require__("./node_modules/rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("./node_modules/rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_rxjs_add_operator_switchMap__ = __webpack_require__("./node_modules/rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_rxjs_add_observable_of__ = __webpack_require__("./node_modules/rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_rxjs_add_operator_toPromise__ = __webpack_require__("./node_modules/rxjs/add/operator/toPromise.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17_rxjs_add_operator_filter__ = __webpack_require__("./node_modules/rxjs/add/operator/filter.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17_rxjs_add_operator_filter___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_17_rxjs_add_operator_filter__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18_rxjs_add_operator_share__ = __webpack_require__("./node_modules/rxjs/add/operator/share.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18_rxjs_add_operator_share___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_18_rxjs_add_operator_share__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19_rxjs_add_operator_mergeMap__ = __webpack_require__("./node_modules/rxjs/add/operator/mergeMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19_rxjs_add_operator_mergeMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_19_rxjs_add_operator_mergeMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21_rxjs_add_operator_finally__ = __webpack_require__("./node_modules/rxjs/add/operator/finally.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21_rxjs_add_operator_finally___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_21_rxjs_add_operator_finally__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22_rxjs_add_observable_throw__ = __webpack_require__("./node_modules/rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_22_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23_rxjs_add_observable_forkJoin__ = __webpack_require__("./node_modules/rxjs/add/observable/forkJoin.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23_rxjs_add_observable_forkJoin___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_23_rxjs_add_observable_forkJoin__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__shared_custom_homepage_service__ = __webpack_require__("./src/app/shared/custom-homepage.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__web_player_genres_popular_genres_popular_genres_resolver_service__ = __webpack_require__("./src/app/web-player/genres/popular-genres/popular-genres-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__web_player_genres_popular_genres_popular_genres_component__ = __webpack_require__("./src/app/web-player/genres/popular-genres/popular-genres.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__web_player_albums_new_releases_page_new_releases_page_component__ = __webpack_require__("./src/app/web-player/albums/new-releases-page/new-releases-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__web_player_albums_popular_albums_popular_albums_component__ = __webpack_require__("./src/app/web-player/albums/popular-albums/popular-albums.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__web_player_albums_popular_albums_popular_albums_resolver_service__ = __webpack_require__("./src/app/web-player/albums/popular-albums/popular-albums-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__web_player_tracks_top_tracks_page_top_tracks_page_resolver_service__ = __webpack_require__("./src/app/web-player/tracks/top-tracks-page/top-tracks-page-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__web_player_albums_new_releases_page_new_releases_page_resolver_service__ = __webpack_require__("./src/app/web-player/albums/new-releases-page/new-releases-page.resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__web_player_tracks_top_tracks_page_top_tracks_page_component__ = __webpack_require__("./src/app/web-player/tracks/top-tracks-page/top-tracks-page.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


































var AppComponent = (function () {
    function AppComponent(browserEvents, el, renderer, contextMenu, modalPlaceholder, toastService, http, settings, preview, title, router, customHomepage) {
        this.browserEvents = browserEvents;
        this.el = el;
        this.renderer = renderer;
        this.contextMenu = contextMenu;
        this.modalPlaceholder = modalPlaceholder;
        this.toastService = toastService;
        this.http = http;
        this.settings = settings;
        this.preview = preview;
        this.title = title;
        this.router = router;
        this.customHomepage = customHomepage;
    }
    AppComponent.prototype.ngOnInit = function () {
        this.browserEvents.subscribeToEvents(this.el.nativeElement, this.renderer);
        this.toastService.registerComponentInstance(this.toastComponent);
        this.contextMenu.registerViewContainerRef(this.contextMenuPlaceholderRef);
        this.modalPlaceholder.registerViewContainerRef(this.modalPlaceholderRef, this.appContentEl.nativeElement);
        this.settings.setHttpClient(this.http);
        this.preview.init();
        this.title.init();
        //google analytics
        if (this.settings.get('analytics.tracking_code')) {
            this.triggerAnalyticsPageView();
        }
        //svg icons polyfill
        __WEBPACK_IMPORTED_MODULE_10_svg4everybody__();
        //
        //custom homepage
        this.customHomepage.select([
            { path: 'popular-genres', component: __WEBPACK_IMPORTED_MODULE_27__web_player_genres_popular_genres_popular_genres_component__["a" /* PopularGenresComponent */], resolve: { genres: __WEBPACK_IMPORTED_MODULE_26__web_player_genres_popular_genres_popular_genres_resolver_service__["a" /* PopularGenresResolver */] }, data: { name: 'home' } },
            { path: 'popular-albums', component: __WEBPACK_IMPORTED_MODULE_29__web_player_albums_popular_albums_popular_albums_component__["a" /* PopularAlbumsComponent */], resolve: { albums: __WEBPACK_IMPORTED_MODULE_30__web_player_albums_popular_albums_popular_albums_resolver_service__["a" /* PopularAlbumsResolver */] }, data: { name: 'popular-albums' } },
            { path: 'new-releases', component: __WEBPACK_IMPORTED_MODULE_28__web_player_albums_new_releases_page_new_releases_page_component__["a" /* NewReleasesPageComponent */], resolve: { albums: __WEBPACK_IMPORTED_MODULE_32__web_player_albums_new_releases_page_new_releases_page_resolver_service__["a" /* NewReleasesPageResolver */] }, data: { name: 'new-releases' } },
            { path: 'top-50', component: __WEBPACK_IMPORTED_MODULE_33__web_player_tracks_top_tracks_page_top_tracks_page_component__["a" /* TopTracksPageComponent */], resolve: { tracks: __WEBPACK_IMPORTED_MODULE_31__web_player_tracks_top_tracks_page_top_tracks_page_resolver_service__["a" /* TopTracksPageResolver */] }, data: { name: 'top-50' } },
        ]);
    };
    AppComponent.prototype.triggerAnalyticsPageView = function () {
        this.router.events
            .filter(function (e) { return e instanceof __WEBPACK_IMPORTED_MODULE_24__angular_router__["c" /* NavigationEnd */]; })
            .subscribe(function (event) {
            if (!window['ga'])
                return;
            window['ga']('set', 'page', event.urlAfterRedirects);
            window['ga']('send', 'pageview');
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('modalPlaceholder', { read: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"] }),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "modalPlaceholderRef", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('contextMenuPlaceholder', { read: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewContainerRef"] }),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "contextMenuPlaceholderRef", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('appContent'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], AppComponent.prototype, "appContentEl", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_5__shared_toast_toast_component__["a" /* ToastComponent */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_5__shared_toast_toast_component__["a" /* ToastComponent */])
    ], AppComponent.prototype, "toastComponent", void 0);
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-root',
            template: __webpack_require__("./src/app/app.component.html"),
            styles: [__webpack_require__("./src/app/app.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_browser_events_service__["a" /* BrowserEvents */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_2__web_player_context_menu_context_menu_service__["a" /* ContextMenu */],
            __WEBPACK_IMPORTED_MODULE_3__shared_modal_modal_placeholder_service__["a" /* ModalPlaceholderService */],
            __WEBPACK_IMPORTED_MODULE_4__shared_toast_toast_service__["a" /* ToastService */],
            __WEBPACK_IMPORTED_MODULE_6__shared_app_http_client_service__["a" /* AppHttpClient */],
            __WEBPACK_IMPORTED_MODULE_7__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_8__shared_preview_app_service__["a" /* PreviewApp */],
            __WEBPACK_IMPORTED_MODULE_9__shared_title_service__["a" /* TitleService */],
            __WEBPACK_IMPORTED_MODULE_24__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_25__shared_custom_homepage_service__["a" /* CustomHomepage */]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export init_app */
/* unused harmony export errorHandlerFactory */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_component__ = __webpack_require__("./src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_routing_module__ = __webpack_require__("./src/app/app-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_web_player_module__ = __webpack_require__("./src/app/web-player/web-player.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_shared_module__ = __webpack_require__("./src/app/shared/shared.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bootstrapper_service__ = __webpack_require__("./src/app/bootstrapper.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__auth_auth_module__ = __webpack_require__("./src/app/auth/auth.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__shared_custom_url_serializer__ = __webpack_require__("./src/app/shared/custom-url-serializer.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__shared_xsrf_interceptor_service__ = __webpack_require__("./src/app/shared/xsrf-interceptor.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__raven_error_handler__ = __webpack_require__("./src/app/raven-error-handler.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__wildcard_routing_module__ = __webpack_require__("./src/app/wildcard-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
















function init_app(bootstrapper) {
    return function () { return bootstrapper.bootstrap(); };
}
function errorHandlerFactory(settings, currentUser) {
    return new __WEBPACK_IMPORTED_MODULE_13__raven_error_handler__["a" /* RavenErrorHandler */](settings, currentUser);
}
var AppModule = (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_1__app_component__["a" /* AppComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_7__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_4__shared_shared_module__["a" /* SharedModule */].forRoot(),
                __WEBPACK_IMPORTED_MODULE_2__app_routing_module__["a" /* AppRoutingModule */],
                __WEBPACK_IMPORTED_MODULE_6__auth_auth_module__["a" /* AuthModule */],
                __WEBPACK_IMPORTED_MODULE_3__web_player_web_player_module__["a" /* WebPlayerModule */],
                __WEBPACK_IMPORTED_MODULE_14__wildcard_routing_module__["a" /* WildcardRoutingModule */],
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_5__bootstrapper_service__["a" /* Bootstrapper */],
                { provide: __WEBPACK_IMPORTED_MODULE_8__angular_router__["g" /* UrlSerializer */], useClass: __WEBPACK_IMPORTED_MODULE_9__shared_custom_url_serializer__["a" /* CustomUrlSerializer */] },
                {
                    provide: __WEBPACK_IMPORTED_MODULE_10__angular_common_http__["a" /* HTTP_INTERCEPTORS */],
                    useClass: __WEBPACK_IMPORTED_MODULE_11__shared_xsrf_interceptor_service__["a" /* XsrfInterceptor */],
                    multi: true,
                },
                { provide: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ErrorHandler"],
                    useFactory: errorHandlerFactory,
                    deps: [__WEBPACK_IMPORTED_MODULE_12__shared_settings_service__["a" /* Settings */], __WEBPACK_IMPORTED_MODULE_15__auth_current_user__["a" /* CurrentUser */]],
                },
                {
                    provide: __WEBPACK_IMPORTED_MODULE_0__angular_core__["APP_INITIALIZER"],
                    useFactory: init_app,
                    deps: [__WEBPACK_IMPORTED_MODULE_5__bootstrapper_service__["a" /* Bootstrapper */]],
                    multi: true,
                },
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_1__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/auth/auth.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__auth_routing__ = __webpack_require__("./src/app/auth/auth.routing.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__login_login_component__ = __webpack_require__("./src/app/auth/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__register_register_component__ = __webpack_require__("./src/app/auth/register/register.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__reset_password_reset_password_component__ = __webpack_require__("./src/app/auth/reset-password/reset-password.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("./src/app/auth/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__social_auth_service__ = __webpack_require__("./src/app/auth/social-auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__forgot_password_forgot_password_component__ = __webpack_require__("./src/app/auth/forgot-password/forgot-password.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__request_extra_credentials_modal_request_extra_credentials_modal_component__ = __webpack_require__("./src/app/auth/request-extra-credentials-modal/request-extra-credentials-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__shared_modal_modal_service__ = __webpack_require__("./src/app/shared/modal/modal.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__shared_shared_module__ = __webpack_require__("./src/app/shared/shared.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__guards_guest_guard_service__ = __webpack_require__("./src/app/guards/guest-guard.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












var AuthModule = (function () {
    function AuthModule() {
    }
    AuthModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_10__shared_shared_module__["a" /* SharedModule */],
                __WEBPACK_IMPORTED_MODULE_1__auth_routing__["a" /* routing */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__login_login_component__["a" /* LoginComponent */],
                __WEBPACK_IMPORTED_MODULE_3__register_register_component__["a" /* RegisterComponent */],
                __WEBPACK_IMPORTED_MODULE_7__forgot_password_forgot_password_component__["a" /* ForgotPasswordComponent */],
                __WEBPACK_IMPORTED_MODULE_4__reset_password_reset_password_component__["a" /* ResetPasswordComponent */],
                __WEBPACK_IMPORTED_MODULE_8__request_extra_credentials_modal_request_extra_credentials_modal_component__["a" /* RequestExtraCredentialsModalComponent */],
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_8__request_extra_credentials_modal_request_extra_credentials_modal_component__["a" /* RequestExtraCredentialsModalComponent */],
            ],
            exports: [],
            providers: [
                __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */],
                __WEBPACK_IMPORTED_MODULE_6__social_auth_service__["a" /* SocialAuthService */],
                __WEBPACK_IMPORTED_MODULE_9__shared_modal_modal_service__["a" /* ModalService */],
                __WEBPACK_IMPORTED_MODULE_11__guards_guest_guard_service__["a" /* GuestGuard */],
            ]
        })
    ], AuthModule);
    return AuthModule;
}());



/***/ }),

/***/ "./src/app/auth/auth.routing.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return routing; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__login_login_component__ = __webpack_require__("./src/app/auth/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__register_register_component__ = __webpack_require__("./src/app/auth/register/register.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__reset_password_reset_password_component__ = __webpack_require__("./src/app/auth/reset-password/reset-password.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__guards_guest_guard_service__ = __webpack_require__("./src/app/guards/guest-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__forgot_password_forgot_password_component__ = __webpack_require__("./src/app/auth/forgot-password/forgot-password.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__guards_disable_route_guard_service__ = __webpack_require__("./src/app/guards/disable-route-guard.service.ts");







var routing = __WEBPACK_IMPORTED_MODULE_0__angular_router__["f" /* RouterModule */].forChild([
    { path: 'login', component: __WEBPACK_IMPORTED_MODULE_1__login_login_component__["a" /* LoginComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_4__guards_guest_guard_service__["a" /* GuestGuard */]] },
    { path: 'register', component: __WEBPACK_IMPORTED_MODULE_2__register_register_component__["a" /* RegisterComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_4__guards_guest_guard_service__["a" /* GuestGuard */], __WEBPACK_IMPORTED_MODULE_6__guards_disable_route_guard_service__["a" /* DisableRouteGuard */]] },
    { path: 'forgot-password', component: __WEBPACK_IMPORTED_MODULE_5__forgot_password_forgot_password_component__["a" /* ForgotPasswordComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_4__guards_guest_guard_service__["a" /* GuestGuard */]] },
    { path: 'password/reset/:token', component: __WEBPACK_IMPORTED_MODULE_3__reset_password_reset_password_component__["a" /* ResetPasswordComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_4__guards_guest_guard_service__["a" /* GuestGuard */]] },
]);


/***/ }),

/***/ "./src/app/auth/auth.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_modal_modal_service__ = __webpack_require__("./src/app/shared/modal/modal.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__web_player_users_user_library_user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__web_player_playlists_user_playlists_service__ = __webpack_require__("./src/app/web-player/playlists/user-playlists.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var AuthService = (function () {
    /**
     * AuthService Constructor.
     */
    function AuthService(httpClient, currentUser, router, route, toast, zone, modal, userLibrary, userPlaylists) {
        this.httpClient = httpClient;
        this.currentUser = currentUser;
        this.router = router;
        this.route = route;
        this.toast = toast;
        this.zone = zone;
        this.modal = modal;
        this.userLibrary = userLibrary;
        this.userPlaylists = userPlaylists;
        /**
         * Frontend route customers should be redirected to after successful login.
         */
        this.redirectUri = '/';
        /**
         * Frontend route agents should be redirected to after successful login.
         */
        this.agentRedirectUri = '/';
    }
    /**
     * Log user in with specified credentials.
     */
    AuthService.prototype.login = function (credentials) {
        return this.httpClient.post('auth/login', credentials);
    };
    /**
     * Register a new user.
     */
    AuthService.prototype.register = function (credentials) {
        return this.httpClient.post('auth/register', credentials);
    };
    /**
     * Log current user out.
     */
    AuthService.prototype.logOut = function () {
        var _this = this;
        this.httpClient.post('auth/logout').subscribe(function () {
            _this.currentUser.clear();
            _this.userLibrary.reset();
            _this.userPlaylists.reset();
            _this.router.navigate(['/login']);
        });
    };
    /**
     * Send password reset link to user via email.
     */
    AuthService.prototype.sendPasswordResetLink = function (credentials) {
        return this.httpClient.post('auth/password/email', credentials);
    };
    /**
     * Reset user password.
     */
    AuthService.prototype.resetPassword = function (credentials) {
        return this.httpClient.post('auth/password/reset', credentials);
    };
    /**
     * Get URI user should be redirect to after login.
     */
    AuthService.prototype.getRedirectUri = function () {
        if (this.currentUser.redirectUri) {
            var uri = this.currentUser.redirectUri;
            this.currentUser.redirectUri = null;
            return uri;
        }
        else if (this.currentUser.hasPermission('tickets.view')) {
            return this.agentRedirectUri;
        }
        else {
            return this.redirectUri;
        }
    };
    AuthService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__shared_app_http_client_service__["a" /* AppHttpClient */],
            __WEBPACK_IMPORTED_MODULE_1__current_user__["a" /* CurrentUser */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_3__shared_toast_toast_service__["a" /* ToastService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_4__shared_modal_modal_service__["a" /* ModalService */],
            __WEBPACK_IMPORTED_MODULE_6__web_player_users_user_library_user_library_service__["a" /* UserLibrary */],
            __WEBPACK_IMPORTED_MODULE_7__web_player_playlists_user_playlists_service__["a" /* UserPlaylists */]])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/auth/current-user.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CurrentUser; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_types_models_User__ = __webpack_require__("./src/app/shared/types/models/User.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var CurrentUser = (function () {
    function CurrentUser() {
    }
    /**
     * Get property of currently logged in user model.
     */
    CurrentUser.prototype.get = function (prop) {
        return this.current && this.current[prop];
    };
    /**
     * Get model of currently logged in user.
     */
    CurrentUser.prototype.getModel = function () {
        return Object.assign({}, this.current);
    };
    /**
     * Set property of currently logged in user object.
     */
    CurrentUser.prototype.set = function (key, value) {
        this.current[key] = value;
    };
    /**
     * Set a new current user.
     */
    CurrentUser.prototype.assignCurrent = function (model) {
        this.clear();
        if (model) {
            this.current = model;
        }
    };
    /**
     * Check if current user has all specified permissions.
     */
    CurrentUser.prototype.hasPermissions = function (permissions) {
        var _this = this;
        return permissions.filter(function (permission) {
            return !_this.hasPermission(permission);
        }).length === 0;
    };
    /**
     * Check if user has given permission.
     */
    CurrentUser.prototype.hasPermission = function (permission) {
        var permissions = this.getAllPermissions();
        return permissions['admin'] || permissions[permission];
    };
    /**
     * Check if current user is logged in.
     */
    CurrentUser.prototype.isLoggedIn = function () {
        return this.get('id') > 0;
    };
    /**
     * Check if current user is following specified user.
     */
    CurrentUser.prototype.isFollowing = function (user) {
        if (!this.current.followed_users)
            return;
        return this.current.followed_users.findIndex(function (curr) { return curr.id === user.id; }) > -1;
    };
    /**
     * Follow specified user.
     */
    CurrentUser.prototype.addFollower = function (user) {
        this.current.followed_users.push(user);
    };
    /**
     * Unfollow specified user.
     */
    CurrentUser.prototype.removeFollower = function (user) {
        var i = this.current.followed_users.findIndex(function (curr) { return curr.id === user.id; });
        this.current.followed_users.splice(i, 1);
    };
    /**
     * Clear current user information.
     */
    CurrentUser.prototype.clear = function () {
        this.current = new __WEBPACK_IMPORTED_MODULE_1__shared_types_models_User__["a" /* User */]({ groups: [this.guestsGroup] });
        this.cachedPermissions = null;
    };
    /**
     * Init CurrentUser service.
     */
    CurrentUser.prototype.init = function (params) {
        this.guestsGroup = params.guestsGroup;
        this.assignCurrent(params.user);
        this.artist = params.artist;
    };
    /**
     * Get flattened array of permissions from all groups user belongs to.
     */
    CurrentUser.prototype.getAllPermissions = function () {
        if (this.cachedPermissions) {
            return this.cachedPermissions;
        }
        var groups = this.get('groups') || [], permissions = {};
        groups.forEach(function (group) {
            if (group)
                Object.assign(permissions, group.permissions);
        });
        this.cachedPermissions = Object.assign(permissions, this.get('permissions') || {});
        return this.cachedPermissions;
    };
    CurrentUser.prototype.isArtist = function () {
        return this.hasPermission('albums.create') && !this.hasPermission('artists.create');
    };
    CurrentUser = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], CurrentUser);
    return CurrentUser;
}());



/***/ }),

/***/ "./src/app/auth/forgot-password/forgot-password.component.html":
/***/ (function(module, exports) {

module.exports = "<form class=\"auth-page\" id=\"auth-page\" (ngSubmit)=\"sendPasswordResetLink()\">\n    <div class=\"auth-panel\">\n        <loading-indicator class=\"overlay\" [isVisible]=\"isLoading\"></loading-indicator>\n\n        <a class=\"logo\" [routerLink]=\"['/']\"><img [src]=\"settings.get('branding.site_logo')\" alt=\"logo\"></a>\n\n        <div class=\"general-error\" *ngIf=\"errors.general\">{{errors.general}}</div>\n\n        <div class=\"page-header\">\n            <div class=\"big-text\" trans>Forgot Password?</div>\n            <div class=\"small-text\" trans>Enter your email address below and we will send you a link to reset it.</div>\n        </div>\n\n        <div class=\"page-content\">\n            <div class=\"input-container\">\n                <label for=\"email\" class=\"hidden\"></label>\n                <input type=\"email\" [(ngModel)]=\"model.email\" name=\"email\" id=\"email\" required placeholder=\"Email\" trans-placeholder>\n                <p class=\"error email-error\" *ngIf=\"errors.email\">{{errors.email}}</p>\n            </div>\n\n            <div class=\"back-and-reset-row\">\n                <a class=\"button cancel back-button\" [routerLink]=\"['/login']\" trans>Back</a>\n                <button class=\"button primary submit-button\" type=\"submit\" trans>Send</button>\n            </div>\n        </div>\n    </div>\n</form>"

/***/ }),

/***/ "./src/app/auth/forgot-password/forgot-password.component.scss":
/***/ (function(module, exports) {

module.exports = "forgot-password {\n  display: block;\n  height: 100%; }\n  forgot-password > .auth-page > .auth-panel {\n    width: 800px; }\n  forgot-password > .auth-page > .auth-panel > .page-header {\n      text-align: center; }\n  forgot-password > .auth-page > .auth-panel > .page-header > .big-text {\n        font-size: 2rem;\n        margin-bottom: 5px; }\n  forgot-password > .auth-page > .auth-panel > .page-header > .small-text {\n        font-size: 1.5rem;\n        margin-bottom: 30px; }\n  forgot-password > .auth-page > .auth-panel .back-and-reset-row {\n      text-align: right;\n      margin-top: 20px; }\n"

/***/ }),

/***/ "./src/app/auth/forgot-password/forgot-password.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ForgotPasswordComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__auth_service__ = __webpack_require__("./src/app/auth/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ForgotPasswordComponent = (function () {
    /**
     * ForgotPasswordComponent Constructor.
     */
    function ForgotPasswordComponent(auth, settings, toast, router) {
        this.auth = auth;
        this.settings = settings;
        this.toast = toast;
        this.router = router;
        /**
         * ForgotPassword credentials model.
         */
        this.model = {};
        /**
         * Errors returned from backend.
         */
        this.errors = {};
        /**
         * Whether backend request is in progress currently.
         */
        this.isLoading = false;
    }
    /**
     * Log user in and redirect to default auth user page.
     */
    ForgotPasswordComponent.prototype.sendPasswordResetLink = function () {
        var _this = this;
        this.isLoading = true;
        this.auth.sendPasswordResetLink(this.model).subscribe(function (response) {
            _this.toast.show(response.data);
            _this.router.navigate(['/login']);
        }, function (response) {
            _this.errors = response['messages'];
            _this.isLoading = false;
        });
    };
    ForgotPasswordComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'forgot-password',
            template: __webpack_require__("./src/app/auth/forgot-password/forgot-password.component.html"),
            styles: [__webpack_require__("./src/app/auth/forgot-password/forgot-password.component.scss")],
            providers: [__WEBPACK_IMPORTED_MODULE_1__auth_service__["a" /* AuthService */]],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_2__shared_toast_toast_service__["a" /* ToastService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_router__["e" /* Router */]])
    ], ForgotPasswordComponent);
    return ForgotPasswordComponent;
}());



/***/ }),

/***/ "./src/app/auth/login/login.component.html":
/***/ (function(module, exports) {

module.exports = "<form class=\"auth-page\" id=\"auth-page\" (ngSubmit)=\"login()\">\n    <div class=\"many-inputs auth-panel\">\n        <loading-indicator class=\"overlay\" [isVisible]=\"isLoading\"></loading-indicator>\n\n        <a class=\"logo\" [routerLink]=\"['/']\"><img [src]=\"settings.get('branding.site_logo')\" alt=\"logo\"></a>\n\n        <div class=\"general-error\" *ngIf=\"errors.general\">{{errors.general}}</div>\n\n        <div class=\"input-container\">\n            <label for=\"username\" class=\"hidden\"></label>\n            <input type=\"text\" [(ngModel)]=\"model.username\" name=\"username\" id=\"username\" required placeholder=\"Username\" trans-placeholder>\n            <p class=\"error username-error\" *ngIf=\"errors.username\">{{errors.username}}</p>\n        </div>\n\n        <div class=\"input-container\">\n            <label for=\"password\" class=\"hidden\"></label>\n            <input type=\"password\" [(ngModel)]=\"model.password\" name=\"password\" id=\"password\" required placeholder=\"Password\" trans-placeholder>\n            <a class=\"forgot-password\" [routerLink]=\"['/forgot-password']\" trans>Forgot?</a>\n            <p class=\"error password-error\" *ngIf=\"errors.password\">{{errors.password}}</p>\n        </div>\n\n        <div class=\"remember-and-login-row\">\n            <div class=\"remember-me-checkbox\">\n                <input type=\"checkbox\" class=\"pretty-checkbox\" name=\"remember\" id=\"remember\" [(ngModel)]=\"model.remember\">\n                <label for=\"remember\" trans>Remember Me</label>\n            </div>\n\n            <div class=\"login-button\">\n                <button class=\"button primary submit-button\" type=\"submit\" trans>Login</button>\n            </div>\n        </div>\n\n        <ng-container *ngIf=\"!settings.get('registration.disable')\">\n            <p class=\"info-row\">\n                <span trans>Don't have an account?</span>\n                <a class=\"register-link\" [routerLink]=\"['/register']\" trans>Register here.</a>\n            </p>\n\n            <div class=\"social-icons center\">\n                <button type=\"button\" (click)=\"socialAuth.loginWith('facebook')\" *ngIf=\"settings.get('social.facebook.enable')\" class=\"social-icon no-style facebook\" tooltip=\"Login with facebook\">\n                    <img src=\"{{settings.get('base_url')+'/assets/images/social-icons/facebook.png'}}\">\n                </button>\n                <button type=\"button\" (click)=\"socialAuth.loginWith('google')\" *ngIf=\"settings.get('social.google.enable')\" class=\"social-icon no-style googleplus\" tooltip=\"Login with google\">\n                    <img src=\"{{settings.get('base_url')+'/assets/images/social-icons/google-plus.png'}}\">\n                </button>\n                <button type=\"button\" (click)=\"socialAuth.loginWith('twitter')\" *ngIf=\"settings.get('social.twitter.enable')\" class=\"social-icon no-style twitter\" tooltip=\"Login with twitter\">\n                    <img src=\"{{settings.get('base_url')+'/assets/images/social-icons/twitter.png'}}\">\n                </button>\n            </div>\n        </ng-container>\n    </div>\n</form>\n\n"

/***/ }),

/***/ "./src/app/auth/login/login.component.scss":
/***/ (function(module, exports) {

module.exports = "login {\n  display: block;\n  height: 100%; }\n  login > .auth-page .remember-and-login-row {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex; }\n  login > .auth-page .remember-and-login-row > .remember-me-checkbox {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      padding-top: 8px; }\n  login > .auth-page .remember-and-login-row > .login-button {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      text-align: right; }\n  login > .auth-page .info-row {\n    margin: 35px 0;\n    text-align: center;\n    color: inherit; }\n  login > .auth-page .social-icons {\n    text-align: center; }\n"

/***/ }),

/***/ "./src/app/auth/login/login.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__social_auth_service__ = __webpack_require__("./src/app/auth/social-auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_service__ = __webpack_require__("./src/app/auth/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__bootstrapper_service__ = __webpack_require__("./src/app/bootstrapper.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var LoginComponent = (function () {
    /**
     * LoginComponent Constructor.
     */
    function LoginComponent(auth, socialAuth, settings, router, user, bootstrapper) {
        this.auth = auth;
        this.socialAuth = socialAuth;
        this.settings = settings;
        this.router = router;
        this.user = user;
        this.bootstrapper = bootstrapper;
        /**
         * Login credentials model.
         */
        this.model = { remember: true };
        /**
         * Errors returned from backend.
         */
        this.errors = {};
        /**
         * Whether backend request is in progress currently.
         */
        this.isLoading = false;
    }
    /**
     * Log user in and redirect to default auth user page.
     */
    LoginComponent.prototype.login = function () {
        var _this = this;
        this.isLoading = true;
        this.auth.login(this.model).subscribe(function (response) {
            _this.bootstrapper.bootstrap(response.data);
            //TODO: Move this into auth service, so other components can re-use
            _this.router.navigate([_this.auth.getRedirectUri()]).then(function (navigated) {
                _this.isLoading = false;
                if (!navigated) {
                    _this.router.navigate([_this.auth.getRedirectUri()]);
                }
            });
        }, function (response) {
            _this.errors = response['messages'];
            _this.isLoading = false;
        });
    };
    LoginComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'login',
            template: __webpack_require__("./src/app/auth/login/login.component.html"),
            styles: [__webpack_require__("./src/app/auth/login/login.component.scss")],
            providers: [__WEBPACK_IMPORTED_MODULE_2__auth_service__["a" /* AuthService */]],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1__social_auth_service__["a" /* SocialAuthService */],
            __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_3__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__current_user__["a" /* CurrentUser */],
            __WEBPACK_IMPORTED_MODULE_6__bootstrapper_service__["a" /* Bootstrapper */]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/auth/register/register.component.html":
/***/ (function(module, exports) {

module.exports = "<form class=\"auth-page\" id=\"auth-page\" (ngSubmit)=\"register()\">\n    <div class=\"many-inputs auth-panel\">\n\n        <loading-indicator class=\"overlay\" [isVisible]=\"isLoading\"></loading-indicator>\n\n        <a class=\"logo\" [routerLink]=\"['/']\"><img [src]=\"settings.get('branding.site_logo')\" alt=\"logo\"></a>\n\n        <div class=\"general-error\" *ngIf=\"errors.general\">{{errors.general}}</div>\n\n        <div class=\"input-container\">\n            <label for=\"name\" class=\"hidden\" trans>Name</label>\n            <input type=\"text\" [(ngModel)]=\"model.name\" name=\"name\" id=\"name\" required placeholder=\"Name\" trans-placeholder>\n            <p class=\"error name-error\" *ngIf=\"errors.name\">{{errors.name}}</p>\n        </div>\n\n        <div class=\"input-container\">\n            <label for=\"username\" class=\"hidden\" trans>Username</label>\n            <input type=\"text\" [(ngModel)]=\"model.username\" name=\"username\" id=\"username\" required placeholder=\"Username\" trans-placeholder>\n            <p class=\"error username-error\" *ngIf=\"errors.username\">{{errors.username}}</p>\n        </div>\n\n        <div class=\"input-container\">\n            <label for=\"email\" class=\"hidden\" trans>Email</label>\n            <input type=\"email\" [(ngModel)]=\"model.email\" name=\"email\" id=\"email\" required placeholder=\"Email\" trans-placeholder>\n            <p class=\"error email-error\" *ngIf=\"errors.email\">{{errors.email}}</p>\n        </div>\n\n        <div class=\"input-container\">\n            <label for=\"password\" class=\"hidden\" trans>Password</label>\n            <input type=\"password\" [(ngModel)]=\"model.password\" name=\"password\" id=\"password\" required placeholder=\"Password\" trans-placeholder>\n            <p class=\"error password-error\" *ngIf=\"errors.password\">{{errors.password}}</p>\n        </div>\n\n        <div class=\"input-container\">\n            <label for=\"password_confirmation\" class=\"hidden\" trans>Confirm Password</label>\n            <input type=\"password\" [(ngModel)]=\"model.password_confirmation\" name=\"password_confirmation\" id=\"password_confirmation\" required placeholder=\"Confirm Password\" trans-placeholder>\n        </div>\n\n        <div class=\"social-icons-and-register-row\">\n            <div class=\"social-icons\">\n                <button type=\"button\" (click)=\"socialAuth.loginWith('facebook')\" *ngIf=\"settings.get('social.facebook.enable')\" class=\"social-icon no-style facebook\" tooltip=\"Login with facebook\">\n                    <img src=\"{{settings.get('base_url')+'/assets/images/social-icons/facebook.png'}}\">\n                </button>\n                <button type=\"button\" (click)=\"socialAuth.loginWith('google')\" *ngIf=\"settings.get('social.google.enable')\" class=\"social-icon no-style googleplus\" tooltip=\"Login with google\">\n                    <img src=\"{{settings.get('base_url')+'/assets/images/social-icons/google-plus.png'}}\">\n                </button>\n                <button type=\"button\" (click)=\"socialAuth.loginWith('twitter')\" *ngIf=\"settings.get('social.twitter.enable')\" class=\"social-icon no-style twitter\" tooltip=\"Login with twitter\">\n                    <img src=\"{{settings.get('base_url')+'/assets/images/social-icons/twitter.png'}}\">\n                </button>\n            </div>\n\n            <div class=\"register-button-container\">\n                <button class=\"button primary register-button\" type=\"submit\" trans>Register</button>\n            </div>\n        </div>\n\n        <p class=\"info-row\">\n            <span trans>Already have an account?</span>\n            <a class=\"login-link\" [routerLink]=\"['/login']\" trans>Login in here.</a>\n        </p>\n    </div>\n</form>\n"

/***/ }),

/***/ "./src/app/auth/register/register.component.scss":
/***/ (function(module, exports) {

module.exports = "register {\n  display: block;\n  height: 100%; }\n  register > .auth-page .social-icons-and-register-row {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex; }\n  register > .auth-page .social-icons-and-register-row.social-icons-hidden .register-button {\n      width: 100%; }\n  register > .auth-page .social-icons-and-register-row > .social-buttons {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto; }\n  register > .auth-page .social-icons-and-register-row > .register-button-container {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      text-align: right; }\n  register > .auth-page .info-row {\n    margin: 35px 0 5px;\n    text-align: center; }\n  register .login-with-envato {\n    margin-top: 30px; }\n"

/***/ }),

/***/ "./src/app/auth/register/register.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegisterComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__auth_service__ = __webpack_require__("./src/app/auth/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__social_auth_service__ = __webpack_require__("./src/app/auth/social-auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var RegisterComponent = (function () {
    /**
     * RegisterComponent Constructor.
     */
    function RegisterComponent(auth, socialAuth, settings, user, router, toast) {
        this.auth = auth;
        this.socialAuth = socialAuth;
        this.settings = settings;
        this.user = user;
        this.router = router;
        this.toast = toast;
        /**
         * Register credentials model.
         */
        this.model = {};
        /**
         * Errors returned from backend.
         */
        this.errors = {};
        /**
         * Whether backend request is in progress currently.
         */
        this.isLoading = false;
    }
    /**
     * Register user and redirect to default authenticated user page.
     */
    RegisterComponent.prototype.register = function () {
        var _this = this;
        this.isLoading = true;
        this.auth.register(this.model).subscribe(function (response) {
            _this.isLoading = false;
            _this.toast.show('Your account has been successfully created.');
            _this.router.navigate(['/login']);
            // if (this.settings.get('require_email_confirmation')) {
            //     return this.toast.show('We have sent you an email with instructions on how to activate your account.');
            // }
            // this.user.assignCurrent(response.data);
            // this.router.navigate([this.auth.getRedirectUri()]);
        }, function (response) {
            _this.errors = response['messages'];
            _this.isLoading = false;
        });
    };
    RegisterComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'register',
            template: __webpack_require__("./src/app/auth/register/register.component.html"),
            styles: [__webpack_require__("./src/app/auth/register/register.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_2__social_auth_service__["a" /* SocialAuthService */],
            __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_3__current_user__["a" /* CurrentUser */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__shared_toast_toast_service__["a" /* ToastService */]])
    ], RegisterComponent);
    return RegisterComponent;
}());



/***/ }),

/***/ "./src/app/auth/request-extra-credentials-modal/request-extra-credentials-modal.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"backdrop\"></div>\n\n<form class=\"modal-content\" (ngSubmit)=\"confirm()\" customScrollbar>\n    <div class=\"modal-header\">\n        <h2 class=\"modal-title\" trans>Credentials Required</h2>\n        <button type=\"button\" (click)=\"close()\" class=\"close-button no-style icon-button\"><svg-icon name=\"close\"></svg-icon></button>\n    </div>\n\n    <div class=\"many-inputs\">\n        <div class=\"input-container email-address-container\" *ngIf=\"shouldCredentialBeRequested('email')\">\n            <label for=\"email\" trans>Email Address</label>\n            <input type=\"email\" name=\"email\" id=\"email\" [(ngModel)]=\"model.email\" required>\n            <div class=\"error\" *ngIf=\"errors.email\">{{errors.email}}</div>\n            <p trans>We need your email address to create an account for you, please enter it above.</p>\n        </div>\n\n        <div class=\"input-container password-container\" *ngIf=\"shouldCredentialBeRequested('password')\">\n            <label for=\"password\" trans>Password</label>\n            <input type=\"password\" name=\"password\" id=\"password\" [(ngModel)]=\"model.password\" required>\n            <div class=\"error\" *ngIf=\"errors.password\">{{errors.password}}</div>\n            <p trans>An account with this email address already exists, if you want to connect the two accounts please enter existing accounts password above.</p>\n        </div>\n    </div>\n\n    <div class=\"buttons right\">\n        <button (click)=\"close()\" type=\"button\" class=\"button cancel\" trans>Cancel</button>\n        <button type=\"submit\" class=\"button primary submit-button\" trans>Connect</button>\n    </div>\n</form>"

/***/ }),

/***/ "./src/app/auth/request-extra-credentials-modal/request-extra-credentials-modal.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RequestExtraCredentialsModalComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_modal_base_modal__ = __webpack_require__("./src/app/shared/modal/base-modal.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var RequestExtraCredentialsModalComponent = (function (_super) {
    __extends(RequestExtraCredentialsModalComponent, _super);
    /**
     * RequestExtraCredentialsModalComponent Constructor.
     */
    function RequestExtraCredentialsModalComponent(elementRef, renderer, zone) {
        var _this = _super.call(this, elementRef, renderer) || this;
        _this.elementRef = elementRef;
        _this.renderer = renderer;
        _this.zone = zone;
        /**
         * Model for extra credentials.
         */
        _this.model = {};
        return _this;
    }
    /**
     * Should we request specified credential from user.
     */
    RequestExtraCredentialsModalComponent.prototype.shouldCredentialBeRequested = function (name) {
        return this.credentialsToRequest.indexOf(name) > -1;
    };
    /**
     * Set given params on component and show modal.
     */
    RequestExtraCredentialsModalComponent.prototype.show = function (params) {
        var _this = this;
        this.zone.run(function () {
            _this.credentialsToRequest = params['credentials'];
        });
        _super.prototype.show.call(this, params);
    };
    /**
     * Submit extra credentials.
     */
    RequestExtraCredentialsModalComponent.prototype.confirm = function () {
        this.onDone.emit(Object.assign({}, this.model));
    };
    /**
     * Close modal and reset it to initial state.
     */
    RequestExtraCredentialsModalComponent.prototype.close = function () {
        this.model = {};
        this.errors = {};
        this.credentialsToRequest = [];
        _super.prototype.close.call(this);
    };
    RequestExtraCredentialsModalComponent.prototype.handleErrors = function (response) {
        var _this = this;
        //we need to request user extra credentials again, for example
        //if email address user supplied previously already exists
        //we might need to request password for account with that email
        if (response['messages']['email']) {
            this.credentialsToRequest.push('password');
        }
        this.zone.run(function () {
            _super.prototype.handleErrors.call(_this, response);
        });
    };
    RequestExtraCredentialsModalComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'request-extra-credentials-modal',
            template: __webpack_require__("./src/app/auth/request-extra-credentials-modal/request-extra-credentials-modal.component.html"),
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]])
    ], RequestExtraCredentialsModalComponent);
    return RequestExtraCredentialsModalComponent;
}(__WEBPACK_IMPORTED_MODULE_1__shared_modal_base_modal__["a" /* BaseModalClass */]));



/***/ }),

/***/ "./src/app/auth/reset-password/reset-password.component.html":
/***/ (function(module, exports) {

module.exports = "<form class=\"auth-page\" id=\"auth-page\" (ngSubmit)=\"resetPassword()\">\n    <div class=\"many-inputs auth-panel\">\n        <loading-indicator class=\"overlay\" [isVisible]=\"isLoading\"></loading-indicator>\n\n        <a class=\"logo\" [routerLink]=\"['/']\"><img [src]=\"settings.get('branding.site_logo')\" alt=\"logo\"></a>\n\n        <div class=\"input-container\">\n            <label for=\"email\" class=\"hidden\" trans>Email</label>\n            <input type=\"email\" [(ngModel)]=\"model.email\" name=\"email\" id=\"email\" required placeholder=\"Email\" trans-placeholder>\n            <p class=\"error email-error\" *ngIf=\"errors.email\">{{errors.email}}</p>\n        </div>\n\n        <div class=\"input-container\">\n            <label for=\"password\" class=\"hidden\" trans>New Password</label>\n            <input type=\"password\" [(ngModel)]=\"model.password\" name=\"password\" id=\"password\" required placeholder=\"Password\" trans-placeholder>\n            <p class=\"error password-error\" *ngIf=\"errors.password\">{{errors.password}}</p>\n        </div>\n\n        <div class=\"input-container\">\n            <label for=\"password_confirmation\" class=\"hidden\" trans>Confirm New Password</label>\n            <input type=\"password\" [(ngModel)]=\"model.password_confirmation\" name=\"password_confirmation\" id=\"password_confirmation\" required placeholder=\"Confirm Password\" trans-placeholder>\n        </div>\n\n        <div class=\"right\">\n            <button class=\"button primary submit-button\" type=\"submit\" trans>Reset Password</button>\n        </div>\n    </div>\n</form>\n"

/***/ }),

/***/ "./src/app/auth/reset-password/reset-password.component.scss":
/***/ (function(module, exports) {

module.exports = "reset-password {\n  display: block;\n  height: 100%; }\n"

/***/ }),

/***/ "./src/app/auth/reset-password/reset-password.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ResetPasswordComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__auth_service__ = __webpack_require__("./src/app/auth/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ResetPasswordComponent = (function () {
    /**
     * ResetPasswordComponent Constructor.
     */
    function ResetPasswordComponent(auth, settings, route, router, toast, currentUser) {
        this.auth = auth;
        this.settings = settings;
        this.route = route;
        this.router = router;
        this.toast = toast;
        this.currentUser = currentUser;
        /**
         * Password reset credentials model.
         */
        this.model = {};
        /**
         * Errors returned from backend.
         */
        this.errors = {};
        /**
         * Whether backend request is in progress currently.
         */
        this.isLoading = false;
    }
    /**
     * Reset user password.
     */
    ResetPasswordComponent.prototype.resetPassword = function () {
        var _this = this;
        this.isLoading = true;
        this.model.token = this.route.snapshot.params['token'];
        this.auth.resetPassword(this.model).subscribe(function (response) {
            _this.toast.show('Your password has been reset.');
            _this.currentUser.assignCurrent(response.data);
            _this.router.navigate([_this.auth.getRedirectUri()]);
        }, function (response) {
            _this.errors = response['messages'];
            _this.isLoading = false;
        });
    };
    ResetPasswordComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'reset-password',
            template: __webpack_require__("./src/app/auth/reset-password/reset-password.component.html"),
            styles: [__webpack_require__("./src/app/auth/reset-password/reset-password.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__shared_toast_toast_service__["a" /* ToastService */],
            __WEBPACK_IMPORTED_MODULE_4__current_user__["a" /* CurrentUser */]])
    ], ResetPasswordComponent);
    return ResetPasswordComponent;
}());



/***/ }),

/***/ "./src/app/auth/social-auth.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SocialAuthService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__auth_service__ = __webpack_require__("./src/app/auth/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_modal_modal_service__ = __webpack_require__("./src/app/shared/modal/modal.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__request_extra_credentials_modal_request_extra_credentials_modal_component__ = __webpack_require__("./src/app/auth/request-extra-credentials-modal/request-extra-credentials-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__shared_translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var SocialAuthService = (function () {
    /**
     * SocialAuthService Constructor.
     */
    function SocialAuthService(httpClient, currentUser, router, settings, toast, auth, modal, i18n) {
        this.httpClient = httpClient;
        this.currentUser = currentUser;
        this.router = router;
        this.settings = settings;
        this.toast = toast;
        this.auth = auth;
        this.modal = modal;
        this.i18n = i18n;
        /**
         * Social login popup window height.
         */
        this.windowHeight = 500;
        /**
         * Social login popup window width.
         */
        this.windowWidth = 600;
        this.listenForMessageFromPopup();
    }
    /**
     * Log user in with specified social account.
     */
    SocialAuthService.prototype.loginWith = function (serviceName) {
        return this.openNewSocialAuthWindow('secure/auth/social/' + serviceName + '/login');
    };
    /**
     * Connect specified social account to current user.
     */
    SocialAuthService.prototype.connect = function (serviceName) {
        return this.openNewSocialAuthWindow('secure/auth/social/' + serviceName + '/connect');
    };
    /**
     * Disconnect specified social account from current user.
     */
    SocialAuthService.prototype.disconnect = function (serviceName) {
        return this.httpClient.post('auth/social/' + serviceName + '/disconnect');
    };
    /**
     * Handle social login callback, based on returned status.
     */
    SocialAuthService.prototype.socialLoginCallback = function (status, data) {
        if (data === void 0) { data = null; }
        if (!status)
            return;
        switch (status.toUpperCase()) {
            case 'SUCCESS':
                this.currentUser.assignCurrent(data['user']);
                this.router.navigate([this.auth.getRedirectUri()]);
                break;
            case 'SUCCESS_CONNECTED':
                this.resolve && this.resolve(data.user);
                break;
            case 'ALREADY_LOGGED_IN':
                this.router.navigate([this.auth.getRedirectUri()]);
                break;
            case 'REQUEST_EXTRA_CREDENTIALS':
                this.showRequestExtraCredentialsModal({ credentials: data });
                break;
            case 'ERROR':
                var message = data ? data : this.i18n.t('An error occurred. Please try again later');
                this.toast.show(message, { delay: 6000, type: 'error' });
        }
    };
    ;
    /**
     * Open extra credentials modal and subscribe to modal events.
     */
    SocialAuthService.prototype.showRequestExtraCredentialsModal = function (config) {
        var _this = this;
        this.extraCredentialsModal = this.modal.show(__WEBPACK_IMPORTED_MODULE_6__request_extra_credentials_modal_request_extra_credentials_modal_component__["a" /* RequestExtraCredentialsModalComponent */], config);
        this.extraCredentialsModal.onDone.subscribe(function (credentials) { return _this.sendExtraCredentialsToBackend(credentials); });
    };
    /**
     * Send specified credentials to backend and handle success/error.
     */
    SocialAuthService.prototype.sendExtraCredentialsToBackend = function (data) {
        var _this = this;
        this.httpClient.post('auth/social/extra-credentials', data).subscribe(function (response) {
            _this.currentUser.assignCurrent(response['data']);
            _this.router.navigate([_this.auth.getRedirectUri()]);
            _this.extraCredentialsModal.close();
        }, this.extraCredentialsModal.handleErrors.bind(this.extraCredentialsModal));
    };
    /**
     * Open new browser window with given url.
     */
    SocialAuthService.prototype.openNewSocialAuthWindow = function (url) {
        var _this = this;
        var left = (screen.width / 2) - (this.windowWidth / 2);
        var top = (screen.height / 2) - (this.windowHeight / 2);
        return new Promise(function (resolve) {
            _this.resolve = resolve;
            window.open(url, 'Authenticate Account', 'menubar=0, location=0, toolbar=0, titlebar=0, status=0, scrollbars=1, width=' + _this.windowWidth + ', height=' + _this.windowHeight + ', ' + 'left=' + left + ', top=' + top);
        });
    };
    /**
     * Listen for "message" event from social login popup
     * window and call "socialLoginCallback" once received
     */
    SocialAuthService.prototype.listenForMessageFromPopup = function () {
        var _this = this;
        window.addEventListener('message', function (e) {
            if (_this.settings.getBaseUrl().indexOf(e.origin) === -1)
                return;
            _this.socialLoginCallback(e.data.status, e.data.callbackData);
        }, false);
    };
    SocialAuthService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_8__shared_app_http_client_service__["a" /* AppHttpClient */],
            __WEBPACK_IMPORTED_MODULE_2__current_user__["a" /* CurrentUser */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_9__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_3__shared_toast_toast_service__["a" /* ToastService */],
            __WEBPACK_IMPORTED_MODULE_4__auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_5__shared_modal_modal_service__["a" /* ModalService */],
            __WEBPACK_IMPORTED_MODULE_7__shared_translations_translations_service__["a" /* Translations */]])
    ], SocialAuthService);
    return SocialAuthService;
}());



/***/ }),

/***/ "./src/app/bootstrapper.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Bootstrapper; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__web_player_users_user_library_user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__web_player_playlists_user_playlists_service__ = __webpack_require__("./src/app/web-player/playlists/user-playlists.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var Bootstrapper = (function () {
    /**
     * Boostrapper constructor.
     */
    function Bootstrapper(injector) {
        this.injector = injector;
        this.http = this.injector.get(__WEBPACK_IMPORTED_MODULE_4__angular_common_http__["b" /* HttpClient */]);
        this.settings = this.injector.get(__WEBPACK_IMPORTED_MODULE_1__shared_settings_service__["a" /* Settings */]);
        this.currentUser = this.injector.get(__WEBPACK_IMPORTED_MODULE_2__auth_current_user__["a" /* CurrentUser */]);
        this.i18n = this.injector.get(__WEBPACK_IMPORTED_MODULE_3__shared_translations_translations_service__["a" /* Translations */]);
    }
    /**
     * Bootstrap application with data returned from server.
     */
    Bootstrapper.prototype.bootstrap = function (data) {
        var _this = this;
        if (!data)
            data = window['bootstrapData'];
        //if we have bootstrap data in global scope, pass
        //it to the app and return self resolving promise
        if (data) {
            this.handleData(data);
            return new Promise(function (resolve) { return resolve(); });
        }
        //fetch bootstrap data from backend and return promise that
        //resolves once request is complete and data is passed to the app
        return new Promise(function (resolve, reject) {
            var url = _this.settings.getBaseUrl() + 'secure/bootstrap-data';
            _this.http.get(url).subscribe(function (response) {
                _this.handleData(response['data']);
                resolve();
            }, function (error) {
                console.log('bootstrap error', error);
                reject();
            });
        });
    };
    /**
     * Handle specified bootstrap data.
     */
    Bootstrapper.prototype.handleData = function (encodedData) {
        //decode bootstrap data from server
        var data = JSON.parse(atob(encodedData));
        //set csrf token
        this.settings.csrfToken = data['csrf_token'];
        //set all settings returned from server
        this.settings.setMultiple(data['settings']);
        //set translations
        if (data['i18n']) {
            this.i18n.setLocalization(data['i18n']);
        }
        //set current user and default group for guests
        this.currentUser.init({
            guestsGroup: data['guests_group'],
            user: data['user'],
            artist: data['artist']
        });
        //set user library
        this.injector.get(__WEBPACK_IMPORTED_MODULE_5__web_player_users_user_library_user_library_service__["a" /* UserLibrary */]).setTrackIds(data.tracks);
        //set user playlists
        this.injector.get(__WEBPACK_IMPORTED_MODULE_6__web_player_playlists_user_playlists_service__["a" /* UserPlaylists */]).set(data.playlists);
    };
    Bootstrapper = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injector"]])
    ], Bootstrapper);
    return Bootstrapper;
}());



/***/ }),

/***/ "./src/app/guards/auth-guard.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthGuard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AuthGuard = (function () {
    function AuthGuard(currentUser, router) {
        this.currentUser = currentUser;
        this.router = router;
    }
    AuthGuard.prototype.canActivate = function (route, state) {
        return this.handle(state);
    };
    AuthGuard.prototype.canActivateChild = function (route, state) {
        return this.handle(state);
    };
    AuthGuard.prototype.handle = function (state) {
        if (this.currentUser.isLoggedIn()) {
            return true;
        }
        this.currentUser.redirectUri = state.url;
        this.router.navigate(['/login']);
        return false;
    };
    AuthGuard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__auth_current_user__["a" /* CurrentUser */], __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */]])
    ], AuthGuard);
    return AuthGuard;
}());



/***/ }),

/***/ "./src/app/guards/check-permissions-guard.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CheckPermissionsGuard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var CheckPermissionsGuard = (function () {
    function CheckPermissionsGuard(currentUser, router) {
        this.currentUser = currentUser;
        this.router = router;
    }
    CheckPermissionsGuard.prototype.canActivateChild = function (route, state) {
        var hasPermission = true;
        if (route.data['permissions']) {
            hasPermission = this.currentUser.hasPermissions(route.data['permissions']);
        }
        //user can access this route, bail
        if (hasPermission) {
            return true;
        }
        //redirect to login page, if user is not logged in
        if (!this.currentUser.isLoggedIn()) {
            this.currentUser.redirectUri = state.url;
            this.router.navigate(['login']);
        }
        return hasPermission;
    };
    CheckPermissionsGuard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__auth_current_user__["a" /* CurrentUser */], __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */]])
    ], CheckPermissionsGuard);
    return CheckPermissionsGuard;
}());



/***/ }),

/***/ "./src/app/guards/disable-route-guard.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DisableRouteGuard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var DisableRouteGuard = (function () {
    function DisableRouteGuard(settings, router) {
        this.settings = settings;
        this.router = router;
    }
    DisableRouteGuard.prototype.canActivate = function (route, state) {
        if (!this.settings.get('registration.disable')) {
            return true;
        }
        this.router.navigate(['/login']);
        return false;
    };
    DisableRouteGuard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__shared_settings_service__["a" /* Settings */], __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */]])
    ], DisableRouteGuard);
    return DisableRouteGuard;
}());



/***/ }),

/***/ "./src/app/guards/guest-guard.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GuestGuard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_auth_service__ = __webpack_require__("./src/app/auth/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var GuestGuard = (function () {
    function GuestGuard(currentUser, auth, router) {
        this.currentUser = currentUser;
        this.auth = auth;
        this.router = router;
    }
    GuestGuard.prototype.canActivate = function (route, state) {
        if (!this.currentUser.isLoggedIn()) {
            return true;
        }
        this.router.navigate([this.auth.getRedirectUri()]);
        return false;
    };
    GuestGuard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__auth_current_user__["a" /* CurrentUser */], __WEBPACK_IMPORTED_MODULE_3__auth_auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */]])
    ], GuestGuard);
    return GuestGuard;
}());



/***/ }),

/***/ "./src/app/pages/page.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"page-body article-body\" [innerHTML]=\"body\"></div>"

/***/ }),

/***/ "./src/app/pages/page.component.scss":
/***/ (function(module, exports) {

module.exports = "page {\n  display: block;\n  height: 100%;\n  width: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n  overflow: auto; }\n  page > .page-body {\n    padding: 25px; }\n"

/***/ }),

/***/ "./src/app/pages/page.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__admin_pages_pages_service__ = __webpack_require__("./src/app/admin/pages/pages.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_types_models_Page__ = __webpack_require__("./src/app/shared/types/models/Page.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PageComponent = (function () {
    /**
     * PagesComponent Constructor.
     */
    function PageComponent(pages, route, sanitizer, router) {
        this.pages = pages;
        this.route = route;
        this.sanitizer = sanitizer;
        this.router = router;
        /**
         * Page model instance.
         */
        this.page = new __WEBPACK_IMPORTED_MODULE_3__shared_types_models_Page__["a" /* Page */];
    }
    PageComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.subscribe(function (params) {
            var id = params.id || _this.route.snapshot.data.id;
            _this.pages.get(id).subscribe(function (page) {
                _this.page = page;
                _this.body = _this.sanitizer.bypassSecurityTrustHtml(page.body);
            }, function () {
                _this.router.navigate(['/404'], { skipLocationChange: true });
            });
        });
    };
    PageComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page',
            template: __webpack_require__("./src/app/pages/page.component.html"),
            styles: [__webpack_require__("./src/app/pages/page.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__admin_pages_pages_service__["a" /* Pages */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* DomSanitizer */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["e" /* Router */]])
    ], PageComponent);
    return PageComponent;
}());



/***/ }),

/***/ "./src/app/raven-error-handler.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RavenErrorHandler; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_raven_js__ = __webpack_require__("./node_modules/raven-js/src/singleton.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_raven_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_raven_js__);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var RavenErrorHandler = (function (_super) {
    __extends(RavenErrorHandler, _super);
    /**
     * RavenErrorHandler Constructor.
     */
    function RavenErrorHandler(settings, currentUser) {
        var _this = _super.call(this) || this;
        _this.settings = settings;
        _this.currentUser = currentUser;
        /**
         * Whether sentry error logger is already installed.
         */
        _this.installed = false;
        /**
         * Http error codes that should not be reported.
         */
        _this.dontReport = [
            401, 402, 403, 422
        ];
        return _this;
    }
    /**
     * Handle specified error.
     */
    RavenErrorHandler.prototype.handleError = function (err) {
        //if there's no error, or it's a validation error return, bail
        if (!err || (err.type === 'http' && this.dontReport.indexOf(err.status) > -1))
            return;
        _super.prototype.handleError.call(this, err);
        //sentry did not install properly
        if (!this.installSentry())
            return;
        __WEBPACK_IMPORTED_MODULE_1_raven_js__["captureException"](err.originalError || err);
    };
    /**
     * Install sentry error logger.
     */
    RavenErrorHandler.prototype.installSentry = function () {
        //already installed
        if (this.installed)
            return true;
        //no sentry public key is set
        if (!this.settings.has('logging.sentry_public'))
            return false;
        //install
        __WEBPACK_IMPORTED_MODULE_1_raven_js__["config"](this.settings.get('logging.sentry_public'), {
            release: this.settings.get('version'),
            extra: { user: this.currentUser.getModel() },
            ignoreErrors: [
                'requestAnimationFrame is not defined',
                "Object [object DOMWindow] has no method 'cancelAnimationFrame'",
                'Uncaught (in promise): [object Object]',
                '[object Object]',
                '{"isTrusted"\n true}'
            ]
        }).install();
        if (this.currentUser.isLoggedIn()) {
            __WEBPACK_IMPORTED_MODULE_1_raven_js__["setUserContext"]({
                id: this.currentUser.get('id'),
                username: this.currentUser.get('display_name'),
                email: this.currentUser.get('email')
            });
        }
        return this.installed = true;
    };
    return RavenErrorHandler;
}(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ErrorHandler"]));



/***/ }),

/***/ "./src/app/shared/app-http-client.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppHttpClient; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__http_error_handler_service__ = __webpack_require__("./src/app/shared/http-error-handler.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AppHttpClient = (function () {
    /**
     * AppHttpClient Constructor.
     */
    function AppHttpClient(httpClient, errorHandler) {
        this.httpClient = httpClient;
        this.errorHandler = errorHandler;
    }
    AppHttpClient_1 = AppHttpClient;
    AppHttpClient.prototype.get = function (uri, params) {
        var _this = this;
        if (params === void 0) { params = {}; }
        var httpParams = this.generateHttpParams(params);
        return this.httpClient.get(this.prefixUri(uri), { params: httpParams }).catch(function (err) { return _this.errorHandler.handle(err); });
    };
    AppHttpClient.prototype.post = function (uri, params) {
        var _this = this;
        if (params === void 0) { params = null; }
        return this.httpClient.post(this.prefixUri(uri), params).catch(function (err) { return _this.errorHandler.handle(err); });
    };
    AppHttpClient.prototype.put = function (uri, params) {
        var _this = this;
        if (params === void 0) { params = {}; }
        params['_method'] = 'PUT';
        return this.httpClient.post(this.prefixUri(uri), params).catch(function (err) { return _this.errorHandler.handle(err); });
    };
    AppHttpClient.prototype.delete = function (uri, params) {
        var _this = this;
        if (params === void 0) { params = {}; }
        params['_method'] = 'DELETE';
        return this.httpClient.post(this.prefixUri(uri), params).catch(function (err) { return _this.errorHandler.handle(err); });
    };
    /**
     * Prefix specified uri with backend API prefix.
     */
    AppHttpClient.prototype.prefixUri = function (uri) {
        return AppHttpClient_1.prefix + '/' + uri;
    };
    /**
     * Generate http params for GET request.
     */
    AppHttpClient.prototype.generateHttpParams = function (params) {
        var httpParams = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]();
        for (var key in params) {
            httpParams = httpParams.append(key, params[key]);
        }
        return httpParams;
    };
    AppHttpClient.prefix = 'secure';
    AppHttpClient = AppHttpClient_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["b" /* HttpClient */], __WEBPACK_IMPORTED_MODULE_2__http_error_handler_service__["a" /* HttpErrorHandler */]])
    ], AppHttpClient);
    return AppHttpClient;
    var AppHttpClient_1;
}());



/***/ }),

/***/ "./src/app/shared/browser-events.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BrowserEvents; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var BrowserEvents = (function () {
    function BrowserEvents() {
        /**
         * Keyboard key codes map.
         */
        this.keyCodes = {
            enter: 13,
            space: 32,
            escape: 27,
            delete: 46,
            arrowUp: 38,
            arrowRight: 39,
            arrowDown: 40,
            arrowLeft: 37,
            letters: {
                s: 83,
                n: 78,
                a: 65,
                t: 84,
                b: 66,
                c: 67,
                o: 79,
                p: 80,
                r: 82,
                f: 70,
            },
        };
        /**
         * Click event for every element inside app component.
         */
        this.globalClick$ = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Browser KeyDown event.
         */
        this.globalKeyDown$ = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    BrowserEvents_1 = BrowserEvents;
    /**
     * Create observables for document events.
     */
    BrowserEvents.prototype.subscribeToEvents = function (el, renderer) {
        var _this = this;
        this.renderer = renderer;
        //document click event
        this.renderer.listen(el, 'click', function (e) { return _this.globalClick$.emit(e); });
        //document keyDown event
        document.addEventListener('keydown', function (e) {
            if (BrowserEvents_1.userIsTyping())
                return;
            _this.globalKeyDown$.emit(e);
        });
    };
    /**
     * Check if an input or textarea element is currently focused.
     */
    BrowserEvents.userIsTyping = function () {
        var inputs = ['input', 'textarea'], tagName = document.activeElement.tagName;
        if (!tagName)
            return true;
        return inputs.indexOf(tagName.toLowerCase()) > -1;
    };
    BrowserEvents = BrowserEvents_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], BrowserEvents);
    return BrowserEvents;
    var BrowserEvents_1;
}());



/***/ }),

/***/ "./src/app/shared/colorpicker/colorpicker.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ColorPicker; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ColorPicker = (function () {
    function ColorPicker() {
    }
    /**
     * Show color picker and return promise
     * that resolves to user selected color.
     */
    ColorPicker.prototype.show = function () {
        return new Promise(function (resolve) {
            var el = document.createElement('input');
            el.setAttribute('type', 'color');
            el.addEventListener('change', function () {
                resolve(el.value);
                el.remove();
            });
            el.click();
        });
    };
    ColorPicker = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], ColorPicker);
    return ColorPicker;
}());



/***/ }),

/***/ "./src/app/shared/custom-homepage.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomHomepage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_page_component__ = __webpack_require__("./src/app/pages/page.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var CustomHomepage = (function () {
    function CustomHomepage(router, settings) {
        this.router = router;
        this.settings = settings;
        this.defaultComponents = [
            { path: 'login', redirectTo: '/login', pathMatch: 'full' },
            { path: 'register', redirectTo: '/register', pathMatch: 'full' },
        ];
    }
    CustomHomepage.prototype.select = function (userRoutes) {
        if (userRoutes === void 0) { userRoutes = []; }
        this.defaultComponents = this.defaultComponents.concat(userRoutes);
        var type = this.settings.get('homepage.type', 'default'), value = this.settings.get('homepage.value');
        switch (type) {
            case 'default':
                return;
            case 'component':
                return this.setComponentAsHomepage(value);
            case 'page':
                return this.setCustomPageAsHomepage(value);
        }
    };
    CustomHomepage.prototype.setComponentAsHomepage = function (name) {
        var route = this.defaultComponents.find(function (comp) { return comp.path === name; });
        this.addRoute(route);
    };
    CustomHomepage.prototype.setCustomPageAsHomepage = function (id) {
        var route = { component: __WEBPACK_IMPORTED_MODULE_3__pages_page_component__["a" /* PageComponent */], data: { id: id } };
        this.addRoute(route);
    };
    CustomHomepage.prototype.getParentHomeRoute = function () {
        return this.router.config.find(function (route) {
            return route.data && route.data.name === 'parent-home-route';
        });
    };
    CustomHomepage.prototype.addRoute = function (route) {
        var parent = this.getParentHomeRoute();
        route = this.prepareRoute(route);
        //remove already existing home route
        var i = parent.children.findIndex(function (route) { return route.path === ''; });
        //add new route specified by user
        if (i > -1) {
            parent.children[i] = route;
        }
        else {
            parent.children.unshift(route);
        }
    };
    CustomHomepage.prototype.prepareRoute = function (route) {
        route.path = '';
        if (!route.data)
            route.data = {};
        route.data.name = 'home';
        return route;
    };
    CustomHomepage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */], __WEBPACK_IMPORTED_MODULE_2__settings_service__["a" /* Settings */]])
    ], CustomHomepage);
    return CustomHomepage;
}());



/***/ }),

/***/ "./src/app/shared/custom-menu/custom-menu.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"nav-item custom-menu-item\" *ngFor=\"let item of menu.items\">\n    <ng-container *ngIf=\"shouldShow(item)\">\n        <a *ngIf=\"item.type === 'link'\" href=\"{{item.action}}\" [ngClass]=\"toSnakeCase(item.label)\">\n            <svg-icon [name]=\"item.icon\" *ngIf=\"item.icon\"></svg-icon>\n            {{item.label}}\n        </a>\n\n        <a *ngIf=\"item.type === 'route'\" [routerLink]=\"'/' + item.action\" [ngClass]=\"toSnakeCase(item.label)\" routerLinkActive=\"active\">\n            <svg-icon [name]=\"item.icon\" *ngIf=\"item.icon\"></svg-icon>\n            {{item.label}}\n        </a>\n\n        <a *ngIf=\"item.type === 'page'\" [routerLink]=\"'/pages/' + item.action\" [ngClass]=\"toSnakeCase(item.label)\" routerLinkActive=\"active\">\n            <svg-icon [name]=\"item.icon\" *ngIf=\"item.icon\"></svg-icon>\n            {{item.label}}\n        </a>\n    </ng-container>\n</div>\n\n<ng-content></ng-content>"

/***/ }),

/***/ "./src/app/shared/custom-menu/custom-menu.component.scss":
/***/ (function(module, exports) {

module.exports = "custom-menu {\n  display: block; }\n"

/***/ }),

/***/ "./src/app/shared/custom-menu/custom-menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomMenuComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu__ = __webpack_require__("./src/app/shared/custom-menu/menu.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils__ = __webpack_require__("./src/app/shared/utils.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CustomMenuComponent = (function () {
    /**
     * CustomMenuComponent Constructor.
     */
    function CustomMenuComponent(settings, currentUser) {
        this.settings = settings;
        this.currentUser = currentUser;
        this.shouldHide = false;
        /**
         * Menu that should be rendered.
         */
        this.menu = new __WEBPACK_IMPORTED_MODULE_3__menu__["a" /* Menu */]();
        /**
         * Active component subscriptions.
         */
        this.subscriptions = [];
    }
    CustomMenuComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.initMenu();
        //re-render if menu setting is changed
        var sub = this.settings.onChange.subscribe(function (name) {
            if (name === 'menus')
                _this.initMenu();
        });
        this.subscriptions.push(sub);
    };
    /**
     * Convert specified string to snake_case.
     */
    CustomMenuComponent.prototype.toSnakeCase = function (string) {
        return __WEBPACK_IMPORTED_MODULE_4__utils__["a" /* utils */].toSnakeCase(string);
    };
    /**
     * Check if menu item should be displayed.
     */
    CustomMenuComponent.prototype.shouldShow = function (item) {
        switch (item.condition) {
            case 'auth':
                return this.currentUser.isLoggedIn();
            case 'guest':
                return !this.currentUser.isLoggedIn();
            case 'admin':
                return this.currentUser.hasPermission('admin');
            case 'agent':
                return this.currentUser.hasPermission('tickets.update');
            default:
                return true;
        }
    };
    /**
     * Initiate custom menu.
     */
    CustomMenuComponent.prototype.initMenu = function () {
        var _this = this;
        var json = this.settings.get('menus');
        //get stored custom menus
        var menus = JSON.parse(json);
        if (!menus)
            return this.shouldHide = true;
        //find first menu for specified position
        var menuConfig = menus.find(function (menu) { return menu.position === _this.position; });
        if (!menuConfig)
            return this.shouldHide = true;
        this.menu = new __WEBPACK_IMPORTED_MODULE_3__menu__["a" /* Menu */](menuConfig);
    };
    CustomMenuComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription && subscription.unsubscribe();
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostBinding"])('class.hidden'),
        __metadata("design:type", Boolean)
    ], CustomMenuComponent.prototype, "shouldHide", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], CustomMenuComponent.prototype, "position", void 0);
    CustomMenuComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'custom-menu',
            template: __webpack_require__("./src/app/shared/custom-menu/custom-menu.component.html"),
            styles: [__webpack_require__("./src/app/shared/custom-menu/custom-menu.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_2__auth_current_user__["a" /* CurrentUser */]])
    ], CustomMenuComponent);
    return CustomMenuComponent;
}());



/***/ }),

/***/ "./src/app/shared/custom-menu/menu.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Menu; });
var Menu = (function () {
    function Menu(params) {
        if (params === void 0) { params = {}; }
        this.position = 'header';
        this.items = [];
        for (var name_1 in params) {
            this[name_1] = params[name_1];
        }
    }
    return Menu;
}());



/***/ }),

/***/ "./src/app/shared/custom-url-serializer.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomUrlSerializer; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CustomUrlSerializer = (function (_super) {
    __extends(CustomUrlSerializer, _super);
    function CustomUrlSerializer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CustomUrlSerializer.prototype.parse = function (url) {
        url = url.replace(/\+/g, '%20');
        url = url.replace(/\(/g, '%28').replace(/\)/g, '%29');
        return _super.prototype.parse.call(this, url);
    };
    CustomUrlSerializer.prototype.serialize = function (tree) {
        return _super.prototype.serialize.call(this, tree)
            .replace(/%20/g, '+')
            .replace(/%28/g, '(')
            .replace(/%29/g, ')');
    };
    return CustomUrlSerializer;
}(__WEBPACK_IMPORTED_MODULE_0__angular_router__["b" /* DefaultUrlSerializer */]));



/***/ }),

/***/ "./src/app/shared/dropdown/dropdown.component.html":
/***/ (function(module, exports) {

module.exports = "<ng-content></ng-content>"

/***/ }),

/***/ "./src/app/shared/dropdown/dropdown.component.scss":
/***/ (function(module, exports) {

module.exports = "dropdown {\n  display: block;\n  cursor: pointer; }\n  dropdown > svg-icon {\n    display: block; }\n  dropdown.dropdown-open .dropdown-menu.transformed {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1;\n    pointer-events: all;\n    visibility: visible; }\n  dropdown .dropdown-menu {\n    -webkit-transform-origin: left top;\n            transform-origin: left top;\n    opacity: 0;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background-color: #fff;\n    -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);\n            box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);\n    width: 235px;\n    border-radius: 0;\n    z-index: 11;\n    max-height: 260px;\n    overflow: auto;\n    padding: 10px 0;\n    -webkit-transition: opacity 0.2s cubic-bezier(0.25, 0.8, 0.25, 1), -webkit-transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);\n    transition: opacity 0.2s cubic-bezier(0.25, 0.8, 0.25, 1), -webkit-transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);\n    transition: transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);\n    transition: transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.2s cubic-bezier(0.25, 0.8, 0.25, 1), -webkit-transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);\n    pointer-events: none;\n    visibility: hidden; }\n  dropdown .dropdown-menu.transformed {\n      -webkit-transform: scale(0.3);\n              transform: scale(0.3); }\n  dropdown .dropdown-menu.indent .dropdown-item {\n      padding: 0 24px 0 48px; }\n  dropdown .dropdown-menu .dropdown-item {\n      display: block;\n      position: relative;\n      width: 100%;\n      padding: 0 16px;\n      margin: 0 auto;\n      letter-spacing: .01em;\n      color: #6A6A6A;\n      text-align: left;\n      cursor: pointer;\n      overflow: hidden;\n      font-size: 1.5rem;\n      font-weight: 400;\n      text-transform: none;\n      height: 36px;\n      line-height: 36px; }\n  dropdown .dropdown-menu .dropdown-item > .text {\n        -webkit-box-flex: 1;\n            -ms-flex-positive: 1;\n                flex-grow: 1; }\n  dropdown .dropdown-menu .dropdown-item > .alt-text {\n        -webkit-box-flex: 0;\n            -ms-flex-positive: 0;\n                flex-grow: 0;\n        margin: 0 8px;\n        -ms-flex-item-align: end;\n            align-self: flex-end; }\n  dropdown .dropdown-menu .dropdown-item > svg-icon {\n        color: rgba(0, 0, 0, 0.5);\n        position: absolute;\n        top: 7px;\n        left: 16px;\n        width: 21px;\n        height: 21px; }\n  dropdown .dropdown-menu .dropdown-item.active {\n        font-weight: 500; }\n  dropdown .dropdown-menu .dropdown-item:hover, dropdown .dropdown-menu .dropdown-item.focused {\n        background-color: #ebf2fc; }\n"

/***/ }),

/***/ "./src/app/shared/dropdown/dropdown.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DropdownComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dropdown_service__ = __webpack_require__("./src/app/shared/dropdown/dropdown.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var DropdownComponent = (function () {
    /**
     * DropdownComponent Constructor.
     */
    function DropdownComponent(el, renderer, browserEvents, dropdownService, zone) {
        this.el = el;
        this.renderer = renderer;
        this.browserEvents = browserEvents;
        this.dropdownService = dropdownService;
        this.zone = zone;
        /**
         * In which direction relative to origin dropdown should be positioned.
         */
        this.direction = 'bottom';
        /**
         * Whether dropdown should be automatically positioned relative to origin.
         */
        this.autoPosition = true;
        /**
         * Whether dropdown should be disabled.
         */
        this.disabled = false;
        /**
         * Fired when dropdown is first opened.
         */
        this.onFirstOpen = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"];
        /**
         * Fired when dropdown is closed.
         */
        this.onClose = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Whether dropdown is currently open.
         */
        this.isOpen = false;
        /**
         * Whether this dropdown has been opened at least once already.
         */
        this.hasBeenOpened = false;
        /**
         * Index of dropdown item that is currently focused.
         */
        this.focusedItemIndex = -1;
        /**
         * Any active subscriptions this dropdown created.
         */
        this.subscriptions = [];
    }
    /**
     * Fired when view content is initiated.
     */
    DropdownComponent.prototype.ngAfterContentInit = function () {
        this.setOriginAndTrigger();
        this.initMenu();
        this.bindClickEvents();
        this.bindHoverEvents();
        this.bindKeyDownEvents();
        this.dropdownService.add(this);
    };
    /**
     * Fired before dropdown is destroyed.
     */
    DropdownComponent.prototype.ngOnDestroy = function () {
        this.dropdownService.remove(this);
        this.subscriptions.forEach(function (subscription) {
            subscription && subscription.unsubscribe();
        });
    };
    /**
     * Open dropdown menu.
     */
    DropdownComponent.prototype.open = function () {
        if (this.isOpen)
            return;
        this.dropdownService.closeAll();
        this.positionMenu();
        this.fireOnFirstOpenEvent();
        this.isOpen = true;
        this.renderer.addClass(this.el.nativeElement, 'dropdown-open');
        this.input && this.input.nativeElement.focus();
    };
    /**
     * Close dropdown menu.
     */
    DropdownComponent.prototype.close = function () {
        this.isOpen = false;
        this.renderer.removeClass(this.el.nativeElement, 'dropdown-open');
        this.onClose.emit();
    };
    /**
     * Position dropdown menu based on direction and origin
     */
    DropdownComponent.prototype.positionMenu = function () {
        if (!this.autoPosition)
            return;
        var rect = this.origin.getBoundingClientRect(), left, top;
        if (this.direction === 'right') {
            left = rect.left + rect.width;
            top = rect.top;
        }
        else if (this.direction === 'bottom') {
            left = rect.left;
            top = rect.top + rect.height;
        }
        //make sure dropdown doesn't overflow browser window left
        var leftOverflow = (this.menuClientRect.width + left + 5) - window.innerWidth;
        left = leftOverflow > 1 ? left - leftOverflow : left;
        //make sure dropdown doesn't overflow browser window bottom
        var bottomOverflow = (this.menuClientRect.height + top + 5) - window.innerHeight;
        top = bottomOverflow > 1 ? top - bottomOverflow : top;
        //position dropdown menu
        this.renderer.setStyle(this.menu.nativeElement, 'left', left + 'px');
        this.renderer.setStyle(this.menu.nativeElement, 'top', top + 'px');
    };
    /**
     * Set dropdown origin and trigger elements.
     */
    DropdownComponent.prototype.setOriginAndTrigger = function () {
        //if origin is not passed in, use this dropdown host element
        if (!this.origin)
            this.origin = this.el.nativeElement;
        //if trigger is not passed in, use this dropdown host element
        if (!this.trigger)
            this.trigger = this.el;
        //make sure origin is HtmlElement and not ElementRef
        if (this.origin['nativeElement']) {
            this.origin = this.origin['nativeElement'];
        }
    };
    /**
     * Get menu client rect and apply css transformations.
     */
    DropdownComponent.prototype.initMenu = function () {
        this.menuClientRect = this.menu.nativeElement.getBoundingClientRect();
        this.renderer.addClass(this.menu.nativeElement, 'transformed');
    };
    /**
     * Bind any needed click events.
     */
    DropdownComponent.prototype.bindClickEvents = function () {
        var _this = this;
        this.renderer.listen(this.el.nativeElement, 'click', function (e) {
            e.stopPropagation();
            //dropdown is disabled
            if (_this.disabled)
                return;
            //we want to open dropdown on input click, if input is a trigger (autocomplete for example)
            //but we don't want to close dropdown on input click, regardless if input is trigger or not
            if (_this.isOpen && (_this.input && e.target === _this.input.nativeElement))
                return;
            //toggle dropdown on dropdown trigger click
            if (e.target === _this.trigger.nativeElement || _this.trigger.nativeElement.contains(e.target)) {
                return _this.isOpen ? _this.close() : _this.open();
            }
            //close dropdown, if clicked anywhere else inside dropdown
            _this.close();
        });
    };
    /**
     * Bind any needed hover events.
     */
    DropdownComponent.prototype.bindHoverEvents = function () {
        var _this = this;
        this.zone.runOutsideAngular(function () {
            //set currently focused item index on dropdown items hover
            _this.menuItems.changes.subscribe(function () {
                if (!_this.menuItems.length)
                    return;
                _this.menuItems.forEach(function (item) {
                    _this.renderer.listen(item.nativeElement, 'mouseenter', function (e) {
                        _this.menuItems.forEach(function (item, index) {
                            if (item.nativeElement === e.target) {
                                _this.focusedItemIndex = index;
                            }
                        });
                    });
                });
            });
        });
    };
    /**
     * Fire "onFirstOpen" event, if it hasn't already been fired.
     */
    DropdownComponent.prototype.fireOnFirstOpenEvent = function () {
        if (!this.hasBeenOpened) {
            this.onFirstOpen.emit();
            this.onFirstOpen.complete();
            this.hasBeenOpened = true;
        }
    };
    /**
     * Bind keydown events needed for dropdown.
     */
    DropdownComponent.prototype.bindKeyDownEvents = function () {
        var _this = this;
        var sub = this.browserEvents.globalKeyDown$.subscribe(function (e) {
            var handled = false;
            //if dropdown is closed, bail
            if (!_this.isOpen)
                return;
            switch (e.keyCode) {
                case _this.browserEvents.keyCodes.enter:
                    if (!_this.focusedItem)
                        break;
                    _this.focusedItem.nativeElement.dispatchEvent(new Event('click'));
                    handled = true;
                    break;
                case _this.browserEvents.keyCodes.escape:
                    _this.close();
                    handled = true;
                    break;
                case _this.browserEvents.keyCodes.arrowUp:
                    _this.focusItem('previous');
                    handled = true;
                    break;
                case _this.browserEvents.keyCodes.arrowDown:
                    _this.focusItem('next');
                    handled = true;
                    break;
                case _this.browserEvents.keyCodes.arrowRight:
                    //
                    handled = true;
                    break;
                case _this.browserEvents.keyCodes.arrowLeft:
                    //
                    handled = true;
                    break;
            }
            if (handled) {
                e.preventDefault();
                e.stopPropagation();
            }
        });
        this.subscriptions.push(sub);
    };
    /**
     * Focus next dropdown item in specified direction.
     */
    DropdownComponent.prototype.focusItem = function (direction) {
        var _this = this;
        //select next or previous focused item
        if (direction === 'next') {
            this.focusedItemIndex += 1;
        }
        else if (direction === 'previous') {
            this.focusedItemIndex -= 1;
        }
        //if we are trying to select previous from first, select last instead
        if (this.focusedItemIndex < 0) {
            this.focusedItemIndex = this.menuItems.length - 1;
        }
        //if we are trying to select next from last, select first instead
        if (this.menuItems.length < this.focusedItemIndex + 1) {
            this.focusedItemIndex = 0;
        }
        //remove focused class from all items and get item that needs to be focused
        this.menuItems.forEach(function (value, index) {
            _this.renderer.removeClass(value.nativeElement, 'focused');
            if (index === _this.focusedItemIndex)
                _this.focusedItem = value;
        });
        if (!this.focusedItem)
            return;
        //focus the item
        this.renderer.addClass(this.focusedItem.nativeElement, 'focused');
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(), Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ContentChild"])('trigger'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], DropdownComponent.prototype, "trigger", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ContentChild"])('menu'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], DropdownComponent.prototype, "menu", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(), Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ContentChild"])('origin'),
        __metadata("design:type", HTMLElement)
    ], DropdownComponent.prototype, "origin", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(), Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ContentChildren"])('menuItem'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["QueryList"])
    ], DropdownComponent.prototype, "menuItems", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ContentChild"])('input'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], DropdownComponent.prototype, "input", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], DropdownComponent.prototype, "direction", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DropdownComponent.prototype, "autoPosition", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], DropdownComponent.prototype, "disabled", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], DropdownComponent.prototype, "onFirstOpen", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], DropdownComponent.prototype, "onClose", void 0);
    DropdownComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'dropdown',
            template: __webpack_require__("./src/app/shared/dropdown/dropdown.component.html"),
            styles: [__webpack_require__("./src/app/shared/dropdown/dropdown.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { '[class.disabled]': 'disabled' }
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_1__browser_events_service__["a" /* BrowserEvents */],
            __WEBPACK_IMPORTED_MODULE_2__dropdown_service__["a" /* DropdownService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]])
    ], DropdownComponent);
    return DropdownComponent;
}());



/***/ }),

/***/ "./src/app/shared/dropdown/dropdown.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DropdownService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DropdownService = (function () {
    /**
     * DropdownService Constructor.
     */
    function DropdownService(browserEvents) {
        var _this = this;
        this.browserEvents = browserEvents;
        /**
         * List of all dropdowns that are currently rendered in the app.
         */
        this.allDropdowns = [];
        this.browserEvents.globalClick$.subscribe(function () {
            _this.closeAll();
        });
    }
    /**
     * Add a new dropdown to all dropdowns list.
     */
    DropdownService.prototype.add = function (dropdown) {
        this.allDropdowns.push(dropdown);
    };
    /**
     * Remove dropdown from list of all dropdowns.
     */
    DropdownService.prototype.remove = function (dropdown) {
        for (var i = 0; i < this.allDropdowns.length; i++) {
            if (this.allDropdowns[i] === dropdown) {
                this.allDropdowns.splice(i, 1);
            }
        }
    };
    /**
     * Close all currently existing dropdowns.
     */
    DropdownService.prototype.closeAll = function () {
        this.allDropdowns.forEach(function (dropdown) {
            if (dropdown.isOpen)
                dropdown.close();
        });
    };
    DropdownService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__browser_events_service__["a" /* BrowserEvents */]])
    ], DropdownService);
    return DropdownService;
}());



/***/ }),

/***/ "./src/app/shared/empty-route/empty-route.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EmptyRouteComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var EmptyRouteComponent = (function () {
    function EmptyRouteComponent() {
    }
    EmptyRouteComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'empty-route',
            template: '',
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        })
    ], EmptyRouteComponent);
    return EmptyRouteComponent;
}());



/***/ }),

/***/ "./src/app/shared/enter-keybind.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EnterKeybindDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var EnterKeybindDirective = (function () {
    /**
     * EnterKeybindDirective Constructor.
     */
    function EnterKeybindDirective(renderer, el) {
        this.renderer = renderer;
        this.el = el;
        /**
         * Fired when enter key is pressed on element.
         */
        this.enterKeybind = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    EnterKeybindDirective.prototype.ngOnInit = function () {
        var _this = this;
        this.renderer.listen(this.el.nativeElement, 'keydown', function (e) {
            if (e.keyCode === 13) {
                e.preventDefault();
                e.stopPropagation();
                _this.el.nativeElement.blur();
                _this.enterKeybind.emit(e);
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], EnterKeybindDirective.prototype, "enterKeybind", void 0);
    EnterKeybindDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[enterKeybind]'
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"], __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"]])
    ], EnterKeybindDirective);
    return EnterKeybindDirective;
}());



/***/ }),

/***/ "./src/app/shared/file-dropzone/file-dropzone.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FileDropzoneDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__uploads_service__ = __webpack_require__("./src/app/shared/uploads.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FileDropzoneDirective = (function () {
    /**
     * FileDropzoneDirective Constructor.
     */
    function FileDropzoneDirective(el, renderer, uploads) {
        this.el = el;
        this.renderer = renderer;
        this.uploads = uploads;
        this.onUpload = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    FileDropzoneDirective.prototype.ngOnInit = function () {
        this.renderer.listen(this.el.nativeElement, 'dragenter', this.handleDragEnter.bind(this));
        this.renderer.listen(this.el.nativeElement, 'dragover', this.handleDragOver.bind(this));
        this.renderer.listen(this.el.nativeElement, 'dragleave', this.handleDragLeave.bind(this));
        this.renderer.listen(this.el.nativeElement, 'drop', this.handleDrop.bind(this));
        this.renderer.listen(this.el.nativeElement, 'click', this.handleClick.bind(this));
    };
    /**
     * When dropzone is clicked.
     */
    FileDropzoneDirective.prototype.handleClick = function () {
        var _this = this;
        this.uploads.openUploadDialog().then(function (files) {
            _this.onUpload.emit(files);
        });
    };
    /**
     * When file is hovering over dropzone.
     */
    FileDropzoneDirective.prototype.handleDragOver = function (e) {
        if (e.preventDefault)
            e.preventDefault();
        e.dataTransfer.dropEffect = 'move';
        return false;
    };
    /**
     * When file enters dropzone.
     */
    FileDropzoneDirective.prototype.handleDragEnter = function () {
        this.renderer.addClass(this.el.nativeElement, 'file-over-dropzone');
    };
    /**
     * When file leaves dropzone.
     */
    FileDropzoneDirective.prototype.handleDragLeave = function () {
        this.removeClassesFromDropzone();
    };
    /**
     * When file is dropped on dropzone.
     */
    FileDropzoneDirective.prototype.handleDrop = function (e) {
        e.stopPropagation();
        e.preventDefault();
        this.removeClassesFromDropzone();
        this.onUpload.emit(e.dataTransfer.files);
    };
    /**
     * Remove "hover" class from dropzone element.
     */
    FileDropzoneDirective.prototype.removeClassesFromDropzone = function () {
        this.renderer.removeClass(this.el.nativeElement, 'file-over-dropzone');
    };
    FileDropzoneDirective.prototype.ngOnDestroy = function () {
        this.removeClassesFromDropzone();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], FileDropzoneDirective.prototype, "onUpload", void 0);
    FileDropzoneDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[fileDropzone]',
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"], __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"], __WEBPACK_IMPORTED_MODULE_1__uploads_service__["a" /* Uploads */]])
    ], FileDropzoneDirective);
    return FileDropzoneDirective;
}());



/***/ }),

/***/ "./src/app/shared/file-validator.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FileValidator; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FileValidator = (function () {
    /**
     * FileValidator Constructor.
     */
    function FileValidator(toast) {
        this.toast = toast;
        /**
         * Rules that files under validation must pass.
         */
        this.rules = {
            maxSize: 50000 * 1000,
            maxFiles: 5,
            blacklist: [],
            whitelist: [],
        };
    }
    FileValidator_1 = FileValidator;
    /**
     * Validate specified files and optionally show error messages in toast window..
     */
    FileValidator.prototype.validateFiles = function (fs, showErrors) {
        if (showErrors === void 0) { showErrors = false; }
        var errors = {};
        if (fs.length > this.rules.maxFiles) {
            errors['*'] = 'you can upload a maximum of ' + this.rules.maxFiles + ' files.';
        }
        for (var i = 0; i < fs.length; i++) {
            var fileErrors = this.validateFile(fs[i]);
            if (fileErrors)
                errors[fs[i].name] = fileErrors;
        }
        var hasErrors = Object.keys(errors).length;
        if (showErrors && hasErrors) {
            this.toast.show(errors[Object.keys(errors)[0]], { delay: 0, type: 'error' });
        }
        return hasErrors ? errors : false;
    };
    /**
     * Validate specified file against validation rules and return errors.
     */
    FileValidator.prototype.validateFile = function (file) {
        var errors = [];
        var extension = FileValidator_1.getExtensionFromFileName(file.name);
        if (file.size > this.rules.maxSize) {
            errors.push(file.name + ' is to large. Maximum file size is ' + this.rules.maxSize);
        }
        if (this.rules.blacklist.indexOf(extension) > -1) {
            errors.push(file.name + ' type is invalid. ' + extension + ' files are not allowed.');
        }
        if (this.rules.whitelist.length && this.rules.whitelist.indexOf(extension) === -1) {
            errors.push(file.name + ' type is invalid. Only ' + this.rules.whitelist.join(',') + ' extensions are allowed.');
        }
        return errors.length ? errors : false;
    };
    /**
     * Get file extension from given string.
     */
    FileValidator.getExtensionFromFileName = function (name) {
        var re = /(?:\.([^.]+))?$/;
        return re.exec(name)[1];
    };
    FileValidator = FileValidator_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__toast_toast_service__["a" /* ToastService */]])
    ], FileValidator);
    return FileValidator;
    var FileValidator_1;
}());



/***/ }),

/***/ "./src/app/shared/http-cache-client.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HttpCacheClient; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__http_error_handler_service__ = __webpack_require__("./src/app/shared/http-error-handler.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var HttpCacheClient = (function (_super) {
    __extends(HttpCacheClient, _super);
    /**
     * HttpClient Constructor.
     */
    function HttpCacheClient(http, errorHandler) {
        var _this = _super.call(this, http, errorHandler) || this;
        _this.http = http;
        _this.errorHandler = errorHandler;
        /**
         * Http cache store.
         */
        _this.cache = {};
        return _this;
    }
    /**
     * Make new GET request or returned its cached response.
     */
    HttpCacheClient.prototype.getWithCache = function (url, params) {
        var _this = this;
        if (params === void 0) { params = {}; }
        var key = this.makeCacheKey(url, params);
        //this request is in progress and not yet resolved,
        //we can return same observable for all callers
        if (this.cache[key] instanceof __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["Observable"]) {
            return this.cache[key];
            //this request is completed and cached, we can return cached response
        }
        else if (this.cache[key]) {
            return __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["Observable"].of(this.cache[key]);
            //this request was not made yet, so we make a new one
        }
        else {
            var request = this.get(url, params).share();
            request.subscribe(function (data) { return _this.cache[key] = data; }, function () { });
            return this.cache[key] = request;
        }
    };
    /**
     * Clear cache on POST requests.
     */
    HttpCacheClient.prototype.post = function (url, params, headers) {
        this.clearCache();
        return _super.prototype.post.call(this, url, params);
    };
    /**
     * Clear cache on PUT requests.
     */
    HttpCacheClient.prototype.put = function (url, params, headers) {
        if (params === void 0) { params = {}; }
        this.clearCache();
        return _super.prototype.put.call(this, url, params);
    };
    /**
     * Clear cache on DELETE requests.
     */
    HttpCacheClient.prototype.delete = function (url, params, headers) {
        if (params === void 0) { params = {}; }
        this.clearCache();
        return _super.prototype.delete.call(this, url, params);
    };
    /**
     * Clear http cache for this service.
     */
    HttpCacheClient.prototype.clearCache = function () {
        this.cache = {};
    };
    /**
     * Create unique cache key for specified http request.
     */
    HttpCacheClient.prototype.makeCacheKey = function (url, params) {
        return url + JSON.stringify(params);
    };
    HttpCacheClient = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__angular_common_http__["b" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_4__http_error_handler_service__["a" /* HttpErrorHandler */]])
    ], HttpCacheClient);
    return HttpCacheClient;
}(__WEBPACK_IMPORTED_MODULE_2__app_http_client_service__["a" /* AppHttpClient */]));



/***/ }),

/***/ "./src/app/shared/http-error-handler.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HttpErrorHandler; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var HttpErrorHandler = (function () {
    /**
     * HttpErrorHandler Constructor.
     */
    function HttpErrorHandler(i18n, currentUser, router, toast) {
        this.i18n = i18n;
        this.currentUser = currentUser;
        this.router = router;
        this.toast = toast;
    }
    /**
     * Handle http request error.
     */
    HttpErrorHandler.prototype.handle = function (response) {
        var body = this.parseJson(response.error), error = { messages: {}, type: 'http', status: response.status, originalError: new Error(response.message) };
        if (response.status === 403 || response.status === 401) {
            this.handle403Error(body);
        }
        //make sure there's always a "messages" object
        if (body) {
            error.messages = body.messages || {};
        }
        //translate error messages
        for (var key in error.messages) {
            var messages = error.messages[key];
            var validationError = Array.isArray(messages) ? error.messages[key][0] : messages;
            if (typeof validationError === 'string')
                validationError = { message: validationError, params: {} };
            error.messages[key] = this.i18n.t(validationError.message, validationError.params);
        }
        return __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["Observable"].throw(error);
    };
    /**
     * Redirect user to login page or show toast informing
     * user that he does not have required permissions.
     */
    HttpErrorHandler.prototype.handle403Error = function (response) {
        //if user doesn't have access, navigate to login page
        if (this.currentUser.isLoggedIn()) {
            var msg = "You don't have required permissions to do that.";
            this.toast.show(response['message'] ? response['message'] : msg);
        }
        else {
            this.router.navigate(['/login']);
        }
    };
    /**
     * Parse JSON without throwing errors.
     */
    HttpErrorHandler.prototype.parseJson = function (json) {
        if (typeof json !== 'string')
            return json;
        try {
            return JSON.parse(json);
        }
        catch (e) {
            return {};
        }
    };
    HttpErrorHandler = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__translations_translations_service__["a" /* Translations */],
            __WEBPACK_IMPORTED_MODULE_3__auth_current_user__["a" /* CurrentUser */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_5__toast_toast_service__["a" /* ToastService */]])
    ], HttpErrorHandler);
    return HttpErrorHandler;
}());



/***/ }),

/***/ "./src/app/shared/infinite-scroll/infinite-scroll.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InfiniteScrollDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var InfiniteScrollDirective = (function () {
    /**
     * InfiniteScrollDirective Constructor.
     */
    function InfiniteScrollDirective(el, renderer) {
        this.renderer = renderer;
        /**
         * How much pixels from the bottom to load more items.
         */
        this.threshold = 50;
        /**
         * If infinite scroll is enabled.
         */
        this.infiniteScrollEnabled = true;
        /**
         * Fired when more items need to be loaded.
         */
        this.onInfiniteScroll = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.infiniteScrollEl = el.nativeElement;
    }
    InfiniteScrollDirective.prototype.ngOnInit = function () {
        //TODO: refactor this angular "way" once it implements
        //TODO: "useCapture" into renderer or hostListener
        var _this = this;
        if (this.infiniteScrollEl === 'document') {
            document.addEventListener('scroll', function (e) { return _this.onScroll(e.target); }, true);
        }
        else {
            this.renderer.listen(this.infiniteScrollEl, 'scroll', function (e) { return _this.onScroll(e.target); });
        }
    };
    /**
     * Fire onInfiniteScroll event if we are at the end
     * of the page and infinite scroll is not disabled.
     */
    InfiniteScrollDirective.prototype.onScroll = function (target) {
        if (!this.infiniteScrollEnabled)
            return;
        var offset = parseInt(this.threshold);
        if (target.scrollTop + target.offsetHeight >= target.scrollHeight - offset) {
            this.onInfiniteScroll.emit();
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], InfiniteScrollDirective.prototype, "threshold", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], InfiniteScrollDirective.prototype, "infiniteScrollEnabled", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], InfiniteScrollDirective.prototype, "infiniteScrollEl", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], InfiniteScrollDirective.prototype, "onInfiniteScroll", void 0);
    InfiniteScrollDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[infinite-scroll]',
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"], __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"]])
    ], InfiniteScrollDirective);
    return InfiniteScrollDirective;
}());



/***/ }),

/***/ "./src/app/shared/loading-indicator/loading-indicator.component.scss":
/***/ (function(module, exports) {

module.exports = "loading-indicator {\n  display: none;\n  position: absolute;\n  width: 80px;\n  height: 70px;\n  background-color: rgba(0, 0, 0, 0.4);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none; }\n  loading-indicator:empty {\n    display: none; }\n  loading-indicator.visible {\n    display: block; }\n  loading-indicator.overlay {\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    z-index: 10; }\n  loading-indicator.overlay > .spinner {\n      position: absolute;\n      top: calc(50% - 35px);\n      left: calc(50% - 40px); }\n  loading-indicator.center {\n    top: calc(50% - 35px);\n    left: calc(50% - 40px); }\n  loading-indicator.opacity-low {\n    background-color: rgba(0, 0, 0, 0.9); }\n  loading-indicator.opacity-high {\n    background-color: rgba(0, 0, 0, 0.1); }\n  loading-indicator .spinner {\n    width: 80px;\n    height: 70px;\n    text-align: center;\n    font-size: 10px; }\n  loading-indicator .spinner > div {\n      background-color: #6eac00;\n      height: 100%;\n      width: 6px;\n      display: inline-block;\n      -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;\n      animation: sk-stretchdelay 1.2s infinite ease-in-out; }\n  loading-indicator .spinner > .rect2 {\n      -webkit-animation-delay: -1.1s;\n      animation-delay: -1.1s; }\n  loading-indicator .spinner > .rect3 {\n      -webkit-animation-delay: -1.0s;\n      animation-delay: -1.0s; }\n  loading-indicator .spinner > .rect4 {\n      -webkit-animation-delay: -0.9s;\n      animation-delay: -0.9s; }\n  loading-indicator .spinner > .rect5 {\n      -webkit-animation-delay: -0.8s;\n      animation-delay: -0.8s; }\n  @-webkit-keyframes sk-stretchdelay {\n  0%, 40%, 100% {\n    -webkit-transform: scaleY(0.4); }\n  20% {\n    -webkit-transform: scaleY(1); } }\n  @keyframes sk-stretchdelay {\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n    -webkit-transform: scaleY(0.4); }\n  20% {\n    transform: scaleY(1);\n    -webkit-transform: scaleY(1); } }\n"

/***/ }),

/***/ "./src/app/shared/loading-indicator/loading-indicator.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoadingIndicatorComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var LoadingIndicatorComponent = (function () {
    function LoadingIndicatorComponent(el) {
        this.el = el;
        this.isVisible = false;
    }
    LoadingIndicatorComponent.prototype.show = function () {
        this.isVisible = true;
    };
    LoadingIndicatorComponent.prototype.hide = function () {
        this.isVisible = false;
    };
    LoadingIndicatorComponent.prototype.toggle = function () {
        this.isVisible = !this.isVisible;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["HostBinding"])('class.visible'), Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], LoadingIndicatorComponent.prototype, "isVisible", void 0);
    LoadingIndicatorComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'loading-indicator',
            styles: [__webpack_require__("./src/app/shared/loading-indicator/loading-indicator.component.scss")],
            template: "<div class=\"spinner\" *ngIf=\"isVisible\">\n  <div class=\"rect rect1\"></div>\n  <div class=\"rect rect2\"></div>\n  <div class=\"rect rect3\"></div>\n  <div class=\"rect rect4\"></div>\n  <div class=\"rect rect5\"></div>\n</div>",
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"]])
    ], LoadingIndicatorComponent);
    return LoadingIndicatorComponent;
}());



/***/ }),

/***/ "./src/app/shared/local-storage.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocalStorage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var LocalStorage = (function () {
    /**
     * LocalStorage Constructor.
     */
    function LocalStorage() {
        if (this.localStorageAvailable()) {
            this.storage = localStorage;
        }
        else {
            this.storage = null;
        }
    }
    /**
     * Retrieve specified item from local storage.
     */
    LocalStorage.prototype.get = function (key, defaultValue) {
        if (!this.storage)
            return defaultValue;
        var value;
        try {
            value = JSON.parse(this.storage.getItem(key));
        }
        catch (e) { }
        return value || defaultValue;
    };
    /**
     * Store specified item in local storage.
     */
    LocalStorage.prototype.set = function (key, value) {
        if (!this.storage)
            return null;
        this.storage.setItem(key, JSON.stringify(value));
    };
    /**
     * Remove specified item from local storage.
     */
    LocalStorage.prototype.remove = function (key) {
        if (!this.storage)
            return null;
        this.storage.removeItem(key);
    };
    /**
     * Check if local storage is available.
     */
    LocalStorage.prototype.localStorageAvailable = function () {
        var test = 'test';
        try {
            localStorage.setItem(test, test);
            localStorage.removeItem(test);
            return true;
        }
        catch (e) {
            return false;
        }
    };
    LocalStorage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], LocalStorage);
    return LocalStorage;
}());



/***/ }),

/***/ "./src/app/shared/map-to-iterable.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MapToIterable; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Map to Iteratble Pipe
 *
 * It accepts Objects and [Maps](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map)
 *
 * Example:
 *
 *  <div *ngFor="#keyValuePair of someObject | mapToIterable">
 *    key {{keyValuePair.key}} and value {{keyValuePair.value}}
 *  </div>
 *
 */
var MapToIterable = (function () {
    function MapToIterable() {
    }
    MapToIterable.prototype.transform = function (value) {
        var result = [];
        if (value) {
            for (var key in value) {
                result.push({ key: key, value: value[key] });
            }
        }
        return result;
    };
    MapToIterable = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({ name: 'mapToIterable' })
    ], MapToIterable);
    return MapToIterable;
}());



/***/ }),

/***/ "./src/app/shared/modal/base-modal.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BaseModalClass; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var BaseModalClass = (function () {
    /**
     * BaseModalClass Constructor.
     */
    function BaseModalClass(elementRef, renderer) {
        var _this = this;
        this.elementRef = elementRef;
        this.renderer = renderer;
        /**
         * Any error this modal currently has.
         */
        this.errors = {};
        /**
         * Fired when modal is opened.
         */
        this.onShow = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Fired when modal is fully closed and destroyed.
         */
        this.onClose = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Fired when modal 'confirm' button is clicked
         * and all needed operations are completed (xhr calls etc)
         */
        this.onDone = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Should modal be closed when user clicks on backdrop.
         */
        this.closeModalOnBackdropClick = true;
        /**
         * Base z-index modals have applied via CSS.
         */
        this.baseZIndex = 11;
        /**
         * Whether modal http request is in progress currently.
         */
        this.loading = false;
        setTimeout(function () {
            if (_this.closeModalOnBackdropClick) {
                renderer.listen(_this.elementRef.nativeElement, 'click', function (e) {
                    if (e.target.classList.contains('backdrop')) {
                        _this.close();
                    }
                });
            }
        });
    }
    /**
     * Close this modal with animation.
     */
    BaseModalClass.prototype.close = function (data) {
        var _this = this;
        if (data === void 0) { data = null; }
        this.elementRef.nativeElement.classList.remove('modal-visible');
        this.beforeCloseAnimation && this.beforeCloseAnimation();
        setTimeout(function () {
            _this.elementRef.nativeElement.classList.add('hidden');
            _this.onClose && _this.onClose.emit(data);
            _this.destroy && _this.destroy();
        }, 200);
    };
    /**
     * Show this modal and focus first input element if there are any.
     */
    BaseModalClass.prototype.show = function (params) {
        var _this = this;
        if (params === void 0) { params = {}; }
        //increment z-index of each open modal, so active modal is properly on top in DOM
        this.renderer.setStyle(this.elementRef.nativeElement, 'z-index', this.baseZIndex + params['numOfModals']);
        //add "modal" class to modal element for proper styling
        this.renderer.addClass(this.elementRef.nativeElement, 'modal');
        //add "modal-active" class to root element (DOM body) for proper styling
        if (params['placeholder']) {
            this.renderer.addClass(params['placeholder'].rootEl, 'modal-active');
        }
        //remove "hidden" class so modal is animated in
        this.renderer.removeClass(this.elementRef.nativeElement, 'hidden');
        //make modal content visible after modal animation is complete
        requestAnimationFrame(function () {
            _this.renderer.addClass(_this.elementRef.nativeElement, 'modal-visible');
        });
        //focus input in the modal if there is any
        var input = this.elementRef.nativeElement.querySelector('.focus');
        setTimeout(function () {
            input && input.focus();
        }, 300);
        this.onShow && this.onShow.emit();
    };
    /**
     * Emit done event and close this modal.
     */
    BaseModalClass.prototype.done = function (data) {
        if (data === void 0) { data = null; }
        this.loading = false;
        this.onDone.emit(data);
        this.handleErrors();
        this.close();
    };
    /**
     * Format errors received from server for display.
     */
    BaseModalClass.prototype.handleErrors = function (response) {
        //clear old errors if no response is specified
        if (!response) {
            this.errors = {};
            return;
        }
        this.errors = response['messages'];
        this.loading = false;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], BaseModalClass.prototype, "onShow", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], BaseModalClass.prototype, "onClose", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], BaseModalClass.prototype, "onDone", void 0);
    return BaseModalClass;
}());



/***/ }),

/***/ "./src/app/shared/modal/confirm-modal/confirm-modal.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"backdrop\"></div>\n\n<div class=\"modal-content\">\n    <div class=\"modal-header\">\n        <h2 class=\"modal-title\">{{title}}</h2>\n        <button type=\"button\" (click)=\"close()\" class=\"close-button no-style icon-button\"><svg-icon name=\"close\"></svg-icon></button>\n    </div>\n\n    <div class=\"confirm-content\">\n        <p>{{body}}</p>\n        <p class=\"bold\" *ngIf=\"bodyBold\">{{bodyBold}}</p>\n    </div>\n\n    <div class=\"buttons right\">\n        <button (click)=\"close()\" type=\"button\" class=\"button cancel cancel-button\">{{cancel}}</button>\n        <button type=\"submit\" class=\"button primary submit-button\" (click)=\"confirm()\">{{ok}}</button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/shared/modal/confirm-modal/confirm-modal.component.scss":
/***/ (function(module, exports) {

module.exports = "confirm-modal.modal .modal-content > .modal-header {\n  margin-bottom: 10px; }\n\nconfirm-modal.modal .modal-content > .buttons {\n  margin-top: 0; }\n\nconfirm-modal.modal .modal-content > .confirm-content {\n  padding-bottom: 15px; }\n\nconfirm-modal.modal .modal-content > .confirm-content > .bold {\n    font-weight: 500; }\n\nconfirm-modal.modal .modal-content > .confirm-content > p {\n    font-size: 1.5rem; }\n"

/***/ }),

/***/ "./src/app/shared/modal/confirm-modal/confirm-modal.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfirmModalComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_modal__ = __webpack_require__("./src/app/shared/modal/base-modal.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ConfirmModalComponent = (function (_super) {
    __extends(ConfirmModalComponent, _super);
    /**
     * ConfirmModalComponent Constructor.
     */
    function ConfirmModalComponent(elementRef, renderer, i18n) {
        var _this = _super.call(this, elementRef, renderer) || this;
        _this.elementRef = elementRef;
        _this.renderer = renderer;
        _this.i18n = i18n;
        _this.cancel = _this.i18n.t('Close');
        return _this;
    }
    /**
     * Close confirmation modal.
     */
    ConfirmModalComponent.prototype.close = function () {
        _super.prototype.close.call(this);
        this.data = null;
    };
    /**
     * Show confirmation modal.
     */
    ConfirmModalComponent.prototype.show = function (params) {
        this.data = params['data'];
        this.title = this.i18n.t(params['title']);
        this.body = this.i18n.t(params['body']);
        this.bodyBold = this.i18n.t(params['bodyBold']);
        if (params['cancel'])
            this.cancel = this.i18n.t(params['cancel']);
        this.ok = this.i18n.t(params.ok);
        _super.prototype.show.call(this, params);
    };
    /**
     * Confirm the action.
     */
    ConfirmModalComponent.prototype.confirm = function () {
        _super.prototype.done.call(this, this.data);
    };
    ConfirmModalComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'confirm-modal',
            template: __webpack_require__("./src/app/shared/modal/confirm-modal/confirm-modal.component.html"),
            styles: [__webpack_require__("./src/app/shared/modal/confirm-modal/confirm-modal.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_2__translations_translations_service__["a" /* Translations */]])
    ], ConfirmModalComponent);
    return ConfirmModalComponent;
}(__WEBPACK_IMPORTED_MODULE_1__base_modal__["a" /* BaseModalClass */]));



/***/ }),

/***/ "./src/app/shared/modal/modal-placeholder.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ModalPlaceholderService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ModalPlaceholderService = (function () {
    function ModalPlaceholderService() {
    }
    /**
     * Register modal placeholder view reference and root application element;
     */
    ModalPlaceholderService.prototype.registerViewContainerRef = function (vcRef, rootEl) {
        this.vcRef = vcRef;
        this.rootEl = rootEl;
    };
    ModalPlaceholderService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], ModalPlaceholderService);
    return ModalPlaceholderService;
}());



/***/ }),

/***/ "./src/app/shared/modal/modal.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ModalService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__modal_placeholder_service__ = __webpack_require__("./src/app/shared/modal/modal-placeholder.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ModalService = (function () {
    /**
     * ModalService constructor.
     */
    function ModalService(router, injector, browserEvents, modalPlaceholder, componentFactoryResolver) {
        this.router = router;
        this.injector = injector;
        this.browserEvents = browserEvents;
        this.modalPlaceholder = modalPlaceholder;
        this.componentFactoryResolver = componentFactoryResolver;
        /**
         * All currently active modals.
         */
        this.activeModals = [];
        this.bindToRouterAndKeydownEvents();
    }
    /**
     * Show specified modal.
     */
    ModalService.prototype.show = function (component, params, injector) {
        var _this = this;
        //get number of modals that are currently open
        var numOfModals = this.modalPlaceholder.vcRef.length;
        //create specified modal component
        var componentFactory = this.componentFactoryResolver.resolveComponentFactory(component), componentRef = this.modalPlaceholder.vcRef.createComponent(componentFactory, 0, injector || this.injector);
        componentRef.instance['destroy'] = function () {
            componentRef.destroy();
        };
        componentRef.instance['beforeCloseAnimation'] = function () {
            _this.modalPlaceholder.rootEl.classList.remove('modal-active');
        };
        componentRef.instance['show'](Object.assign({}, params, { numOfModals: numOfModals, placeholder: this.modalPlaceholder }));
        this.activeModals.push(componentRef.instance);
        return componentRef.instance;
    };
    /**
     * Check if any modals are currently open.
     */
    ModalService.prototype.anyOpen = function () {
        return this.modalPlaceholder.vcRef.length;
    };
    /**
     * Close all active modals.
     */
    ModalService.prototype.closeAll = function () {
        this.activeModals.forEach(function (modal) {
            modal.close();
            //wait for animation to complete
            setTimeout(function () {
                modal.destroy();
            }, 201);
        });
        this.activeModals = [];
    };
    /**
     * Close all modals on navigation to different route or ESC key press.
     */
    ModalService.prototype.bindToRouterAndKeydownEvents = function () {
        var _this = this;
        this.router.events.subscribe(function (e) {
            if (e instanceof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* NavigationEnd */]) {
                _this.closeAll();
            }
        });
        this.browserEvents.globalKeyDown$.subscribe(function (e) {
            if (e.keyCode === _this.browserEvents.keyCodes.escape) {
                _this.closeAll();
            }
        });
    };
    ModalService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Injector"],
            __WEBPACK_IMPORTED_MODULE_3__browser_events_service__["a" /* BrowserEvents */],
            __WEBPACK_IMPORTED_MODULE_1__modal_placeholder_service__["a" /* ModalPlaceholderService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ComponentFactoryResolver"]])
    ], ModalService);
    return ModalService;
}());



/***/ }),

/***/ "./src/app/shared/no-results-message/no-results-message.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"text\">\n    <div class=\"main\">\n        <ng-content select=\"[primary-text]\"></ng-content>\n    </div>\n    <div class=\"secondary\">\n        <ng-content select=\"[secondary-text]\"></ng-content>\n    </div>\n</div>\n<div class=\"icon\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\" version=\"1.1\">\n        <g>\n            <path d=\"M 25 1 C 11.761719 1 1 11.761719 1 25 C 1 38.238281 11.761719 49 25 49 C 38.238281 49 49 38.238281 49 25 C 49 11.761719 38.238281 1 25 1 Z M 25 3 C 37.167969 3 47 12.832031 47 25 C 47 37.167969 37.167969 47 25 47 C 12.832031 47 3 37.167969 3 25 C 3 12.832031 12.832031 3 25 3 Z M 38.125 10.1875 L 33.125 15.90625 C 33.511719 16.171875 33.863281 16.519531 34.125 16.90625 L 39.84375 11.90625 C 39.378906 11.222656 38.808594 10.65625 38.125 10.1875 Z M 25 15 C 19.492188 15 15 19.492188 15 25 C 15 30.507813 19.492188 35 25 35 C 30.507813 35 35 30.507813 35 25 C 35 19.492188 30.507813 15 25 15 Z M 25 17 C 29.433594 17 33 20.566406 33 25 C 33 29.433594 29.433594 33 25 33 C 20.566406 33 17 29.433594 17 25 C 17 20.566406 20.566406 17 25 17 Z M 25 23 C 23.894531 23 23 23.894531 23 25 C 23 26.105469 23.894531 27 25 27 C 26.105469 27 27 26.105469 27 25 C 27 23.894531 26.105469 23 25 23 Z M 15.875 33.09375 L 10.15625 38.09375 C 10.621094 38.777344 11.191406 39.34375 11.875 39.8125 L 16.875 34.09375 C 16.488281 33.828125 16.136719 33.480469 15.875 33.09375 Z \"></path>\n        </g>\n    </svg>\n</div>"

/***/ }),

/***/ "./src/app/shared/no-results-message/no-results-message.component.scss":
/***/ (function(module, exports) {

module.exports = "no-results-message {\n  width: 100%;\n  max-height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: column wrap;\n          flex-flow: column wrap;\n  font-weight: 300; }\n  no-results-message > .icon > img, no-results-message > .icon > svg {\n    width: 100px;\n    height: 100px;\n    fill: currentColor; }\n  no-results-message > .text {\n    text-align: center;\n    margin-bottom: 25px;\n    width: 100%; }\n  no-results-message > .text > .main {\n      font-size: 2.6rem; }\n  no-results-message > .text > .secondary {\n      font-size: 1.7rem; }\n  no-results-message > .text a:hover {\n      text-decoration: underline; }\n"

/***/ }),

/***/ "./src/app/shared/no-results-message/no-results-message.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NoResultsMessageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var NoResultsMessageComponent = (function () {
    function NoResultsMessageComponent() {
    }
    NoResultsMessageComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'no-results-message',
            template: __webpack_require__("./src/app/shared/no-results-message/no-results-message.component.html"),
            styles: [__webpack_require__("./src/app/shared/no-results-message/no-results-message.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        })
    ], NoResultsMessageComponent);
    return NoResultsMessageComponent;
}());



/***/ }),

/***/ "./src/app/shared/not-found/not-found-page.component.html":
/***/ (function(module, exports) {

module.exports = "<h1>404 Page Not Found</h1>"

/***/ }),

/***/ "./src/app/shared/not-found/not-found-page.component.scss":
/***/ (function(module, exports) {

module.exports = "not-found-page {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 100%;\n  height: 100%;\n  color: #B0BEC5; }\n  not-found-page > h1 {\n    font-size: 9rem; }\n"

/***/ }),

/***/ "./src/app/shared/not-found/not-found-page.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotFoundPageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var NotFoundPageComponent = (function () {
    function NotFoundPageComponent() {
    }
    NotFoundPageComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'not-found-page',
            template: __webpack_require__("./src/app/shared/not-found/not-found-page.component.html"),
            styles: [__webpack_require__("./src/app/shared/not-found/not-found-page.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        })
    ], NotFoundPageComponent);
    return NotFoundPageComponent;
}());



/***/ }),

/***/ "./src/app/shared/preview-app.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PreviewApp; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PreviewApp = (function () {
    /**
     * PreviewEvents Constructor.
     */
    function PreviewApp(zone, router, currentUser, settings) {
        this.zone = zone;
        this.router = router;
        this.currentUser = currentUser;
        this.settings = settings;
    }
    /**
     * Resolve angular ready promise if app is
     * running under appearance preview iframe.
     */
    PreviewApp.prototype.init = function () {
        if (!this.tokenIsValid())
            return;
        //parent app is waiting for preview app to load
        if (window['angularReadyResolve']) {
            window['angularReadyResolve'](this);
        }
        else {
            window['previewApp'] = this;
        }
    };
    /**
     * Check if CSRF token in iframe url is valid.
     */
    PreviewApp.prototype.tokenIsValid = function () {
        return window.location.search.indexOf('preview=' + this.settings.csrfToken) > -1;
    };
    PreviewApp = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__auth_current_user__["a" /* CurrentUser */],
            __WEBPACK_IMPORTED_MODULE_3__settings_service__["a" /* Settings */]])
    ], PreviewApp);
    return PreviewApp;
}());



/***/ }),

/***/ "./src/app/shared/reorder.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReorderDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ReorderDirective = (function () {
    /**
     * ReorderCategoriesDirective Constructor.
     */
    function ReorderDirective(el, renderer, zone) {
        this.el = el;
        this.renderer = renderer;
        this.zone = zone;
        /**
         * Fired when item re-ordering is done (on drop).
         */
        this.reorder = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * True if user clicked on handle that starts drag and drop.
         * Used to to only allow dragging of elements via handle.
         */
        this.clickTargetIsHandle = false;
        /**
         * Holds drag and drop scrolling timeouts.
         */
        this.timeouts = { scrollUp: null, scrollDown: null };
    }
    ReorderDirective.prototype.ngAfterViewInit = function () {
        this.refresh();
    };
    /**
     * Initiate or refresh drag and drop (sorting) functionality.
     */
    ReorderDirective.prototype.refresh = function () {
        var _this = this;
        this.zone.runOutsideAngular(function () {
            var elements = _this.el.nativeElement.querySelectorAll('.' + _this.itemClass + '[data-id]');
            if (!elements || !elements.forEach)
                return;
            elements.forEach(function (el) {
                _this.renderer.setAttribute(el, 'draggable', 'true');
                _this.renderer.listen(el, 'mousedown', _this.handleMouseDown.bind(_this));
                _this.renderer.listen(el, 'dragstart', _this.handleDragStart.bind(_this));
            });
            _this.renderer.listen(_this.el.nativeElement, 'dragover', _this.handleDragOver.bind(_this));
            _this.renderer.listen(_this.el.nativeElement, 'dragenter', _this.handleDragEnter.bind(_this));
            _this.renderer.listen(_this.el.nativeElement, 'drop', _this.handleDrop.bind(_this));
            _this.renderer.listen(_this.el.nativeElement, 'dragend', _this.handleDragEnd.bind(_this));
        });
    };
    /**
     * Do any needed work on 'mouseDown' event.
     */
    ReorderDirective.prototype.handleMouseDown = function (e) {
        this.clickTargetIsHandle = this.elementIsHandle(e.target);
        if (this.clickTargetIsHandle) {
            e.stopPropagation();
        }
    };
    /**
     * Do any needed work on 'dragStart' event.
     */
    ReorderDirective.prototype.handleDragStart = function (e) {
        e.dataTransfer.effectAllowed = 'move';
        //prevent dragging unless user drags column by handle
        if (!this.clickTargetIsHandle) {
            e.preventDefault();
            return;
        }
        //cache element that is being dragged currently
        this.draggedEl = e.target;
        e.dataTransfer.setData('text/plain', 'dummy');
        this.renderer.addClass(this.draggedEl, 'draggable');
        this.renderer.addClass(this.el.nativeElement, 'dragging');
        this.draggedEl.style['will-change'] = 'transform';
    };
    /**
     * Do any needed work on 'dragOver' event.
     */
    ReorderDirective.prototype.handleDragOver = function (e) {
        e.dataTransfer.dropEffect = 'move';
        if (e.preventDefault)
            e.preventDefault();
        this.scroll(e);
        console.log('over');
        return false;
    };
    /**
     * Do any needed work on 'dragEnter' event.
     */
    ReorderDirective.prototype.handleDragEnter = function (e) {
        console.log('enter');
        var target = e.target.closest('.' + this.itemClass);
        if (!target || !target.getAttribute('data-id') || target['animated'] || !this.draggedEl)
            return;
        //move draggable element below or above element
        // currently under it, based on clientY coordinates
        if (target && target != this.draggedEl) {
            var draggedRect = this.draggedEl.getBoundingClientRect();
            var targetRect = target.getBoundingClientRect();
            if (this.previousClientY > e.clientY) {
                target.parentNode.insertBefore(this.draggedEl, target);
            }
            else {
                target.parentNode.insertBefore(this.draggedEl, target.nextSibling);
            }
            this.animate(targetRect, target);
            this.animate(draggedRect, this.draggedEl);
            this.previousClientY = e.clientY;
        }
    };
    /**
     * Do any needed work on 'drop' event.
     */
    ReorderDirective.prototype.handleDrop = function (e) {
        if (e.stopPropagation)
            e.stopPropagation();
        this.emitReorderEvent();
        return false;
    };
    /**
     * Do any needed work on 'dragend' event.
     */
    ReorderDirective.prototype.handleDragEnd = function (e) {
        if (e.stopPropagation)
            e.stopPropagation();
        if (this.draggedEl) {
            this.renderer.removeClass(this.draggedEl, 'draggable');
            this.renderer.removeClass(this.el.nativeElement, 'dragging');
            this.draggedEl = null;
        }
        this.stopScrolling();
    };
    /**
     * Scroll container up or down if draggable is touching top or bottom edge of container.
     */
    ReorderDirective.prototype.scroll = function (e) {
        var _this = this;
        if (!this.scrollContainer)
            return;
        var y = e.clientY, container = this.el.nativeElement, containerRect = container.getBoundingClientRect(), top = containerRect.top + this.scrollContainer.scrollTop, bottom = this.scrollContainer.getBoundingClientRect().bottom;
        //scroll top
        if (y - top < 20) {
            clearInterval(this.timeouts.scrollUp);
            this.timeouts.scrollUp = setInterval(function () {
                _this.scrollContainer.scrollTop = _this.scrollContainer.scrollTop - 10;
            }, 24);
            //scroll bottom
        }
        else if (bottom - y < 20) {
            clearInterval(this.timeouts.scrollDown);
            this.timeouts.scrollDown = setInterval(function () {
                _this.scrollContainer.scrollTop = _this.scrollContainer.scrollTop + 10;
            }, 24);
            //stop scrolling
        }
        else {
            this.stopScrolling();
        }
    };
    /**
     * Clear drag and drop scrolling intervals.
     */
    ReorderDirective.prototype.stopScrolling = function () {
        clearInterval(this.timeouts.scrollDown);
        clearInterval(this.timeouts.scrollUp);
    };
    /**
     * Animate categories re-ordering.
     */
    ReorderDirective.prototype.animate = function (prevRect, target) {
        var _this = this;
        var ms = 150;
        var currentRect = target.getBoundingClientRect();
        this.renderer.setStyle(target, 'transition', 'none');
        this.renderer.setStyle(target, 'transform', 'translate3d('
            + (prevRect.left - currentRect.left) + 'px,'
            + (prevRect.top - currentRect.top) + 'px,0)');
        target.offsetWidth; // repaint
        this.renderer.setStyle(target, 'transition', 'all ' + ms + 'ms');
        this.renderer.setStyle(target, 'transform', 'translate3d(0,0,0)');
        clearTimeout(target.animated);
        target.animated = setTimeout(function () {
            _this.renderer.setStyle(target, 'transition', '');
            _this.renderer.setStyle(target, 'transform', '');
            target.animated = false;
        }, ms);
    };
    /**
     * Check if specified element or its parent is a drag handle.
     */
    ReorderDirective.prototype.elementIsHandle = function (el) {
        return true;
        // if ( ! el) return false;
        // return this.elementOrParentHasClass(el, 'drag-handle');
    };
    /**
     * Emit reorder event with new order for items.
     */
    ReorderDirective.prototype.emitReorderEvent = function () {
        var _this = this;
        var ids = [];
        var elements = this.el.nativeElement.querySelectorAll('.' + this.itemClass);
        for (var i = 0; i < elements.length; i++) {
            var id = elements[i].getAttribute('data-id');
            id && ids.push(+id);
        }
        this.zone.run(function () {
            _this.reorder.emit(ids);
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", HTMLElement)
    ], ReorderDirective.prototype, "scrollContainer", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('reorder'),
        __metadata("design:type", String)
    ], ReorderDirective.prototype, "itemClass", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"])
    ], ReorderDirective.prototype, "reorder", void 0);
    ReorderDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[reorder]',
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]])
    ], ReorderDirective);
    return ReorderDirective;
}());



/***/ }),

/***/ "./src/app/shared/settings.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Settings; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__environments_environment__ = __webpack_require__("./src/environments/environment.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var Settings = (function () {
    function Settings() {
        /**
         * Public settings.
         */
        this.all = {};
        /**
         * Fired when any of the settings are changed manually.
         */
        this.onChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    /**
     * Set multiple settings on settings service.
     */
    Settings.prototype.setMultiple = function (settings) {
        for (var key in settings) {
            var value = settings[key];
            if (value === '0' || value === '1') {
                value = parseInt(value);
            }
            this.set(key, value);
        }
    };
    /**
     * Set single setting.
     */
    Settings.prototype.set = function (name, value, fireEvent) {
        if (fireEvent === void 0) { fireEvent = false; }
        this.all[name] = value;
        if (fireEvent)
            this.onChange.emit(name);
    };
    /**
     * Get a setting by key, optionally providing default value.
     */
    Settings.prototype.get = function (name, defaultValue) {
        if (defaultValue === void 0) { defaultValue = null; }
        var value = this.all[name];
        if (value === undefined) {
            return defaultValue;
        }
        else {
            return value;
        }
    };
    /**
     * Get all settings.
     */
    Settings.prototype.getAll = function () {
        return this.all;
    };
    /**
     * Check if setting with specified name exists.
     */
    Settings.prototype.has = function (name) {
        return this.all[name] != null;
    };
    /**
     * Get a json setting by key and decode it.
     */
    Settings.prototype.getJson = function (name, defaultValue) {
        if (defaultValue === void 0) { defaultValue = null; }
        JSON.parse(this.get(name, defaultValue));
        return JSON.parse(this.get(name, defaultValue));
    };
    /**
     * Get base url for the app.
     */
    Settings.prototype.getBaseUrl = function (forceServerUrl) {
        if (forceServerUrl === void 0) { forceServerUrl = false; }
        //sometimes we might need to get base url supplied by backend
        //even in development environment, for example, to prevent
        //uploaded images from having proxy urls like "localhost:4200"
        if (this.has('base_url') && (__WEBPACK_IMPORTED_MODULE_1__environments_environment__["a" /* environment */].production || forceServerUrl)) {
            return this.get('base_url') + '/';
        }
        else if (document.querySelector('base')) {
            return document.querySelector('base')['href'];
        }
        else {
            return 'http://';
        }
    };
    /**
     * Get default image url for artist or album.
     */
    Settings.prototype.getDefaultImage = function (type) {
        if (type === 'artist') {
            return this.getBaseUrl() + 'assets/images/default/artist_small.jpg';
        }
        else {
            return this.getBaseUrl() + 'assets/images/default/album.png';
        }
    };
    /**
     * Check if any social login is enabled.
     */
    Settings.prototype.anySocialLoginEnabled = function () {
        var _this = this;
        var names = ['facebook', 'google', 'twitter'];
        return names.filter(function (name) { return _this.get('social.' + name + '.enable'); }).length > -1;
    };
    /**
     * Save specified setting on the server.
     */
    Settings.prototype.save = function (params) {
        if (!params.client && !params.server) {
            params = { client: params };
        }
        this.setMultiple(params.client);
        var encoded = btoa(encodeURIComponent(JSON.stringify(params)));
        return this.http.post('settings', { settings: encoded });
    };
    /**
     * Set HttpClient instance.
     */
    Settings.prototype.setHttpClient = function (http) {
        this.http = http;
    };
    Settings = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], Settings);
    return Settings;
}());



/***/ }),

/***/ "./src/app/shared/shared.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SharedModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__translations_translate_directive__ = __webpack_require__("./src/app/shared/translations/translate.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__toast_toast_component__ = __webpack_require__("./src/app/shared/toast/toast.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__modal_confirm_modal_confirm_modal_component__ = __webpack_require__("./src/app/shared/modal/confirm-modal/confirm-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__svg_icon_svg_icon_component__ = __webpack_require__("./src/app/shared/svg-icon/svg-icon.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__loading_indicator_loading_indicator_component__ = __webpack_require__("./src/app/shared/loading-indicator/loading-indicator.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__tooltip_tooltip_directive__ = __webpack_require__("./src/app/shared/tooltip/tooltip.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__no_results_message_no_results_message_component__ = __webpack_require__("./src/app/shared/no-results-message/no-results-message.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__custom_menu_custom_menu_component__ = __webpack_require__("./src/app/shared/custom-menu/custom-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__utils__ = __webpack_require__("./src/app/shared/utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__modal_modal_placeholder_service__ = __webpack_require__("./src/app/shared/modal/modal-placeholder.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__local_storage_service__ = __webpack_require__("./src/app/shared/local-storage.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__infinite_scroll_infinite_scroll_directive__ = __webpack_require__("./src/app/shared/infinite-scroll/infinite-scroll.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__dropdown_dropdown_component__ = __webpack_require__("./src/app/shared/dropdown/dropdown.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__dropdown_dropdown_service__ = __webpack_require__("./src/app/shared/dropdown/dropdown.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__guards_auth_guard_service__ = __webpack_require__("./src/app/guards/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__empty_route_empty_route_component__ = __webpack_require__("./src/app/shared/empty-route/empty-route.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__reorder_directive__ = __webpack_require__("./src/app/shared/reorder.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__uploads_service__ = __webpack_require__("./src/app/shared/uploads.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__upload_file_modal_upload_file_modal_component__ = __webpack_require__("./src/app/shared/upload-file-modal/upload-file-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__file_dropzone_file_dropzone_directive__ = __webpack_require__("./src/app/shared/file-dropzone/file-dropzone.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__file_validator__ = __webpack_require__("./src/app/shared/file-validator.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__value_lists_service__ = __webpack_require__("./src/app/shared/value-lists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__http_cache_client__ = __webpack_require__("./src/app/shared/http-cache-client.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__pages_page_component__ = __webpack_require__("./src/app/pages/page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__colorpicker_colorpicker_service__ = __webpack_require__("./src/app/shared/colorpicker/colorpicker.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__map_to_iterable__ = __webpack_require__("./src/app/shared/map-to-iterable.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__preview_app_service__ = __webpack_require__("./src/app/shared/preview-app.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__enter_keybind_directive__ = __webpack_require__("./src/app/shared/enter-keybind.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__admin_pages_pages_service__ = __webpack_require__("./src/app/admin/pages/pages.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__guards_disable_route_guard_service__ = __webpack_require__("./src/app/guards/disable-route-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__title_service__ = __webpack_require__("./src/app/shared/title.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__http_error_handler_service__ = __webpack_require__("./src/app/shared/http-error-handler.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__translations_localizations_service__ = __webpack_require__("./src/app/shared/translations/localizations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44_ng_lazyload_image__ = __webpack_require__("./node_modules/ng-lazyload-image/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44_ng_lazyload_image___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_44_ng_lazyload_image__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__guards_check_permissions_guard_service__ = __webpack_require__("./src/app/guards/check-permissions-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__custom_homepage_service__ = __webpack_require__("./src/app/shared/custom-homepage.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















































var SharedModule = (function () {
    function SharedModule() {
    }
    SharedModule_1 = SharedModule;
    SharedModule.forRoot = function () {
        return {
            ngModule: SharedModule_1,
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__settings_service__["a" /* Settings */],
                __WEBPACK_IMPORTED_MODULE_4__app_http_client_service__["a" /* AppHttpClient */],
                __WEBPACK_IMPORTED_MODULE_33__http_cache_client__["a" /* HttpCacheClient */],
                __WEBPACK_IMPORTED_MODULE_42__http_error_handler_service__["a" /* HttpErrorHandler */],
                __WEBPACK_IMPORTED_MODULE_5__translations_translations_service__["a" /* Translations */],
                __WEBPACK_IMPORTED_MODULE_43__translations_localizations_service__["a" /* Localizations */],
                __WEBPACK_IMPORTED_MODULE_7__auth_current_user__["a" /* CurrentUser */],
                __WEBPACK_IMPORTED_MODULE_17__utils__["a" /* utils */],
                __WEBPACK_IMPORTED_MODULE_18__toast_toast_service__["a" /* ToastService */],
                __WEBPACK_IMPORTED_MODULE_19__modal_modal_placeholder_service__["a" /* ModalPlaceholderService */],
                __WEBPACK_IMPORTED_MODULE_20__local_storage_service__["a" /* LocalStorage */],
                __WEBPACK_IMPORTED_MODULE_23__dropdown_dropdown_service__["a" /* DropdownService */],
                __WEBPACK_IMPORTED_MODULE_24__browser_events_service__["a" /* BrowserEvents */],
                __WEBPACK_IMPORTED_MODULE_28__uploads_service__["a" /* Uploads */],
                __WEBPACK_IMPORTED_MODULE_25__guards_auth_guard_service__["a" /* AuthGuard */],
                __WEBPACK_IMPORTED_MODULE_31__file_validator__["a" /* FileValidator */],
                __WEBPACK_IMPORTED_MODULE_32__value_lists_service__["a" /* ValueLists */],
                __WEBPACK_IMPORTED_MODULE_35__colorpicker_colorpicker_service__["a" /* ColorPicker */],
                __WEBPACK_IMPORTED_MODULE_37__preview_app_service__["a" /* PreviewApp */],
                __WEBPACK_IMPORTED_MODULE_39__admin_pages_pages_service__["a" /* Pages */],
                __WEBPACK_IMPORTED_MODULE_40__guards_disable_route_guard_service__["a" /* DisableRouteGuard */],
                __WEBPACK_IMPORTED_MODULE_41__title_service__["a" /* TitleService */],
                __WEBPACK_IMPORTED_MODULE_45__guards_check_permissions_guard_service__["a" /* CheckPermissionsGuard */],
                __WEBPACK_IMPORTED_MODULE_46__custom_homepage_service__["a" /* CustomHomepage */],
            ]
        };
    };
    SharedModule = SharedModule_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_15__angular_common__["CommonModule"],
                __WEBPACK_IMPORTED_MODULE_11__angular_forms__["b" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_11__angular_forms__["c" /* ReactiveFormsModule */],
                __WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* RouterModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpClientModule */],
                __WEBPACK_IMPORTED_MODULE_44_ng_lazyload_image__["LazyLoadImageModule"]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_15__angular_common__["CommonModule"],
                __WEBPACK_IMPORTED_MODULE_11__angular_forms__["b" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_11__angular_forms__["c" /* ReactiveFormsModule */],
                __WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* RouterModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpClientModule */],
                __WEBPACK_IMPORTED_MODULE_44_ng_lazyload_image__["LazyLoadImageModule"],
                __WEBPACK_IMPORTED_MODULE_6__translations_translate_directive__["a" /* TranslateDirective */],
                __WEBPACK_IMPORTED_MODULE_8__toast_toast_component__["a" /* ToastComponent */],
                __WEBPACK_IMPORTED_MODULE_10__svg_icon_svg_icon_component__["a" /* SvgIconComponent */],
                __WEBPACK_IMPORTED_MODULE_9__modal_confirm_modal_confirm_modal_component__["a" /* ConfirmModalComponent */],
                __WEBPACK_IMPORTED_MODULE_12__loading_indicator_loading_indicator_component__["a" /* LoadingIndicatorComponent */],
                __WEBPACK_IMPORTED_MODULE_13__tooltip_tooltip_directive__["a" /* TooltipDirective */],
                __WEBPACK_IMPORTED_MODULE_14__no_results_message_no_results_message_component__["a" /* NoResultsMessageComponent */],
                __WEBPACK_IMPORTED_MODULE_16__custom_menu_custom_menu_component__["a" /* CustomMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_21__infinite_scroll_infinite_scroll_directive__["a" /* InfiniteScrollDirective */],
                __WEBPACK_IMPORTED_MODULE_22__dropdown_dropdown_component__["a" /* DropdownComponent */],
                __WEBPACK_IMPORTED_MODULE_27__reorder_directive__["a" /* ReorderDirective */],
                __WEBPACK_IMPORTED_MODULE_30__file_dropzone_file_dropzone_directive__["a" /* FileDropzoneDirective */],
                __WEBPACK_IMPORTED_MODULE_36__map_to_iterable__["a" /* MapToIterable */],
                __WEBPACK_IMPORTED_MODULE_38__enter_keybind_directive__["a" /* EnterKeybindDirective */],
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_6__translations_translate_directive__["a" /* TranslateDirective */],
                __WEBPACK_IMPORTED_MODULE_8__toast_toast_component__["a" /* ToastComponent */],
                __WEBPACK_IMPORTED_MODULE_10__svg_icon_svg_icon_component__["a" /* SvgIconComponent */],
                __WEBPACK_IMPORTED_MODULE_9__modal_confirm_modal_confirm_modal_component__["a" /* ConfirmModalComponent */],
                __WEBPACK_IMPORTED_MODULE_12__loading_indicator_loading_indicator_component__["a" /* LoadingIndicatorComponent */],
                __WEBPACK_IMPORTED_MODULE_13__tooltip_tooltip_directive__["a" /* TooltipDirective */],
                __WEBPACK_IMPORTED_MODULE_14__no_results_message_no_results_message_component__["a" /* NoResultsMessageComponent */],
                __WEBPACK_IMPORTED_MODULE_16__custom_menu_custom_menu_component__["a" /* CustomMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_21__infinite_scroll_infinite_scroll_directive__["a" /* InfiniteScrollDirective */],
                __WEBPACK_IMPORTED_MODULE_22__dropdown_dropdown_component__["a" /* DropdownComponent */],
                __WEBPACK_IMPORTED_MODULE_26__empty_route_empty_route_component__["a" /* EmptyRouteComponent */],
                __WEBPACK_IMPORTED_MODULE_27__reorder_directive__["a" /* ReorderDirective */],
                __WEBPACK_IMPORTED_MODULE_29__upload_file_modal_upload_file_modal_component__["a" /* UploadFileModalComponent */],
                __WEBPACK_IMPORTED_MODULE_30__file_dropzone_file_dropzone_directive__["a" /* FileDropzoneDirective */],
                __WEBPACK_IMPORTED_MODULE_34__pages_page_component__["a" /* PageComponent */],
                __WEBPACK_IMPORTED_MODULE_36__map_to_iterable__["a" /* MapToIterable */],
                __WEBPACK_IMPORTED_MODULE_38__enter_keybind_directive__["a" /* EnterKeybindDirective */],
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_9__modal_confirm_modal_confirm_modal_component__["a" /* ConfirmModalComponent */],
                __WEBPACK_IMPORTED_MODULE_29__upload_file_modal_upload_file_modal_component__["a" /* UploadFileModalComponent */]
            ]
        })
    ], SharedModule);
    return SharedModule;
    var SharedModule_1;
}());



/***/ }),

/***/ "./src/app/shared/svg-icon/svg-icon.component.html":
/***/ (function(module, exports) {

module.exports = "<svg><use [attr.xlink:href]=\"path\"></use></svg>"

/***/ }),

/***/ "./src/app/shared/svg-icon/svg-icon.component.scss":
/***/ (function(module, exports) {

module.exports = "svg-icon {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  vertical-align: inherit; }\n  svg-icon > svg {\n    display: block;\n    fill: currentColor;\n    width: inherit;\n    height: inherit; }\n  svg-icon.size-18 {\n    width: 18px;\n    height: 18px; }\n  svg-icon.size-20 {\n    width: 20px;\n    height: 20px; }\n  svg-icon.size-22 {\n    width: 22px;\n    height: 22px; }\n  svg-icon.align-middle {\n    vertical-align: middle; }\n  svg-icon.block {\n    display: block; }\n"

/***/ }),

/***/ "./src/app/shared/svg-icon/svg-icon.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SvgIconComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var SvgIconComponent = (function () {
    /**
     * SvgIconComponent Constructor.
     */
    function SvgIconComponent(el, renderer) {
        this.el = el;
        this.renderer = renderer;
    }
    SvgIconComponent.prototype.ngOnInit = function () {
        this.path = 'assets/icons.svg#' + this.name;
        //add 'icon-{icon-name}' class to svg-icon component
        //so it's possible to target specific icons via css
        this.renderer.addClass(this.el.nativeElement, ('icon-' + this.name).replace(/ /g, '-'));
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], SvgIconComponent.prototype, "name", void 0);
    SvgIconComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'svg-icon',
            template: __webpack_require__("./src/app/shared/svg-icon/svg-icon.component.html"),
            styles: [__webpack_require__("./src/app/shared/svg-icon/svg-icon.component.scss")],
            changeDetection: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectionStrategy"].OnPush,
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"], __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"]])
    ], SvgIconComponent);
    return SvgIconComponent;
}());



/***/ }),

/***/ "./src/app/shared/title.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TitleService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils__ = __webpack_require__("./src/app/shared/utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__web_player_player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var TitleService = (function () {
    /**
     * TitleService Constructor.
     */
    function TitleService(router, title, i18n, settings, player) {
        this.router = router;
        this.title = title;
        this.i18n = i18n;
        this.settings = settings;
        this.player = player;
    }
    /**
     * Init title service.
     */
    TitleService.prototype.init = function () {
        this.bindToRouterEvents();
        this.bindToPlaybackEvents();
    };
    /**
     * Get page title for specified route.
     */
    TitleService.prototype.getTitle = function (data) {
        switch (data.name) {
            case 'popular-albums':
                return this.i18n.t('Popular Albums');
            case 'popular-genres':
                return this.i18n.t('Popular Genres');
            case 'top-50':
                return this.i18n.t('Top 50');
            case 'new-releases':
                return this.i18n.t('New Releases');
            case 'account-settings':
                return this.i18n.t('Account Settings');
            case 'library.tracks':
                return this.i18n.t('Library - Songs');
            case 'library.albums':
                return this.i18n.t('Library - Albums');
            case 'library.artists':
                return this.i18n.t('Library - Artists');
            case 'library.playlists':
                return this.i18n.t('Library - Playlists');
            case 'artist':
                return data.artist.get().name;
            case 'album':
                return data.album.name + ' - ' + data.album.artist.name;
            case 'track':
                return data.track.name + ' - ' + data.track.artists[0];
            case 'playlist':
                return data.playlist.get().name;
            case 'user':
                return data.user.display_name;
            case 'genre':
                return __WEBPACK_IMPORTED_MODULE_5__utils__["a" /* utils */].ucFirst(data.genreData.genre.name);
            case 'search':
                return this.i18n.t('Search');
            case 'radio':
                return this.i18n.t('Radio') + ' - ' + data.radio.seed.name;
            default:
                return this.getDefaultTitle();
        }
    };
    /**
     * Get default page title.
     */
    TitleService.prototype.getDefaultTitle = function () {
        return this.settings.get('branding.site_name');
    };
    /**
     * Change page title on playback start and stop events.
     */
    TitleService.prototype.bindToPlaybackEvents = function () {
        var _this = this;
        this.player.state.onChange$.subscribe(function (name) {
            if (name === 'PLAYBACK_STARTED') {
                if (!_this.player.cued())
                    return;
                var track = _this.player.getCuedTrack();
                _this.title.setTitle(track.name + ' - ' + track.artists[0]);
            }
            else if (name === 'PLAYBACK_PAUSED') {
                try {
                    _this.title.setTitle(_this.getTitle(_this.routeData));
                }
                catch (e) {
                    _this.title.setTitle(_this.getDefaultTitle());
                }
            }
        });
    };
    /**
     * Change page title on route change.
     */
    TitleService.prototype.bindToRouterEvents = function () {
        var _this = this;
        this.router.events
            .filter(function (e) { return e instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* NavigationEnd */]; })
            .map(function () {
            var route = _this.router.routerState.root;
            while (route.firstChild)
                route = route.firstChild;
            return route;
        })
            .filter(function (route) { return route.outlet === 'primary'; })
            .mergeMap(function (route) { return route.data; })
            .subscribe(function (data) {
            _this.routeData = data;
            if (_this.player.isPlaying())
                return;
            _this.title.setTitle(_this.getTitle(data));
        });
    };
    TitleService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["c" /* Title */],
            __WEBPACK_IMPORTED_MODULE_3__translations_translations_service__["a" /* Translations */],
            __WEBPACK_IMPORTED_MODULE_4__settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_6__web_player_player_player_service__["a" /* Player */]])
    ], TitleService);
    return TitleService;
}());



/***/ }),

/***/ "./src/app/shared/toast/toast.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"message\">{{message}}</div>\n\n<button class=\"no-style close-button\" *ngIf=\"showCloseButton\" (click)=\"hide()\">\n    <svg-icon name=\"close\"></svg-icon>\n</button>"

/***/ }),

/***/ "./src/app/shared/toast/toast.component.scss":
/***/ (function(module, exports) {

module.exports = "toast {\n  position: fixed;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: 48px;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding: 0 24px;\n  bottom: 10px;\n  right: 10px;\n  border-radius: 2px;\n  min-width: 336px;\n  max-width: 568px;\n  font-size: 1.4rem;\n  -webkit-box-shadow: 0 1px 8px 0 rgba(0, 0, 0, 0.2), 0 3px 4px 0 rgba(0, 0, 0, 0.14), 0 3px 3px -2px rgba(0, 0, 0, 0.12);\n          box-shadow: 0 1px 8px 0 rgba(0, 0, 0, 0.2), 0 3px 4px 0 rgba(0, 0, 0, 0.14), 0 3px 3px -2px rgba(0, 0, 0, 0.12);\n  -webkit-transition: opacity 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), -webkit-transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition: opacity 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), -webkit-transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), -webkit-transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  -webkit-transform: translateY(125%);\n          transform: translateY(125%);\n  opacity: 0;\n  z-index: 15; }\n  toast.toast-open {\n    -webkit-transform: translateY(0%);\n            transform: translateY(0%);\n    opacity: 1; }\n  toast .message {\n    max-width: 85%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  toast .actions {\n    margin-left: auto; }\n  toast .actions > .action {\n      cursor: pointer; }\n  toast .actions > .action:hover {\n        text-decoration: underline; }\n  toast .close-button {\n    margin-left: auto;\n    padding: 4px; }\n  toast.default {\n    background-color: #323232;\n    color: #fff; }\n  toast.default .close-button:hover {\n      background-color: #4c4b4b; }\n  toast.error {\n    background-color: #F44336;\n    color: #fff; }\n  toast.error .close-button:hover {\n      background-color: #ea1c0d; }\n  toast.success {\n    background-color: #4CAF50;\n    color: #fff; }\n  toast.success .close-button:hover {\n      background-color: #3d8b40; }\n"

/***/ }),

/***/ "./src/app/shared/toast/toast.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToastComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ToastComponent = (function () {
    /**
     * ToastComponent Constructor.
     */
    function ToastComponent(el, renderer) {
        this.el = el;
        this.renderer = renderer;
        /**
         * Available toast color types.
         */
        this.types = ['default', 'success', 'error'];
        /**
         * Whether toast close button should be visible.
         */
        this.showCloseButton = true;
    }
    /**
     * Show toast.
     */
    ToastComponent.prototype.show = function (hideDelay, type) {
        var _this = this;
        this.el.nativeElement.classList.add('toast-open');
        //remove old type classes from toast element
        this.types.forEach(function (type) {
            _this.renderer.removeClass(_this.el.nativeElement, type);
        });
        if (this.types.indexOf(type) > -1) {
            this.renderer.addClass(this.el.nativeElement, type);
        }
        if (hideDelay) {
            setTimeout(function () {
                _this.hide();
            }, hideDelay);
        }
    };
    /**
     * Hide toast.
     */
    ToastComponent.prototype.hide = function () {
        this.el.nativeElement.classList.remove('toast-open');
        this.el.nativeElement.classList.remove(this.types);
    };
    ToastComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'toast',
            template: __webpack_require__("./src/app/shared/toast/toast.component.html"),
            styles: [__webpack_require__("./src/app/shared/toast/toast.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"], __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"]])
    ], ToastComponent);
    return ToastComponent;
}());



/***/ }),

/***/ "./src/app/shared/toast/toast.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ToastService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ToastService = (function () {
    /**
     * ToastService Constructor.
     */
    function ToastService(settings, i18n) {
        this.settings = settings;
        this.i18n = i18n;
    }
    /**
     * Show toast.
     */
    ToastService.prototype.show = function (message, config) {
        if (config === void 0) { config = {}; }
        if (!config.delay && config.delay !== 0) {
            config.delay = this.settings.get('toast.default_timeout', 4000);
        }
        this.componentInstance.message = this.i18n.t(message);
        return this.componentInstance.show(config.delay, config.type || 'default');
    };
    /**
     * Register toast component instance.
     */
    ToastService.prototype.registerComponentInstance = function (toast) {
        this.componentInstance = toast;
    };
    ToastService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__settings_service__["a" /* Settings */], __WEBPACK_IMPORTED_MODULE_1__translations_translations_service__["a" /* Translations */]])
    ], ToastService);
    return ToastService;
}());



/***/ }),

/***/ "./src/app/shared/tooltip/tooltip.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TooltipDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_tooltip_js__ = __webpack_require__("./node_modules/tooltip.js/dist/esm/tooltip.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TooltipDirective = (function () {
    /**
     * TooltipDirective Constructor.
     */
    function TooltipDirective(el, i18n, zone) {
        this.el = el;
        this.i18n = i18n;
        this.zone = zone;
        this.tooltipDirection = 'bottom';
    }
    TooltipDirective.prototype.ngOnInit = function () {
        var _this = this;
        this.zone.runOutsideAngular(function () {
            _this.tooltip = new __WEBPACK_IMPORTED_MODULE_2_tooltip_js__["a" /* default */](_this.el.nativeElement, {
                placement: _this.tooltipDirection,
                trigger: 'hover',
                title: _this.i18n.t(_this.tooltipText)
            });
        });
    };
    TooltipDirective.prototype.ngOnDestroy = function () {
        this.tooltip && this.tooltip.dispose();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('tooltip'),
        __metadata("design:type", String)
    ], TooltipDirective.prototype, "tooltipText", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('tooltip-direction'),
        __metadata("design:type", Object)
    ], TooltipDirective.prototype, "tooltipDirection", void 0);
    TooltipDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[tooltip]',
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_1__translations_translations_service__["a" /* Translations */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]])
    ], TooltipDirective);
    return TooltipDirective;
}());



/***/ }),

/***/ "./src/app/shared/translations/localizations.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Localizations; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var Localizations = (function () {
    /**
     * Localizations Constructor.
     */
    function Localizations(http, settings) {
        this.http = http;
        this.settings = settings;
    }
    /**
     * Get all available  localizations.
     */
    Localizations.prototype.all = function () {
        return this.http.get('localizations');
    };
    /**
     * Get localization by specified name.
     */
    Localizations.prototype.get = function (name) {
        return this.http.get('localizations/' + name);
    };
    /**
     * Create new localization.
     */
    Localizations.prototype.create = function (params) {
        return this.http.post('localizations', params);
    };
    /**
     * Update specified localization.
     */
    Localizations.prototype.update = function (id, params) {
        return this.http.put('localizations/' + id, params);
    };
    /**
     * Delete specified localization.
     */
    Localizations.prototype.delete = function (id) {
        return this.http.delete('localizations/' + id);
    };
    /**
     * Set specified localization as default for new users.
     */
    Localizations.prototype.setDefault = function (name) {
        var params = { 'i18n.default_localization': name };
        return this.settings.save({ client: params });
    };
    Localizations = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__app_http_client_service__["a" /* AppHttpClient */], __WEBPACK_IMPORTED_MODULE_2__settings_service__["a" /* Settings */]])
    ], Localizations);
    return Localizations;
}());



/***/ }),

/***/ "./src/app/shared/translations/translate.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TranslateDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TranslateDirective = (function () {
    /**
     * TranslateDirective Constructor.
     */
    function TranslateDirective(el, i18n, settings) {
        this.el = el;
        this.i18n = i18n;
        this.settings = settings;
        /**
         * Active subscriptions for this directive.
         */
        this.subscriptions = [];
    }
    TranslateDirective.prototype.ngAfterViewInit = function () {
        var _this = this;
        if (!this.settings.get('i18n.enable'))
            return;
        var sub = this.i18n.localizationChange.subscribe(function () { return _this.translate(); });
        this.translate();
        this.subscriptions.push(sub);
    };
    /**
     * Translate element.
     */
    TranslateDirective.prototype.translate = function () {
        var el = this.el.nativeElement;
        //don't translate if element has
        //any other content besides text
        if (el.children.length)
            return;
        //translate placeholder
        if (el.getAttribute('placeholder')) {
            var key = el.getAttribute('placeholder');
            el.setAttribute('placeholder', this.i18n.t(key));
        }
        else if (el.getAttribute('title')) {
            var key = el.getAttribute('title');
            el.setAttribute('title', this.i18n.t(key));
        }
        else {
            var key = el.textContent;
            el.textContent = this.i18n.t(key);
        }
    };
    TranslateDirective.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription && subscription.unsubscribe();
        });
        this.subscriptions = [];
    };
    TranslateDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[trans], [trans-placeholder], [trans-title]'
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_1__translations_service__["a" /* Translations */],
            __WEBPACK_IMPORTED_MODULE_2__settings_service__["a" /* Settings */]])
    ], TranslateDirective);
    return TranslateDirective;
}());



/***/ }),

/***/ "./src/app/shared/translations/translations.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Translations; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__types_models_Localization__ = __webpack_require__("./src/app/shared/types/models/Localization.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var Translations = (function () {
    /**
     * Translations Service Constructor.
     */
    function Translations(settings) {
        this.settings = settings;
        /**
         * Fired when active localization changes.
         */
        this.localizationChange = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"];
        /**
         * Currently active localization.
         */
        this.localization = new __WEBPACK_IMPORTED_MODULE_1__types_models_Localization__["a" /* Localization */]({ lines: [] });
    }
    /**
     * Translate specified key.
     */
    Translations.prototype.t = function (transKey, values) {
        if (values === void 0) { values = {}; }
        if (!this.translationsEnabled())
            return transKey;
        var translation = this.localization.lines[transKey] || transKey;
        //replace placeholders with specified values
        for (var key in values) {
            translation = translation.replace(':' + key, values[key]);
        }
        return translation;
    };
    /**
     * Get currently active localization.
     */
    Translations.prototype.getActive = function () {
        return this.localization;
    };
    /**
     * Set active localization.
     */
    Translations.prototype.setLocalization = function (localization) {
        if (this.localization.name === name)
            return;
        if (!localization || !localization.lines)
            return;
        this.localization = localization;
        this.localizationChange.emit();
    };
    /**
     * Check if i18n functionality is enabled.
     */
    Translations.prototype.translationsEnabled = function () {
        return this.settings.get('i18n.enable');
    };
    Translations = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__settings_service__["a" /* Settings */]])
    ], Translations);
    return Translations;
}());



/***/ }),

/***/ "./src/app/shared/types/models/Album.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Album; });
var Album = (function () {
    function Album(params) {
        if (params === void 0) { params = {}; }
        this.views = 0;
        for (var name_1 in params) {
            this[name_1] = params[name_1];
        }
    }
    return Album;
}());



/***/ }),

/***/ "./src/app/shared/types/models/Artist.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Artist; });
var Artist = (function () {
    function Artist(params) {
        if (params === void 0) { params = {}; }
        this.fully_scraped = true;
        this.views = 0;
        for (var name_1 in params) {
            this[name_1] = params[name_1];
        }
    }
    return Artist;
}());



/***/ }),

/***/ "./src/app/shared/types/models/Genre.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Genre; });
var Genre = (function () {
    function Genre(params) {
        if (params === void 0) { params = {}; }
        for (var name_1 in params) {
            this[name_1] = params[name_1];
        }
    }
    return Genre;
}());



/***/ }),

/***/ "./src/app/shared/types/models/Localization.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Localization; });
var Localization = (function () {
    function Localization(params) {
        if (params === void 0) { params = {}; }
        for (var name_1 in params) {
            this[name_1] = params[name_1];
        }
    }
    return Localization;
}());



/***/ }),

/***/ "./src/app/shared/types/models/Page.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Page; });
var Page = (function () {
    function Page(params) {
        if (params === void 0) { params = {}; }
        for (var name_1 in params) {
            this[name_1] = params[name_1];
        }
    }
    return Page;
}());



/***/ }),

/***/ "./src/app/shared/types/models/Playlist.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Playlist; });
var Playlist = (function () {
    function Playlist(params) {
        if (params === void 0) { params = {}; }
        this.views = 0;
        for (var name_1 in params) {
            this[name_1] = params[name_1];
        }
    }
    return Playlist;
}());



/***/ }),

/***/ "./src/app/shared/types/models/Track.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Track; });
var Track = (function () {
    function Track(params) {
        if (params === void 0) { params = {}; }
        this.plays = 0;
        for (var name_1 in params) {
            this[name_1] = params[name_1];
        }
    }
    return Track;
}());



/***/ }),

/***/ "./src/app/shared/types/models/User.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return User; });
var User = (function () {
    function User(params) {
        if (params === void 0) { params = {}; }
        this.created_at = '0000-00-00 00:00:00';
        this.updated_at = '0000-00-00 00:00:00';
        this.confirmed = true;
        this.groups = [];
        for (var name_1 in params) {
            this[name_1] = params[name_1];
        }
    }
    return User;
}());



/***/ }),

/***/ "./src/app/shared/upload-file-modal/upload-file-modal.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"backdrop\"></div>\n\n<div class=\"modal-content\">\n    <div class=\"modal-header\">\n        <h2 class=\"modal-title\" trans>Upload File</h2>\n        <button type=\"button\" (click)=\"close()\" class=\"close-button no-style icon-button\"><svg-icon name=\"close\"></svg-icon></button>\n    </div>\n\n    <div class=\"upload-panel\">\n        <div class=\"menu\">\n            <button class=\"menu-item upload-tab-button no-style\" [class.active]=\"activeTab === 'upload'\" (click)=\"setActiveTab('upload')\" trans>Upload</button>\n            <button class=\"menu-item link-tab-button no-style\" [class.active]=\"activeTab === 'link'\" (click)=\"setActiveTab('link')\" trans>Link</button>\n        </div>\n        \n        <div class=\"tabs\">\n            <div class=\"tab upload\" *ngIf=\"activeTab === 'upload'\">\n                <div class=\"dropzone\" fileDropzone (onUpload)=\"uploadFiles($event)\" trans>Drop Files Here or Click to Upload</div>\n            </div>\n            <div class=\"tab link\" *ngIf=\"activeTab === 'link'\">\n                <div class=\"input-container\">\n                    <label for=\"image-link\" trans>File URL</label>\n                    <input type=\"text\" id=\"image-link\" (change)=\"setLinkModel($event.target['value'])\">\n                    <p>\n                        <span trans>It must be direct link to a file.</span>\n                        <br>\n                        <span trans>Example: http://site.com/image.png</span>\n                    </p>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"errors\" *ngIf=\"errors\">\n            <div class=\"error\" *ngFor=\"let error of errors | mapToIterable\">{{error.value}}</div>\n        </div>\n    </div>\n\n    <div class=\"buttons right\">\n        <button (click)=\"close()\" type=\"button\" class=\"button cancel\" trans>Cancel</button>\n        <button type=\"submit\" class=\"button primary submit-button\" (click)=\"confirm()\" trans>Upload</button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/shared/upload-file-modal/upload-file-modal.component.scss":
/***/ (function(module, exports) {

module.exports = "upload-file-modal {\n  display: block; }\n  upload-file-modal .upload-panel > .menu {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin-bottom: 15px; }\n  upload-file-modal .upload-panel > .menu > .menu-item {\n      border-bottom: 2px solid transparent;\n      padding: 10px 15px;\n      font-size: 1.6rem;\n      color: rgba(0, 0, 0, 0.54); }\n  upload-file-modal .upload-panel > .menu > .menu-item.active {\n        border-color: #6eac00;\n        color: #6eac00; }\n  upload-file-modal .upload-panel > .tabs .dropzone {\n    min-height: 300px;\n    width: 100%;\n    border: 3px dashed #E0E0E0;\n    background-color: #FAFAFA;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    font-size: 2rem;\n    cursor: pointer;\n    font-weight: 300; }\n  @-webkit-keyframes pulsate {\n  0% {\n    opacity: 0.2; }\n  50% {\n    opacity: 1.0; }\n  100% {\n    opacity: 0.2; } }\n  upload-file-modal .upload-panel > .tabs .dropzone.file-over-dropzone {\n      background-color: whitesmoke;\n      border-color: lightgray;\n      -webkit-animation: pulsate 2.5s ease-out;\n      -webkit-animation-iteration-count: infinite; }\n  upload-file-modal .upload-panel > .tabs .dropzone:hover {\n      background-color: whitesmoke;\n      border-color: lightgray; }\n  upload-file-modal .upload-panel > .tabs > .link p {\n    text-align: center;\n    font-size: 1.5rem;\n    margin-top: 20px; }\n  upload-file-modal .upload-panel > .tabs > .tab {\n    margin-top: 30px; }\n  upload-file-modal .upload-panel > .errors {\n    margin-top: 10px; }\n"

/***/ }),

/***/ "./src/app/shared/upload-file-modal/upload-file-modal.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UploadFileModalComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__modal_base_modal__ = __webpack_require__("./src/app/shared/modal/base-modal.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__uploads_service__ = __webpack_require__("./src/app/shared/uploads.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var UploadFileModalComponent = (function (_super) {
    __extends(UploadFileModalComponent, _super);
    /**
     * InsertImageModal Constructor.
     */
    function UploadFileModalComponent(elementRef, renderer, uploads, settings) {
        var _this = _super.call(this, elementRef, renderer) || this;
        _this.elementRef = elementRef;
        _this.renderer = renderer;
        _this.uploads = uploads;
        _this.settings = settings;
        /**
         * Name of current active tab.
         */
        _this.activeTab = 'upload';
        return _this;
    }
    /**
     * Show the modal.
     */
    UploadFileModalComponent.prototype.show = function (params) {
        this.uploadParams = params;
        _super.prototype.show.call(this, params);
    };
    /**
     * Close modal and reset its state.
     */
    UploadFileModalComponent.prototype.close = function () {
        _super.prototype.close.call(this);
        this.linkModel = null;
    };
    /**
     * Fired when user is done with this modal.
     */
    UploadFileModalComponent.prototype.confirm = function () {
        if (Object.keys(this.errors).length || !this.linkModel)
            return;
        this.onDone.emit(this.linkModel);
        this.close();
    };
    /**
     * Set active tab to specified one.
     */
    UploadFileModalComponent.prototype.setActiveTab = function (name) {
        this.activeTab = name;
    };
    /**
     * Set specified link as link model.
     */
    UploadFileModalComponent.prototype.setLinkModel = function (link) {
        var _this = this;
        this.errors = false;
        this.validateImage(link).then(function () {
            _this.linkModel = link;
        }).catch(function () {
            _this.errors = { '*': 'The URL provided is not a valid image.' };
        });
    };
    /**
     * Open browser dialog for selecting files, upload files
     * and set linkModel to absolute url of uploaded image.
     */
    UploadFileModalComponent.prototype.uploadFiles = function (files) {
        var _this = this;
        this.errors = this.uploads.filesAreInvalid(files);
        if (this.errors)
            return;
        this.uploads.uploadFiles(files, this.uploadParams).subscribe(function (response) {
            _this.linkModel = _this.settings.getBaseUrl(true) + response.data[0].url;
            _this.confirm();
        }, function (response) { return _this.errors = response.messages; });
    };
    /**
     * Check if image at specified url exists and is valid.
     */
    UploadFileModalComponent.prototype.validateImage = function (url) {
        if (this.uploadParams.httpParams['type'] === 'track')
            return new Promise(function (resolve) { return resolve(true); });
        return new Promise(function (resolve, reject) {
            var timeout = 500;
            var timer, img = new Image();
            //image is invalid
            img.onerror = img.onabort = function () {
                clearTimeout(timer);
                reject();
            };
            //image is valid
            img.onload = function () {
                clearTimeout(timer);
                resolve();
            };
            //reject image if loading it times out
            timer = setTimeout(function () {
                img = null;
                reject();
            }, timeout);
            img.src = url;
        });
    };
    UploadFileModalComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'upload-file-modal',
            template: __webpack_require__("./src/app/shared/upload-file-modal/upload-file-modal.component.html"),
            styles: [__webpack_require__("./src/app/shared/upload-file-modal/upload-file-modal.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_2__uploads_service__["a" /* Uploads */],
            __WEBPACK_IMPORTED_MODULE_3__settings_service__["a" /* Settings */]])
    ], UploadFileModalComponent);
    return UploadFileModalComponent;
}(__WEBPACK_IMPORTED_MODULE_1__modal_base_modal__["a" /* BaseModalClass */]));



/***/ }),

/***/ "./src/app/shared/uploads.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Uploads; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__("./src/app/shared/utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__file_validator__ = __webpack_require__("./src/app/shared/file-validator.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var Uploads = (function () {
    /**
     * UploadsService Constructor.
     */
    function Uploads(httpClient, validator) {
        this.httpClient = httpClient;
        this.validator = validator;
    }
    Uploads_1 = Uploads;
    /**
     * Get contents of specified file.
     */
    Uploads.prototype.getFileContents = function (file) {
        return this.httpClient.get('uploads/' + file.id);
    };
    /**
     * Download specified upload.
     */
    Uploads.prototype.downloadFile = function (file) {
        //Uploads.downloadFileFromUrl(this.httpClient.makeUrl('uploads/'+file.id+'/download'), file.name);
    };
    /**
     * Download file from specified url.
     */
    Uploads.downloadFileFromUrl = function (url, name) {
        var link = document.createElement('a');
        link.href = url;
        link.download = name;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    };
    /**
     * Delete file upload matching given id.
     */
    Uploads.prototype.delete = function (ids) {
        return this.httpClient.delete('uploads', { ids: ids });
    };
    /**
     * Upload specified files as regular 'uploads'
     */
    Uploads.prototype.uploadFiles = function (files, params) {
        if (params === void 0) { params = {}; }
        if (!params.uri)
            params.uri = 'uploads';
        return this.upload(files, params.uri, params.httpParams);
    };
    /**
     * Upload files to specified uri.
     */
    Uploads.prototype.upload = function (files, uri, params) {
        if (params === void 0) { params = {}; }
        var data = new FormData();
        if (!__WEBPACK_IMPORTED_MODULE_1__utils__["a" /* utils */].isIterable(files))
            files = [files];
        //append files
        for (var i = 0; i < files.length; i++) {
            data.append('files[]', files[i]);
        }
        //append extra params
        for (var name_1 in params) {
            data.append(name_1, params[name_1]);
        }
        return this.httpClient.post(uri, data);
    };
    /**
     * Validate specified files.
     */
    Uploads.prototype.filesAreInvalid = function (fl, showErrors) {
        if (showErrors === void 0) { showErrors = false; }
        return this.validator.validateFiles(fl, showErrors);
    };
    /**
     * Open browser dialog for uploading files and
     * resolve promise with uploaded files.
     */
    Uploads.prototype.openUploadDialog = function (options) {
        if (options === void 0) { options = {}; }
        return new Promise(function (resolve, reject) {
            var input = Uploads_1.makeUploadInput(options);
            input.onchange = function (e) {
                resolve(e.target['files']);
                input.remove();
            };
            document.body.appendChild(input);
            input.click();
        });
    };
    /**
     * Create a html5 file upload input element.
     */
    Uploads.makeUploadInput = function (options) {
        if (options === void 0) { options = {}; }
        var input = document.createElement('input');
        input.type = 'file';
        input.multiple = true;
        input.accept = options['accept'];
        input.classList.add('hidden');
        input.id = 'hidden-file-upload-input';
        document.body.appendChild(input);
        return input;
    };
    Uploads = Uploads_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__app_http_client_service__["a" /* AppHttpClient */], __WEBPACK_IMPORTED_MODULE_3__file_validator__["a" /* FileValidator */]])
    ], Uploads);
    return Uploads;
    var Uploads_1;
}());



/***/ }),

/***/ "./src/app/shared/utils.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return utils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var utils = (function () {
    function utils(settings) {
        this.settings = settings;
        this.loadedScripts = {};
    }
    utils.isIterable = function (item) {
        return typeof item[Symbol.iterator] === 'function' || this.isFileList(item);
    };
    utils.isFileList = function (item) {
        return item instanceof FileList;
    };
    utils.strContains = function (haystack, needle) {
        if (!haystack || !needle)
            return false;
        needle = needle.toLowerCase();
        if (!Array.isArray(haystack)) {
            haystack = [haystack];
        }
        for (var i = 0; i < haystack.length; i++) {
            if (haystack[i].toLowerCase().indexOf(needle) > -1)
                return true;
        }
        return false;
    };
    /**
     * Convert specified string to snake_case
     */
    utils.toSnakeCase = function (string) {
        return string
            .replace(/\s/g, '_')
            .replace(/\.?([A-Z]+)/g, function (x, y) { return "_" + y; })
            .replace(/^_/, '')
            .toLowerCase();
    };
    /**
     * Get object property via dot notation string.
     */
    utils.getObjectProp = function (obj, prop) {
        if (!obj)
            return null;
        var arr = prop.split('.');
        while (arr.length && (obj = obj[arr.shift()]))
            ;
        return obj;
    };
    /**
     * Uppercase first letter of specified string.
     */
    utils.ucFirst = function (string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    };
    /**
     * Flatten specified array of arrays.
     */
    utils.flattenArray = function (arrays) {
        return [].concat.apply([], arrays);
    };
    /**
     * Slugify given string for use in urls.
     */
    utils.slugifyString = function (text) {
        if (!text)
            return text;
        return text.trim()
            .replace(/["']/g, '')
            .replace(/[^a-z0-9-]/gi, '-')
            .replace(/-+/g, '-')
            .replace(/^-|-$/g, '')
            .toLowerCase();
    };
    utils.randomString = function () {
        return (Math.random() + 1).toString(36).substring(7);
    };
    /**
     * Load js script and return promise resolved on script load event.
     */
    utils.prototype.loadScript = function (url, params) {
        var _this = this;
        if (params === void 0) { params = {}; }
        //script is already loaded, return resolved promise
        if (this.loadedScripts[url] === 'loaded' && !params.force) {
            return new Promise(function (resolve) { return resolve(); });
            //script has never been loaded before, load it, return promise and resolve on script load event
        }
        else if (!this.loadedScripts[url]) {
            this.loadedScripts[url] = new Promise(function (resolve, reject) {
                var s = document.createElement('script');
                s.async = true;
                s.id = params.id || url.split('/').pop();
                s.src = url.indexOf('//') > -1 ? url : _this.settings.getBaseUrl(true) + url;
                s.onload = function () {
                    _this.loadedScripts[url] = 'loaded';
                    resolve();
                };
                document.body.appendChild(s);
            });
            return this.loadedScripts[url];
            //script is still loading, return existing promise
        }
        else {
            return this.loadedScripts[url];
        }
    };
    utils = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__settings_service__["a" /* Settings */]])
    ], utils);
    return utils;
}());



/***/ }),

/***/ "./src/app/shared/value-lists.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ValueLists; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__http_cache_client__ = __webpack_require__("./src/app/shared/http-cache-client.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ValueLists = (function () {
    /**
     * ValueListsService Constructor.
     */
    function ValueLists(httpClient) {
        this.httpClient = httpClient;
    }
    /**
     * Fetch all existing app permissions.
     */
    ValueLists.prototype.getPermissions = function () {
        return this.httpClient.getWithCache('value-lists/permissions');
    };
    ValueLists.prototype.getValuesForSelects = function () {
        return this.httpClient.getWithCache('value-lists/selects');
    };
    ValueLists = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__http_cache_client__["a" /* HttpCacheClient */]])
    ], ValueLists);
    return ValueLists;
}());



/***/ }),

/***/ "./src/app/shared/xsrf-interceptor.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return XsrfInterceptor; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


//TODO: get default angular XSRF-INTERCEPTOR to work
var XsrfInterceptor = (function () {
    function XsrfInterceptor(doc, platform) {
        this.doc = doc;
        this.platform = platform;
        this.headerName = 'X-XSRF-TOKEN';
        this.lastCookieString = '';
        this.lastToken = null;
    }
    XsrfInterceptor.prototype.intercept = function (req, next) {
        var lcUrl = req.url.toLowerCase();
        // Skip both non-mutating requests and absolute URLs.
        // Non-mutating requests don't require a token, and absolute URLs require special handling
        // anyway as the cookie set
        // on our origin is not the same as the token expected by another origin.
        if (req.method === 'GET' || req.method === 'HEAD' || lcUrl.startsWith('http://') ||
            lcUrl.startsWith('https://')) {
            return next.handle(req);
        }
        var token = this.getToken();
        // Be careful not to overwrite an existing header of the same name.
        if (token !== null && !req.headers.has(this.headerName)) {
            req = req.clone({ headers: req.headers.set(this.headerName, token) });
        }
        return next.handle(req);
    };
    XsrfInterceptor.prototype.getToken = function () {
        if (this.platform === 'server') {
            return null;
        }
        var cookieString = this.doc.cookie || '';
        if (cookieString !== this.lastCookieString) {
            this.lastToken = this.parseCookieValue(cookieString, 'XSRF-TOKEN');
            this.lastCookieString = cookieString;
        }
        return this.lastToken;
    };
    XsrfInterceptor.prototype.parseCookieValue = function (cookieStr, name) {
        name = encodeURIComponent(name);
        for (var _i = 0, _a = cookieStr.split(';'); _i < _a.length; _i++) {
            var cookie = _a[_i];
            var eqIndex = cookie.indexOf('=');
            var _b = eqIndex == -1 ? [cookie, ''] : [cookie.slice(0, eqIndex), cookie.slice(eqIndex + 1)], cookieName = _b[0], cookieValue = _b[1];
            if (cookieName.trim() === name) {
                return decodeURIComponent(cookieValue);
            }
        }
        return null;
    };
    XsrfInterceptor = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __param(0, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_1__angular_common__["DOCUMENT"])), __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_0__angular_core__["PLATFORM_ID"])),
        __metadata("design:paramtypes", [Object, String])
    ], XsrfInterceptor);
    return XsrfInterceptor;
}());



/***/ }),

/***/ "./src/app/web-player/ad-host/ad-host.component.html":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/web-player/ad-host/ad-host.component.scss":
/***/ (function(module, exports) {

module.exports = "ad-host {\n  display: block;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  max-width: 100%;\n  overflow: hidden; }\n  ad-host.margin-bottom {\n    margin-bottom: 15px; }\n  ad-host.margin-top {\n    margin-top: 15px; }\n"

/***/ }),

/***/ "./src/app/web-player/ad-host/ad-host.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdHostComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_utils__ = __webpack_require__("./src/app/shared/utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AdHostComponent = (function () {
    /**
     * AdHostComponent Constructor.
     */
    function AdHostComponent(el, renderer, utils, settings) {
        this.el = el;
        this.renderer = renderer;
        this.utils = utils;
        this.settings = settings;
    }
    AdHostComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.settings.get('ads.disable'))
            return;
        this.randomId = __WEBPACK_IMPORTED_MODULE_1__shared_utils__["a" /* utils */].randomString();
        this.setAdCode();
        if (!this.adCode)
            return;
        this.appendAdHtml();
        this.loadAdScripts().then(function () {
            _this.executeAdJavascript();
        });
        setTimeout(function () {
            _this.renderer.setStyle(_this.el.nativeElement, 'display', 'flex');
        }, 600);
    };
    /**
     * set ad that should be displayed.
     */
    AdHostComponent.prototype.setAdCode = function () {
        this.adCode = this.settings.get(this.slot);
    };
    /**
     * Extract and append any non-javascript html tags from ad code.
     */
    AdHostComponent.prototype.appendAdHtml = function () {
        //strip out all script tags from ad code and leave only html
        var adHtml = this.adCode.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '').trim();
        if (adHtml) {
            this.el.nativeElement.innerHTML = adHtml;
        }
    };
    /**
     * Execute ad code javascript and replace document.write if needed.
     */
    AdHostComponent.prototype.executeAdJavascript = function () {
        //find any ad code javascript that needs to be executed
        var pattern = /<script\b[^>]*>([\s\S]*?)<\/script>/g, content;
        while (content = pattern.exec(this.adCode)) {
            if (content[1]) {
                var r = "var d = document.createElement('div'); d.innerHTML = $1; document.getElementById('" + this.randomId + "').appendChild(d.firstChild);";
                var toEval = content[1].replace(/document.write\((.+?)\);/, r);
                eval(toEval);
            }
        }
    };
    /**
     * Load any external scripts needed by ad.
     */
    AdHostComponent.prototype.loadAdScripts = function () {
        var promises = [];
        //load ad code script
        var pattern = /<script.*?src="(.*?)"/g, match;
        while (match = pattern.exec(this.adCode)) {
            if (match[1]) {
                promises.push(this.utils.loadScript(match[1]));
            }
        }
        return Promise.all(promises);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], AdHostComponent.prototype, "slot", void 0);
    AdHostComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'ad-host',
            template: __webpack_require__("./src/app/web-player/ad-host/ad-host.component.html"),
            styles: [__webpack_require__("./src/app/web-player/ad-host/ad-host.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            changeDetection: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectionStrategy"].OnPush,
            host: { '[id]': 'randomId' }
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_1__shared_utils__["a" /* utils */],
            __WEBPACK_IMPORTED_MODULE_2__shared_settings_service__["a" /* Settings */]])
    ], AdHostComponent);
    return AdHostComponent;
}());



/***/ }),

/***/ "./src/app/web-player/albums/album-context-menu/album-context-menu.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"header\">\n    <img [src]=\"item.image\">\n    <div class=\"meta\">\n        <a class=\"primary-name hover-underline\" [routerLink]=\"urls.album(item)\">{{item.name}}</a>\n        <a class=\"secondary-name hover-underline\" [routerLink]=\"urls.artist(item.artist)\">{{item.artist.name}}</a>\n    </div>\n</div>\n\n<div class=\"context-menu-panel primary-panel\" [class.hidden]=\"!activePanelIs('primary')\">\n    <div class=\"panel-body\">\n        <div class=\"menu-item\" (click)=\"addToQueue()\" trans>Add to Queue</div>\n        <div class=\"menu-item\" (click)=\"openPanel('playlist')\"><span trans>Add to Playlist</span> <svg-icon name=\"keyboard-arrow-right\"></svg-icon></div>\n        <div class=\"menu-item\" (click)=\"saveToLibrary()\" trans>Save to Your Music</div>\n        <div class=\"menu-item\" (click)=\"copyLinkToClipboard()\" trans>Copy Album Link</div>\n        <div class=\"menu-item\" (click)=\"openShareModal()\" trans>Share</div>\n        <a class=\"menu-item\"  routerLink=\"admin/albums\" [queryParams]=\"{album_id: item.id}\" *ngIf=\"currentUser.hasPermission('albums.update')\" trans>Edit</a>\n    </div>\n</div>\n\n<context-menu-playlist-panel class=\"context-menu-panel\" [class.hidden]=\"!activePanelIs('playlist')\" [tracks]=\"getTracks()\" (close$)=\"openPanel('primary')\"></context-menu-playlist-panel>"

/***/ }),

/***/ "./src/app/web-player/albums/album-context-menu/album-context-menu.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/web-player/albums/album-context-menu/album-context-menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlbumContextMenuComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__web_player_utils__ = __webpack_require__("./src/app/web-player/web-player-utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__context_menu_context_menu_component__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.component.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AlbumContextMenuComponent = (function (_super) {
    __extends(AlbumContextMenuComponent, _super);
    /**
     * AlbumContextMenuComponent Constructor.
     */
    function AlbumContextMenuComponent(injector) {
        var _this = _super.call(this, injector) || this;
        _this.injector = injector;
        return _this;
    }
    /**
     * Copy fully qualified album url to clipboard.
     */
    AlbumContextMenuComponent.prototype.copyLinkToClipboard = function () {
        _super.prototype.copyLinkToClipboard.call(this, 'album');
    };
    /**
     * Get tracks that should be used by context menu.
     */
    AlbumContextMenuComponent.prototype.getTracks = function () {
        return __WEBPACK_IMPORTED_MODULE_1__web_player_utils__["a" /* WpUtils */].assignAlbumToTracks(this.item.tracks, this.item);
    };
    AlbumContextMenuComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'album-context-menu',
            template: __webpack_require__("./src/app/web-player/albums/album-context-menu/album-context-menu.component.html"),
            styles: [__webpack_require__("./src/app/web-player/albums/album-context-menu/album-context-menu.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { 'class': 'context-menu' },
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injector"]])
    ], AlbumContextMenuComponent);
    return AlbumContextMenuComponent;
}(__WEBPACK_IMPORTED_MODULE_2__context_menu_context_menu_component__["a" /* ContextMenuComponent */]));



/***/ }),

/***/ "./src/app/web-player/albums/album-item/album-item.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"img-container\">\n    <img [src]=\"settings.getDefaultImage('album')\" [lazyLoad]=\"album.image\" [scrollTarget]=\"scrollContainer\" class=\"lazy-loaded\">\n    <playback-control-button (play)=\"play()\" (pause)=\"pause()\" [playing]=\"playing()\"></playback-control-button>\n</div>\n<div class=\"footer\">\n    <a class=\"album-name primary-text\" [routerLink]=\"urls.album(album)\">{{album.name}}</a>\n    <a class=\"artist-name secondary-text\" *ngIf=\"album.artist\" [routerLink]=\"urls.artist(album.artist)\">{{album.artist.name}}</a>\n</div>"

/***/ }),

/***/ "./src/app/web-player/albums/album-item/album-item.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/web-player/albums/album-item/album-item.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlbumItemComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Album__ = __webpack_require__("./src/app/shared/types/models/Album.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__albums_service__ = __webpack_require__("./src/app/web-player/albums/albums.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__web_player_utils__ = __webpack_require__("./src/app/web-player/web-player-utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var AlbumItemComponent = (function () {
    /**
     * AlbumItemComponent Constructor
     */
    function AlbumItemComponent(urls, albums, player, settings, toast) {
        this.urls = urls;
        this.albums = albums;
        this.player = player;
        this.settings = settings;
        this.toast = toast;
    }
    /**
     * Check if album is playing currently.
     */
    AlbumItemComponent.prototype.playing = function () {
        return this.player.state.playing && this.player.queue.getQueuedItem() === this.album.id;
    };
    /**
     * Play all album tracks.
     */
    AlbumItemComponent.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var _a, tracks;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.player.stop();
                        this.player.state.buffering = true;
                        if (!(!this.album.tracks || !this.album.tracks.length)) return [3 /*break*/, 2];
                        _a = this;
                        return [4 /*yield*/, this.albums.get(this.album.id).toPromise()];
                    case 1:
                        _a.album = _b.sent();
                        _b.label = 2;
                    case 2:
                        tracks = __WEBPACK_IMPORTED_MODULE_5__web_player_utils__["a" /* WpUtils */].assignAlbumToTracks(this.album.tracks, this.album);
                        //if could not fetch any tracks for album, bail
                        if (!tracks.length) {
                            this.toast.show('This album has no songs yet.');
                            return [2 /*return*/, this.player.state.buffering = false];
                        }
                        this.player.overrideQueue({
                            tracks: tracks,
                            queuedItemId: this.album.id
                        }).then(function () {
                            _this.player.play();
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Pause the album.
     */
    AlbumItemComponent.prototype.pause = function () {
        this.player.pause();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Album__["a" /* Album */])
    ], AlbumItemComponent.prototype, "album", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", HTMLElement)
    ], AlbumItemComponent.prototype, "scrollContainer", void 0);
    AlbumItemComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'album-item',
            template: __webpack_require__("./src/app/web-player/albums/album-item/album-item.component.html"),
            styles: [__webpack_require__("./src/app/web-player/albums/album-item/album-item.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { 'class': 'media-grid-item', '[class.active]': 'playing()' },
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_3__albums_service__["a" /* Albums */],
            __WEBPACK_IMPORTED_MODULE_4__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_6__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_7__shared_toast_toast_service__["a" /* ToastService */]])
    ], AlbumItemComponent);
    return AlbumItemComponent;
}());



/***/ }),

/***/ "./src/app/web-player/albums/album/album-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlbumResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__albums_service__ = __webpack_require__("./src/app/web-player/albums/albums.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AlbumResolver = (function () {
    function AlbumResolver(albums, router, state) {
        this.albums = albums;
        this.router = router;
        this.state = state;
    }
    AlbumResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        var id = +route.paramMap.get('id');
        return this.albums.get(id).toPromise().then(function (album) {
            _this.state.loading = false;
            if (album) {
                return album;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    AlbumResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__albums_service__["a" /* Albums */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__["a" /* WebPlayerState */]])
    ], AlbumResolver);
    return AlbumResolver;
}());



/***/ }),

/***/ "./src/app/web-player/albums/album/album.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar>\n    <div class=\"header\">\n        <img [src]=\"album.image\">\n        <div class=\"meta\">\n            <div class=\"album-name\">{{album.name}}</div>\n            <a class=\"artist-name\" *ngIf=\"album.artist\" [routerLink]=\"urls.artist(album.artist)\">{{album.artist.name}}</a>\n\n            <div class=\"release-date meta-item\">\n                <span class=\"name\" trans>Release Date:</span>\n                <span class=\"value\">{{album.release_date}}</span>\n            </div>\n            <div class=\"tracks-number meta-item\">\n                <span class=\"name\" trans>Number of Songs:</span>\n                <span class=\"value\">{{album.tracks.length}}</span>\n            </div>\n            <div class=\"running-time meta-item\">\n                <span class=\"name\" trans>Running Time:</span>\n                <span class=\"value\">{{totalDuration}}</span>\n            </div>\n\n            <div class=\"main-buttons\">\n                <button class=\"no-style play-button\" *ngIf=\"!playing()\" (click)=\"play()\">\n                    <svg-icon name=\"play-arrow\"></svg-icon>\n                    <span trans>Play</span>\n                </button>\n                <button class=\"no-style play-button\" *ngIf=\"playing()\" (click)=\"pause()\" trans>\n                    <svg-icon name=\"pause\"></svg-icon>\n                    <span trans>Pause</span>\n                </button>\n                <button class=\"no-style more-button\" (click)=\"openContextMenu($event)\" trans>More...</button>\n            </div>\n        </div>\n    </div>\n\n    <ad-host slot=\"ad_slot_5\" class=\"margin-bottom\"></ad-host>\n\n    <track-list [tracks]=\"album.tracks\"></track-list>\n</div>"

/***/ }),

/***/ "./src/app/web-player/albums/album/album.component.scss":
/***/ (function(module, exports) {

module.exports = "album {\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow: auto; }\n  album > .scroll-container {\n    padding: 25px; }\n  album .header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin-bottom: 40px; }\n  album .header > img {\n      width: 225px;\n      height: 225px; }\n  album .header > .meta {\n      margin-left: 15px; }\n  album .header > .meta > .album-name {\n        font-size: 4.2rem;\n        font-weight: 300; }\n  album .header > .meta > .artist-name {\n        display: block;\n        font-size: 1.54rem;\n        margin-bottom: 20px;\n        color: inherit; }\n  album .header > .meta > .meta-item {\n        font-size: 1.5rem;\n        margin-bottom: 2px; }\n  album .header > .meta > .meta-item > .name {\n          display: inline-block;\n          min-width: 120px;\n          margin-right: 20px;\n          color: #9999a6; }\n  album .header > .meta > .meta-item > .value {\n          font-weight: 500; }\n  @media only screen and (max-width: 768px) {\n      album .header {\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: column;\n                flex-direction: column;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center; }\n        album .header > .meta {\n          margin: 10px 0 0; }\n          album .header > .meta > .album-name {\n            font-size: 2.5rem; } }\n  album .main-buttons {\n    position: relative;\n    margin-top: 20px; }\n  @media only screen and (max-width: 768px) {\n      album .main-buttons {\n        text-align: center; } }\n  album .main-buttons > button {\n      padding: 7px 0;\n      border: 2px solid transparent;\n      border-radius: 25px;\n      color: #fff;\n      text-transform: uppercase;\n      min-width: 110px; }\n  album .main-buttons > button.play-button {\n        background-color: #6eac00;\n        border-color: #6eac00;\n        margin-right: 10px; }\n  album .main-buttons > button.play-button > svg-icon {\n          width: 16px;\n          height: 16px;\n          display: inline-block;\n          vertical-align: middle; }\n  album .main-buttons > button.play-button:hover {\n          background-color: #78bb00; }\n  album .main-buttons > button.more-button {\n        background-color: #2a2a35;\n        border: 1px solid rgba(255, 255, 255, 0.1); }\n  album .main-buttons > button.more-button:hover {\n          background-color: #353543; }\n"

/***/ }),

/***/ "./src/app/web-player/albums/album/album.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlbumComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_formatted_duration_service__ = __webpack_require__("./src/app/web-player/player/formatted-duration.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__album_context_menu_album_context_menu_component__ = __webpack_require__("./src/app/web-player/albums/album-context-menu/album-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__web_player_utils__ = __webpack_require__("./src/app/web-player/web-player-utils.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var AlbumComponent = (function () {
    /**
     * AlbumComponent Constructor.
     */
    function AlbumComponent(route, urls, duration, player, contextMenu) {
        this.route = route;
        this.urls = urls;
        this.duration = duration;
        this.player = player;
        this.contextMenu = contextMenu;
    }
    AlbumComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.setAlbum(data.album);
            var total = _this.album.tracks.reduce(function (total, track2) { return total + track2.duration; }, 0);
            _this.totalDuration = _this.duration.fromMilliseconds(total);
        });
    };
    /**
     * Check if album is playing currently.
     */
    AlbumComponent.prototype.playing = function () {
        return this.player.state.playing && this.player.queue.getQueuedItem() === this.album.id;
    };
    /**
     * Play all album tracks.
     */
    AlbumComponent.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.player.stop();
                this.player.state.buffering = true;
                this.player.overrideQueue({
                    tracks: this.album.tracks,
                    queuedItemId: this.album.id
                }).then(function () {
                    _this.player.play();
                });
                return [2 /*return*/];
            });
        });
    };
    /**
     * Pause the album.
     */
    AlbumComponent.prototype.pause = function () {
        this.player.pause();
    };
    /**
     * Open album context menu.
     */
    AlbumComponent.prototype.openContextMenu = function (e) {
        e.stopPropagation();
        this.contextMenu.show(__WEBPACK_IMPORTED_MODULE_6__album_context_menu_album_context_menu_component__["a" /* AlbumContextMenuComponent */], { item: this.album, type: 'album' }, e.target);
    };
    /**
     * Set album object on each album track.
     */
    AlbumComponent.prototype.setAlbum = function (album) {
        var simplifiedAlbum = Object.assign({}, album, { tracks: [] });
        album.tracks = __WEBPACK_IMPORTED_MODULE_7__web_player_utils__["a" /* WpUtils */].assignAlbumToTracks(album.tracks, simplifiedAlbum);
        this.album = album;
    };
    AlbumComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'album',
            template: __webpack_require__("./src/app/web-player/albums/album/album.component.html"),
            styles: [__webpack_require__("./src/app/web-player/albums/album/album.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_3__player_formatted_duration_service__["a" /* FormattedDuration */],
            __WEBPACK_IMPORTED_MODULE_4__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_5__context_menu_context_menu_service__["a" /* ContextMenu */]])
    ], AlbumComponent);
    return AlbumComponent;
}());



/***/ }),

/***/ "./src/app/web-player/albums/albums.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Albums; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Albums = (function () {
    /**
     * Albums Service Constructor.
     */
    function Albums(httpClient) {
        this.httpClient = httpClient;
    }
    /**
     * Get album matching specified id.
     */
    Albums.prototype.get = function (id) {
        return this.httpClient.get('albums/' + id);
    };
    /**
     * Get popular albums.
     */
    Albums.prototype.getPopular = function () {
        return this.httpClient.get('albums/popular');
    };
    /**
     * Get new releases.
     */
    Albums.prototype.getNewReleases = function () {
        return this.httpClient.get('albums/new-releases');
    };
    /**
     * Create a new album.
     */
    Albums.prototype.create = function (payload) {
        return this.httpClient.post('albums', payload);
    };
    /**
     * Update existing album.
     */
    Albums.prototype.update = function (id, payload) {
        return this.httpClient.put('albums/' + id, payload);
    };
    /**
     * Delete specified albums.
     */
    Albums.prototype.delete = function (ids) {
        return this.httpClient.delete('albums', { ids: ids });
    };
    Albums = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__["a" /* AppHttpClient */]])
    ], Albums);
    return Albums;
}());



/***/ }),

/***/ "./src/app/web-player/albums/new-releases-page/new-releases-page.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar #scrollContainer>\n    <filterable-page-header [filterQuery]=\"filterQuery\" class=\"margin\">\n        <span trans>New Releases</span>\n    </filterable-page-header>\n\n    <ad-host slot=\"ad_slot_1\"></ad-host>\n\n    <media-grid>\n        <album-item *ngFor=\"let album of filteredItems\" [album]=\"album\" [contextMenu]=\"{item: album, type: 'album'}\" [scrollContainer]=\"scrollContainer\"></album-item>\n    </media-grid>\n\n    <no-results-message *ngIf=\"!filteredItems || ! filteredItems.length\">\n        <span primary-text trans>No new releases found.</span>\n        <span secondary-text trans>Could not find any new releases. Please try again later.</span>\n    </no-results-message>\n\n    <ad-host slot=\"ad_slot_2\" class=\"margin-bottom\"></ad-host>\n</div>"

/***/ }),

/***/ "./src/app/web-player/albums/new-releases-page/new-releases-page.component.scss":
/***/ (function(module, exports) {

module.exports = "new-releases-page {\n  display: block;\n  width: 100%;\n  height: 100%;\n  min-width: 0; }\n"

/***/ }),

/***/ "./src/app/web-player/albums/new-releases-page/new-releases-page.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewReleasesPageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__filterable_page_filterable_page__ = __webpack_require__("./src/app/web-player/filterable-page/filterable-page.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var NewReleasesPageComponent = (function (_super) {
    __extends(NewReleasesPageComponent, _super);
    /**
     * PopularAlbumsComponent Constructor.
     */
    function NewReleasesPageComponent(route) {
        var _this = _super.call(this, ['name', 'artist.name']) || this;
        _this.route = route;
        return _this;
    }
    NewReleasesPageComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.setItems(data.albums);
        });
    };
    NewReleasesPageComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'new-releases-page',
            template: __webpack_require__("./src/app/web-player/albums/new-releases-page/new-releases-page.component.html"),
            styles: [__webpack_require__("./src/app/web-player/albums/new-releases-page/new-releases-page.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */]])
    ], NewReleasesPageComponent);
    return NewReleasesPageComponent;
}(__WEBPACK_IMPORTED_MODULE_1__filterable_page_filterable_page__["a" /* FilterablePage */]));



/***/ }),

/***/ "./src/app/web-player/albums/new-releases-page/new-releases-page.resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewReleasesPageResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__albums_service__ = __webpack_require__("./src/app/web-player/albums/albums.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var NewReleasesPageResolver = (function () {
    function NewReleasesPageResolver(albums, router, state) {
        this.albums = albums;
        this.router = router;
        this.state = state;
    }
    NewReleasesPageResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        return this.albums.getNewReleases().toPromise().then(function (albums) {
            _this.state.loading = false;
            if (albums) {
                return albums;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    NewReleasesPageResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__albums_service__["a" /* Albums */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__["a" /* WebPlayerState */]])
    ], NewReleasesPageResolver);
    return NewReleasesPageResolver;
}());



/***/ }),

/***/ "./src/app/web-player/albums/popular-albums/popular-albums-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PopularAlbumsResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__albums_service__ = __webpack_require__("./src/app/web-player/albums/albums.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PopularAlbumsResolver = (function () {
    function PopularAlbumsResolver(albums, router, state) {
        this.albums = albums;
        this.router = router;
        this.state = state;
    }
    PopularAlbumsResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        return this.albums.getPopular().toPromise().then(function (albums) {
            _this.state.loading = false;
            if (albums) {
                return albums;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    PopularAlbumsResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__albums_service__["a" /* Albums */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__["a" /* WebPlayerState */]])
    ], PopularAlbumsResolver);
    return PopularAlbumsResolver;
}());



/***/ }),

/***/ "./src/app/web-player/albums/popular-albums/popular-albums.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar #scrollContainer>\n    <filterable-page-header [filterQuery]=\"filterQuery\" class=\"margin\">\n        <span trans>Popular Albums</span>\n    </filterable-page-header>\n\n    <ad-host slot=\"ad_slot_1\"></ad-host>\n\n    <media-grid>\n        <album-item *ngFor=\"let album of filteredItems\" [album]=\"album\" [contextMenu]=\"{item: album, type: 'album'}\" [scrollContainer]=\"scrollContainer\"></album-item>\n    </media-grid>\n\n    <no-results-message *ngIf=\"!filteredItems || ! filteredItems.length\">\n        <span primary-text trans>No albums found.</span>\n        <span secondary-text trans>Could not find any popular albums. Please try again later.</span>\n    </no-results-message>\n\n    <ad-host slot=\"ad_slot_2\" class=\"margin-bottom\"></ad-host>\n</div>"

/***/ }),

/***/ "./src/app/web-player/albums/popular-albums/popular-albums.component.scss":
/***/ (function(module, exports) {

module.exports = "popular-albums {\n  display: block;\n  width: 100%;\n  height: 100%; }\n"

/***/ }),

/***/ "./src/app/web-player/albums/popular-albums/popular-albums.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PopularAlbumsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__filterable_page_filterable_page__ = __webpack_require__("./src/app/web-player/filterable-page/filterable-page.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PopularAlbumsComponent = (function (_super) {
    __extends(PopularAlbumsComponent, _super);
    /**
     * PopularAlbumsComponent Constructor.
     */
    function PopularAlbumsComponent(route) {
        var _this = _super.call(this, ['name', 'artist.name']) || this;
        _this.route = route;
        return _this;
    }
    PopularAlbumsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.setItems(data.albums);
        });
    };
    PopularAlbumsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'popular-albums',
            template: __webpack_require__("./src/app/web-player/albums/popular-albums/popular-albums.component.html"),
            styles: [__webpack_require__("./src/app/web-player/albums/popular-albums/popular-albums.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */]])
    ], PopularAlbumsComponent);
    return PopularAlbumsComponent;
}(__WEBPACK_IMPORTED_MODULE_1__filterable_page_filterable_page__["a" /* FilterablePage */]));



/***/ }),

/***/ "./src/app/web-player/artists/artist-context-menu/artist-context-menu.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"header\">\n    <img [src]=\"item.image_small\">\n    <div class=\"meta\">\n        <a class=\"primary-name hover-underline\" [routerLink]=\"urls.artist(item)\">{{item.name}}</a>\n    </div>\n</div>\n\n<div class=\"context-menu-panel primary-panel\">\n    <div class=\"panel-body\">\n        <div class=\"menu-item\" (click)=\"goToArtistRadio()\" trans>Go to Artist Radio</div>\n        <div class=\"menu-item\" (click)=\"copyLinkToClipboard()\" trans>Copy Artist Link</div>\n        <div class=\"menu-item\" (click)=\"openShareModal()\" trans>Share</div>\n        <a class=\"menu-item\"  [routerLink]=\"urls.editArtist(item)\" *ngIf=\"currentUser.hasPermission('artists.update')\" trans>Edit</a>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/artists/artist-context-menu/artist-context-menu.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/web-player/artists/artist-context-menu/artist-context-menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ArtistContextMenuComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__context_menu_context_menu_component__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.component.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ArtistContextMenuComponent = (function (_super) {
    __extends(ArtistContextMenuComponent, _super);
    /**
     * ArtistContextMenuComponent Constructor.
     */
    function ArtistContextMenuComponent(injector) {
        var _this = _super.call(this, injector) || this;
        _this.injector = injector;
        return _this;
    }
    /**
     * Copy fully qualified album url to clipboard.
     */
    ArtistContextMenuComponent.prototype.copyLinkToClipboard = function () {
        _super.prototype.copyLinkToClipboard.call(this, 'artist');
    };
    /**
     * Get all current artist tracks.
     */
    ArtistContextMenuComponent.prototype.getTracks = function () {
        return [];
    };
    /**
     * Go to artist radio route.
     */
    ArtistContextMenuComponent.prototype.goToArtistRadio = function () {
        this.contextMenu.close();
        this.router.navigate(this.urls.artistRadio(this.item));
    };
    ArtistContextMenuComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'artist-context-menu',
            template: __webpack_require__("./src/app/web-player/artists/artist-context-menu/artist-context-menu.component.html"),
            styles: [__webpack_require__("./src/app/web-player/artists/artist-context-menu/artist-context-menu.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { 'class': 'context-menu' },
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injector"]])
    ], ArtistContextMenuComponent);
    return ArtistContextMenuComponent;
}(__WEBPACK_IMPORTED_MODULE_1__context_menu_context_menu_component__["a" /* ContextMenuComponent */]));



/***/ }),

/***/ "./src/app/web-player/artists/artist-item/artist-item.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"img-container\">\n    <img [src]=\"settings.getDefaultImage('artist')\" [lazyLoad]=\"artist.image_small\" [scrollTarget]=\"scrollContainer\" class=\"lazy-loaded\">\n    <playback-control-button (play)=\"play()\" (pause)=\"pause()\" [playing]=\"playing()\"></playback-control-button>\n</div>\n<div class=\"footer\">\n    <a class=\"artist-name primary-text\" [routerLink]=\"urls.artist(artist)\">{{artist.name}}</a>\n    <ng-content select=\".secondary-text\"></ng-content>\n</div>"

/***/ }),

/***/ "./src/app/web-player/artists/artist-item/artist-item.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/web-player/artists/artist-item/artist-item.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ArtistItemComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_types_models_Artist__ = __webpack_require__("./src/app/shared/types/models/Artist.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__artist_service__ = __webpack_require__("./src/app/web-player/artists/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var ArtistItemComponent = (function () {
    /**
     * ArtistItemComponent Constructor
     */
    function ArtistItemComponent(urls, artistService, player, settings) {
        this.urls = urls;
        this.artistService = artistService;
        this.player = player;
        this.settings = settings;
    }
    ArtistItemComponent.prototype.ngOnDestroy = function () {
        this.artistService.destroy();
    };
    /**
     * Check if artist is playing.
     */
    ArtistItemComponent.prototype.playing = function () {
        return this.artistService.playing(this.artist);
    };
    /**
     * Play all artist tracks.
     */
    ArtistItemComponent.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.player.stop();
                        this.player.state.buffering = true;
                        return [4 /*yield*/, this.artistService.init(this.artist.id, { top_tracks: true })];
                    case 1:
                        _a.sent();
                        this.artistService.play();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Pause the player.
     */
    ArtistItemComponent.prototype.pause = function () {
        this.player.pause();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", HTMLElement)
    ], ArtistItemComponent.prototype, "scrollContainer", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__shared_types_models_Artist__["a" /* Artist */])
    ], ArtistItemComponent.prototype, "artist", void 0);
    ArtistItemComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'artist-item',
            template: __webpack_require__("./src/app/web-player/artists/artist-item/artist-item.component.html"),
            styles: [__webpack_require__("./src/app/web-player/artists/artist-item/artist-item.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { 'class': 'media-grid-item', '[class.active]': 'playing()' },
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_4__artist_service__["a" /* ArtistService */],
            __WEBPACK_IMPORTED_MODULE_2__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__["a" /* Settings */]])
    ], ArtistItemComponent);
    return ArtistItemComponent;
}());



/***/ }),

/***/ "./src/app/web-player/artists/artist.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ArtistService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__artists_service__ = __webpack_require__("./src/app/web-player/artists/artists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_utils__ = __webpack_require__("./src/app/web-player/web-player-utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__media_item_service__ = __webpack_require__("./src/app/web-player/media-item.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var ArtistService = (function (_super) {
    __extends(ArtistService, _super);
    /**
     * ArtistService Constructor.
     */
    function ArtistService(artists, player) {
        var _this = _super.call(this, player) || this;
        _this.artists = artists;
        _this.player = player;
        /**
         * Top artist tracks.
         */
        _this.topTracks = [];
        return _this;
    }
    /**
     * Get artist top tracks.
     */
    ArtistService.prototype.getTopTracks = function (count) {
        if (count === void 0) { count = 5; }
        return this.topTracks.slice(0, count);
    };
    /**
     * Get similar artists.
     */
    ArtistService.prototype.getSimilar = function (count) {
        if (count === void 0) { count = 20; }
        if (!this.item.similar)
            return [];
        return this.item.similar.slice(0, count);
    };
    /**
     * Check if artist has any similar artists.
     */
    ArtistService.prototype.hasSimilar = function () {
        return this.item.similar.length;
    };
    /**
     * Get loaded albums of artist.
     */
    ArtistService.prototype.getAlbums = function () {
        return this.paginatedData;
    };
    /**
     * Get artist biography and images.
     */
    ArtistService.prototype.getBio = function () {
        return this.item.bio;
    };
    /**
     * Destroy artist service.
     */
    ArtistService.prototype.destroy = function () {
        this.topTracks = [];
        _super.prototype.destroy.call(this);
    };
    /**
     * Load next infinite load albums page.
     */
    ArtistService.prototype.loadNextPage = function () {
        var _this = this;
        return this.artists.paginateArtistAlbums(this.item.id, this.pagination.current_page + 1).map(function (response) {
            response.data = _this.addArtistToAlbums(response.data);
            return response;
        });
    };
    /**
     * Get tracks from specified albums.
     */
    ArtistService.prototype.getTracks = function (paginatedData) {
        var data = (paginatedData ? paginatedData : this.paginatedData), tracks = [];
        data.forEach(function (album) {
            tracks = tracks.concat(__WEBPACK_IMPORTED_MODULE_3__web_player_utils__["a" /* WpUtils */].assignAlbumToTracks(album.tracks, album));
        });
        //if paginated tracks were not specified, it means initial
        //data is being requested, so we should prepend top tracks to it
        if (!paginatedData) {
            tracks = this.topTracks.concat(tracks);
        }
        return tracks;
    };
    /**
     * Load artist from backend.
     */
    ArtistService.prototype.loadItem = function (id, params) {
        if (params === void 0) { params = {}; }
        return __awaiter(this, void 0, void 0, function () {
            var response;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.artists.get(id, params).toPromise()];
                    case 1:
                        response = _a.sent();
                        response.albums.data = this.addArtistToAlbums(response.albums.data, response.artist);
                        this.setItem(response.artist, response.albums);
                        this.topTracks = response.top_tracks || [];
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Add simplified artist object to all albums, for generating urls and context menus.
     */
    ArtistService.prototype.addArtistToAlbums = function (albums, artist) {
        if (!artist)
            artist = this.item;
        return albums.map(function (album) {
            album.artist = { name: artist.name, id: artist.id };
            return album;
        });
    };
    ArtistService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__artists_service__["a" /* Artists */], __WEBPACK_IMPORTED_MODULE_2__player_player_service__["a" /* Player */]])
    ], ArtistService);
    return ArtistService;
}(__WEBPACK_IMPORTED_MODULE_4__media_item_service__["a" /* MediaItem */]));



/***/ }),

/***/ "./src/app/web-player/artists/artist/artist-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ArtistResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__artist_service__ = __webpack_require__("./src/app/web-player/artists/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__artists_service__ = __webpack_require__("./src/app/web-player/artists/artists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ArtistResolver = (function () {
    function ArtistResolver(artists, player, state, router, urls) {
        this.artists = artists;
        this.player = player;
        this.state = state;
        this.router = router;
        this.urls = urls;
    }
    ArtistResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        var params = { 'with': ['similar', 'genres'], top_tracks: true }, id;
        if (route.paramMap.has('id')) {
            id = route.paramMap.get('id');
        }
        else {
            id = encodeURIComponent(this.urls.encodeItemName(route.paramMap.get('name')));
            params['by_name'] = true;
        }
        var artist = new __WEBPACK_IMPORTED_MODULE_2__artist_service__["a" /* ArtistService */](this.artists, this.player);
        return artist.init(id, params).then(function () {
            _this.state.loading = false;
            return artist;
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    ArtistResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__artists_service__["a" /* Artists */],
            __WEBPACK_IMPORTED_MODULE_4__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_5__web_player_state_service__["a" /* WebPlayerState */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__web_player_urls_service__["a" /* WebPlayerUrls */]])
    ], ArtistResolver);
    return ArtistResolver;
}());



/***/ }),

/***/ "./src/app/web-player/artists/artist/artist.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar #scrollContainer infinite-scroll (onInfiniteScroll)=\"artist.loadMore()\" [infiniteScrollEnabled]=\"artist.canLoadMore()\">\n    <header class=\"artist-header\" [style.background-image]=\"'url(' + artist.get().image_large + ')'\" [contextMenu]=\"{item: artist.get(), type: 'artist'}\">\n        <div class=\"genres\" *ngIf=\"!state.isMobile\">\n            <a [routerLink]=\"urls.genre(genre)\" class=\"genre hover-underline\" *ngFor=\"let genre of artist.get().genres\">{{genre.name}}</a>\n        </div>\n        <h1 class=\"artist-name\">{{artist.get().name}}</h1>\n        <div class=\"main-buttons\">\n            <button class=\"no-style play-button\" *ngIf=\"!artist.playing()\" (click)=\"artist.play()\">\n                <svg-icon name=\"play-arrow\"></svg-icon>\n                <span trans>Play</span>\n            </button>\n            <button class=\"no-style play-button\" *ngIf=\"artist.playing()\" (click)=\"artist.pause()\" trans>\n                <svg-icon name=\"pause\"></svg-icon>\n                <span trans>Pause</span>\n            </button>\n            <button class=\"no-style more-button\" (click)=\"showArtistContextMenu($event)\" trans>More...</button>\n        </div>\n        <div class=\"nav-links\">\n            <a class=\"nav-link\" [routerLink]=\"urls.artist(artist.get())\" [class.active]=\"activeTab === 'overview'\" trans>Overview</a>\n            <a class=\"nav-link\" [routerLink]=\"urls.artist(artist.get(), 'similar')\" [class.active]=\"activeTab === 'similar'\" trans>Similar Artists</a>\n            <a class=\"nav-link\" [routerLink]=\"urls.artist(artist.get(), 'about')\" [class.active]=\"activeTab === 'about'\" trans>About</a>\n        </div>\n    </header>\n\n    <div class=\"content overview\" [class.hidden]=\"activeTab !== 'overview'\">\n        <div class=\"left-col\">\n            <div class=\"popular-tracks\">\n                <div class=\"title\" trans>Popular Songs</div>\n                <track-list [tracks]=\"artist.getTopTracks(popularTracksCount)\" [showHeader]=\"false\" (play)=\"playFrom($event)\"></track-list>\n                <button class=\"no-style dark-button\" (click)=\"togglePopularTracksCount()\">\n                    <span *ngIf=\"popularTracksCount === 5\" trans>Show More</span>\n                    <span *ngIf=\"popularTracksCount !== 5\" trans>Show Less</span>\n                </button>\n            </div>\n\n            <ad-host slot=\"ad_slot_3\" class=\"margin-top\"></ad-host>\n\n            <section class=\"albums\" [ngClass]=\"albumsLayout\">\n                <div class=\"albums-section-header\">\n                    <span trans>Albums</span>\n                    <div class=\"actions\" *ngIf=\"albumsLayoutShouldBeToggleable\">\n                        <button class=\"no-style\" [class.active]=\"albumsLayout === 'list'\" (click)=\"toggleAlbumsLayout()\"><svg-icon name=\"view-list\"></svg-icon></button>\n                        <button class=\"no-style\" [class.active]=\"albumsLayout === 'grid'\" (click)=\"toggleAlbumsLayout()\"><svg-icon name=\"view-comfy\"></svg-icon></button>\n                    </div>\n                </div>\n\n                <ng-container *ngFor=\"let album of artist.getAlbums()\">\n                    <ng-container *ngIf=\"albumsLayout === 'list'\">\n                        <div class=\"album\" *ngIf=\"album.tracks.length\">\n                            <div class=\"album-header\">\n                                <img [src]=\"settings.getDefaultImage('artist')\" [lazyLoad]=\"album.image\" [scrollTarget]=\"scrollContainer\" class=\"lazy-loaded\">\n                                <div class=\"meta\">\n                                    <div class=\"release-date\">{{album.release_date}}</div>\n                                    <a class=\"album-name hover-underline\" [routerLink]=\"urls.album(album, artist.get())\">{{album.name}}</a>\n                                    <button class=\"no-style dark-button\" (click)=\"showAlbumContextMenu(album, $event)\" trans>More...</button>\n                                </div>\n                            </div>\n                            <track-list [tracks]=\"album.tracks\" [album]=\"album\" (play)=\"playFrom($event)\"></track-list>\n                        </div>\n                    </ng-container>\n                </ng-container>\n\n                <media-grid *ngIf=\"albumsLayout === 'grid'\">\n                    <album-item *ngFor=\"let album of artist.getAlbums()\" [album]=\"album\" [scrollContainer]=\"scrollContainer\"></album-item>\n                </media-grid>\n            </section>\n        </div>\n        <div class=\"right-col\" *ngIf=\"!state.isMobile && albumsLayout === 'list'\">\n            <div class=\"similar-artists\">\n                <div class=\"title\" trans>Similar Artists</div>\n                <a class=\"similar-artist\" *ngFor=\"let artist of artist.getSimilar(4)\" [routerLink]=\"urls.artist(artist)\">\n                    <img [src]=\"artist.image_small\">\n                    <div class=\"artist-name\">{{artist.name}}</div>\n                </a>\n\n                <ad-host slot=\"ad_slot_4\" class=\"margin-top\"></ad-host>\n            </div>\n        </div>\n    </div>\n    <div class=\"content similar\" *ngIf=\"activeTab === 'similar'\">\n        <media-grid *ngIf=\"artist.hasSimilar()\">\n            <artist-item [artist]=\"artist\" *ngFor=\"let artist of artist.getSimilar(20)\" [scrollContainer]=\"scrollContainer\"></artist-item>\n        </media-grid>\n\n        <no-results-message *ngIf=\"!artist.hasSimilar()\">\n            <span primary-text>\n                <span trans>Could not find any similar artists for </span>\n                <span>{{artist.get().name}}</span>\n            </span>\n        </no-results-message>\n    </div>\n    <div class=\"content bio\" *ngIf=\"activeTab === 'about'\">\n        <ng-container *ngIf=\"artist.getBio().bio\">\n            <div class=\"bio-images\" *ngIf=\"artist.getBio().images\">\n                <img [src]=\"image.url\" *ngFor=\"let image of artist.getBio().images\">\n            </div>\n            <div class=\"bio-text\">{{artist.getBio().bio}}</div>\n        </ng-container>\n\n        <no-results-message *ngIf=\"!artist.getBio().bio\">\n            <span primary-text>\n                <span trans>Could not find biography for</span>\n                <span>{{artist.get().name}}</span>\n            </span>\n        </no-results-message>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/artists/artist/artist.component.scss":
/***/ (function(module, exports) {

module.exports = "artist {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n  min-width: 0; }\n  artist > .scroll-container {\n    padding-bottom: 25px; }\n  artist .artist-header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    background-size: cover;\n    background-position: center;\n    padding: 100px 0 20px;\n    position: relative; }\n  artist .artist-header:before {\n      position: absolute;\n      content: \"\";\n      background: -webkit-gradient(linear, left top, left bottom, color-stop(-80%, transparent), to(#1e1e26));\n      background: linear-gradient(to bottom, transparent -80%, #1e1e26 100%);\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0; }\n  artist .artist-header > .artist-name {\n      position: relative;\n      margin: 0 25px 15px;\n      font-size: 5.5rem;\n      color: #fff; }\n  @media only screen and (max-width: 768px) {\n        artist .artist-header > .artist-name {\n          font-size: 3.5rem; } }\n  artist .artist-header > .genres {\n      font-size: 13px;\n      position: relative;\n      max-width: 430px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n  artist .artist-header > .genres > .genre {\n        padding: 0 7px;\n        color: inherit;\n        text-transform: capitalize; }\n  artist .artist-header > .main-buttons {\n      position: relative;\n      margin-bottom: 50px; }\n  artist .artist-header > .main-buttons > button {\n        padding: 10px 0;\n        border: 2px solid transparent;\n        border-radius: 25px;\n        color: #fff;\n        text-transform: uppercase;\n        min-width: 130px; }\n  artist .artist-header > .main-buttons > button.play-button {\n          background-color: #6eac00;\n          border-color: #6eac00;\n          margin-right: 15px; }\n  artist .artist-header > .main-buttons > button.play-button > svg-icon {\n            width: 16px;\n            height: 16px;\n            display: inline-block;\n            vertical-align: middle; }\n  artist .artist-header > .main-buttons > button.play-button:hover {\n            background-color: #78bb00; }\n  artist .artist-header > .main-buttons > button.more-button {\n          background-color: rgba(0, 0, 0, 0.5);\n          border-color: rgba(255, 255, 255, 0.1); }\n  artist .artist-header > .main-buttons > button.more-button:hover {\n            background-color: rgba(0, 0, 0, 0.4); }\n  artist .artist-header > .nav-links {\n      position: relative;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      font-weight: 600;\n      text-transform: uppercase; }\n  artist .artist-header > .nav-links > .nav-link {\n        padding: 5px;\n        margin: 15px;\n        border-bottom: 2px solid transparent;\n        color: inherit; }\n  @media only screen and (max-width: 768px) {\n          artist .artist-header > .nav-links > .nav-link {\n            font-weight: 400;\n            text-transform: none; } }\n  artist .artist-header > .nav-links > .nav-link.active {\n          color: #fff;\n          border-color: #6eac00; }\n  artist .content {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 0 25px; }\n  artist .content .title {\n      margin: 15px 0;\n      color: #898B8C;\n      text-transform: uppercase; }\n  artist .content .dark-button {\n      padding: 8px 16px;\n      background-color: #2a2a35;\n      border: 1px solid rgba(255, 255, 255, 0.05);\n      border-radius: 3px; }\n  artist .content .dark-button:hover {\n        background-color: #353543; }\n  artist .content > .left-col {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      min-width: 0; }\n  artist .content > .left-col > .popular-tracks > .dark-button {\n        margin-top: 20px; }\n  artist .content > .left-col > .popular-tracks > .title {\n        margin-left: 15px; }\n  artist .content > .left-col > .albums {\n        padding-top: 45px; }\n  artist .content > .left-col > .albums > .albums-section-header {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-align: center;\n              -ms-flex-align: center;\n                  align-items: center;\n          margin-bottom: 25px;\n          padding-bottom: 10px;\n          border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n          font-weight: 500;\n          text-transform: uppercase; }\n  artist .content > .left-col > .albums > .albums-section-header > .actions {\n            margin-left: auto; }\n  artist .content > .left-col > .albums > .albums-section-header > .actions > .active {\n              color: #6eac00; }\n  artist .content > .left-col > .albums > .album {\n          margin-bottom: 40px; }\n  artist .content > .left-col > .albums > .album > .album-header {\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-align: center;\n                -ms-flex-align: center;\n                    align-items: center;\n            margin-bottom: 20px;\n            min-width: 0; }\n  artist .content > .left-col > .albums > .album > .album-header > img {\n              width: 110px;\n              height: 110px;\n              -webkit-box-flex: 0;\n                  -ms-flex: 0 0 110px;\n                      flex: 0 0 110px;\n              -o-object-fit: cover;\n                 object-fit: cover;\n              margin-right: 15px; }\n  artist .content > .left-col > .albums > .album > .album-header > .meta {\n              -webkit-box-flex: 1;\n                  -ms-flex: 1 1 auto;\n                      flex: 1 1 auto;\n              min-width: 0; }\n  @media only screen and (max-width: 768px) {\n                artist .content > .left-col > .albums > .album > .album-header > .meta > .album-name {\n                  white-space: nowrap;\n                  overflow: hidden;\n                  text-overflow: ellipsis;\n                  font-size: 1.7rem; } }\n  artist .content > .left-col > .albums > .album > .album-header .release-date {\n              color: #898B8C; }\n  artist .content > .left-col > .albums > .album > .album-header .album-name {\n              display: block;\n              margin: 4px 0 23px;\n              font-size: 2.1rem;\n              color: inherit; }\n  artist .content > .left-col > .albums > .album > .album-header .dark-button {\n              display: block;\n              border-radius: 25px;\n              min-width: 110px; }\n  artist .content > .left-col > .albums > media-grid {\n          padding: 0; }\n  @media only screen and (max-width: 768px) {\n        artist .content > .left-col {\n          width: 100%; }\n          artist .content > .left-col > .popular-tracks > .title {\n            margin-left: 0; } }\n  artist .content.bio {\n      display: block; }\n  artist .content.bio > .bio-images {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        width: 100%;\n        margin-bottom: 25px;\n        overflow: hidden; }\n  artist .content.bio > .bio-images > img {\n          -webkit-box-flex: 0;\n              -ms-flex: 0 0 24%;\n                  flex: 0 0 24%;\n          height: 275px;\n          width: 24%;\n          -o-object-fit: cover;\n             object-fit: cover; }\n  artist .content.bio > .bio-text {\n        padding: 15px;\n        background-color: #2a2a35; }\n  artist .content.bio > no-results-message {\n        margin-top: 40px; }\n  artist .content > .right-col {\n      width: 30%;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 30%;\n              flex: 0 0 30%; }\n  artist .content > .right-col > .similar-artists {\n        margin-left: 30px; }\n  artist .content > .right-col > .similar-artists > .similar-artist {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-align: center;\n              -ms-flex-align: center;\n                  align-items: center;\n          padding: 3px;\n          margin-bottom: 5px;\n          background-color: #2a2a35;\n          color: inherit; }\n  artist .content > .right-col > .similar-artists > .similar-artist:hover {\n            background-color: #353543; }\n  artist .content > .right-col > .similar-artists > .similar-artist > img {\n            width: 45px;\n            height: 45px;\n            margin-right: 15px;\n            -o-object-fit: cover;\n               object-fit: cover;\n            border-radius: 50%; }\n"

/***/ }),

/***/ "./src/app/web-player/artists/artist/artist.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ArtistComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__albums_album_context_menu_album_context_menu_component__ = __webpack_require__("./src/app/web-player/albums/album-context-menu/album-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__artist_context_menu_artist_context_menu_component__ = __webpack_require__("./src/app/web-player/artists/artist-context-menu/artist-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var ArtistComponent = (function () {
    /**
     * ArtistComponent Constructor.
     */
    function ArtistComponent(route, router, urls, player, contextMenu, state, settings) {
        this.route = route;
        this.router = router;
        this.urls = urls;
        this.player = player;
        this.contextMenu = contextMenu;
        this.state = state;
        this.settings = settings;
        /**
         * Active component subscriptions.
         */
        this.subscriptions = [];
        /**
         * Current layout of artist albums in the view.
         */
        this.albumsLayout = 'list';
        /**
         * Whether albums layout toggle button should be visible.
         */
        this.albumsLayoutShouldBeToggleable = true;
        /**
         * Currently active tab.
         */
        this.activeTab = 'overview';
        /**
         * number of popular tracks that should be displayed
         */
        this.popularTracksCount = 5;
    }
    ArtistComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.popularTracksCount = 5;
            _this.artist = data.artist;
        });
        this.setActiveTab(this.router.url);
        this.bindToRouterEvents();
        this.setAlbumsLayout();
    };
    ArtistComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
        this.artist.destroy();
        this.subscriptions = [];
    };
    /**
     * Play all artist tracks from specified track.
     */
    ArtistComponent.prototype.playFrom = function (track) {
        return __awaiter(this, void 0, void 0, function () {
            var tracks, index;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        tracks = this.artist.getTracks(), index = tracks.findIndex(function (curr) { return curr === track; });
                        this.player.handleContinuousPlayback = false;
                        return [4 /*yield*/, this.player.overrideQueue({ tracks: tracks.slice(index), queuedItemId: this.artist.get().id })];
                    case 1:
                        _a.sent();
                        this.player.play();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Toggle number of popular tracks that
     * should be displayed between 5 and 20.
     */
    ArtistComponent.prototype.togglePopularTracksCount = function () {
        this.popularTracksCount = this.popularTracksCount === 5 ? 20 : 5;
    };
    /**
     * Show context menu for specified track.
     */
    ArtistComponent.prototype.showAlbumContextMenu = function (album, e) {
        e.stopPropagation();
        this.contextMenu.show(__WEBPACK_IMPORTED_MODULE_5__albums_album_context_menu_album_context_menu_component__["a" /* AlbumContextMenuComponent */], { item: album, type: 'album' }, e.target);
    };
    /**
     * Open artist context menu.
     */
    ArtistComponent.prototype.showArtistContextMenu = function (e) {
        e.stopPropagation();
        this.contextMenu.show(__WEBPACK_IMPORTED_MODULE_6__artist_context_menu_artist_context_menu_component__["a" /* ArtistContextMenuComponent */], { item: this.artist.get(), type: 'artist' }, e.target);
    };
    /**
     * Toggle albums layout between grid and list.
     */
    ArtistComponent.prototype.toggleAlbumsLayout = function () {
        if (this.albumsLayout === 'grid') {
            this.albumsLayout = 'list';
        }
        else {
            this.albumsLayout = 'grid';
        }
    };
    /**
     * Bind to router state change events.
     */
    ArtistComponent.prototype.bindToRouterEvents = function () {
        var _this = this;
        var sub = this.router.events
            .filter(function (event) { return event instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* NavigationEnd */]; })
            .subscribe(function (event) {
            _this.setActiveTab(event.url);
        });
        this.subscriptions.push(sub);
    };
    /**
     * Set currently active tab based on specified url.
     */
    ArtistComponent.prototype.setActiveTab = function (url) {
        var tab = url.split('/').pop();
        switch (tab) {
            case 'about':
                this.activeTab = 'about';
                break;
            case 'similar':
                this.activeTab = 'similar';
                break;
            default:
                this.activeTab = 'overview';
        }
    };
    /**
     * Set albums layout based on current artist provider.
     */
    ArtistComponent.prototype.setAlbumsLayout = function () {
        if (this.settings.get('artist_provider') === 'Discogs') {
            this.albumsLayout = 'grid';
            this.albumsLayoutShouldBeToggleable = false;
        }
        else {
            this.albumsLayout = 'list';
            this.albumsLayoutShouldBeToggleable = true;
        }
    };
    ArtistComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'artist',
            template: __webpack_require__("./src/app/web-player/artists/artist/artist.component.html"),
            styles: [__webpack_require__("./src/app/web-player/artists/artist/artist.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_3__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_4__context_menu_context_menu_service__["a" /* ContextMenu */],
            __WEBPACK_IMPORTED_MODULE_7__web_player_state_service__["a" /* WebPlayerState */],
            __WEBPACK_IMPORTED_MODULE_8__shared_settings_service__["a" /* Settings */]])
    ], ArtistComponent);
    return ArtistComponent;
}());



/***/ }),

/***/ "./src/app/web-player/artists/artists-links-list/artists-links-list.component.html":
/***/ (function(module, exports) {

module.exports = "<a class=\"hover-underline\" [routerLink]=\"urls.artist(artist)\" *ngFor=\"let artist of artists; last as last\">\n    <span>{{artist}}<ng-container *ngIf=\"!last\">, </ng-container></span>\n</a>"

/***/ }),

/***/ "./src/app/web-player/artists/artists-links-list/artists-links-list.component.scss":
/***/ (function(module, exports) {

module.exports = "artists-links-list {\n  display: block; }\n"

/***/ }),

/***/ "./src/app/web-player/artists/artists-links-list/artists-links-list.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ArtistsLinksListComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ArtistsLinksListComponent = (function () {
    /**
     * ArtistsLinksListComponent Constructor.
     */
    function ArtistsLinksListComponent(urls) {
        this.urls = urls;
    }
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Array)
    ], ArtistsLinksListComponent.prototype, "artists", void 0);
    ArtistsLinksListComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'artists-links-list',
            template: __webpack_require__("./src/app/web-player/artists/artists-links-list/artists-links-list.component.html"),
            styles: [__webpack_require__("./src/app/web-player/artists/artists-links-list/artists-links-list.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            changeDetection: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectionStrategy"].OnPush
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__["a" /* WebPlayerUrls */]])
    ], ArtistsLinksListComponent);
    return ArtistsLinksListComponent;
}());



/***/ }),

/***/ "./src/app/web-player/artists/artists.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Artists; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Artists = (function () {
    /**
     * Artists Service Constructor.
     */
    function Artists(httpClient) {
        this.httpClient = httpClient;
    }
    /**
     * Get artist matching specified id.
     */
    Artists.prototype.get = function (id, params) {
        if (params === void 0) { params = {}; }
        return this.httpClient.get('artists/' + id, params);
    };
    /**
     * Create a new artist.
     */
    Artists.prototype.create = function (payload) {
        return this.httpClient.post('artists', payload);
    };
    /**
     * Update existing artist.
     */
    Artists.prototype.update = function (id, payload) {
        return this.httpClient.put('artists/' + id, payload);
    };
    /**
     * Paginate specified artist albums.
     */
    Artists.prototype.paginateArtistAlbums = function (id, page) {
        if (page === void 0) { page = 1; }
        return this.httpClient.get('artists/' + id + '/albums', { page: page });
    };
    /**
     * Get radio recommendations for specified artist.
     */
    Artists.prototype.getRadioRecommendations = function (id) {
        return this.httpClient.get("radio/artist/" + id);
    };
    /**
     * Delete specified artists.
     */
    Artists.prototype.delete = function (ids) {
        return this.httpClient.delete('artists', { ids: ids });
    };
    Artists = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__["a" /* AppHttpClient */]])
    ], Artists);
    return Artists;
}());



/***/ }),

/***/ "./src/app/web-player/context-menu/context-menu-playlist-panel/context-menu-playlist-panel.component.html":
/***/ (function(module, exports) {

module.exports = "<button class=\"no-style panel-header\" (click)=\"closePanel()\">\n    <svg-icon name=\"arrow-back\"></svg-icon>\n    <span trans>Back</span>\n</button>\n<div class=\"panel-body\">\n    <div class=\"title\" trans>Select</div>\n\n    <button class=\"no-style new-playlist\" (click)=\"openNewPlaylistModal()\">\n        <svg-icon name=\"playlist-add\"></svg-icon>\n        <span trans>New Playlist</span>\n    </button>\n\n    <div class=\"playlists\" customScrollbar>\n        <button class=\"playlist no-style\" *ngFor=\"let playlist of userPlaylists.get()\" (click)=\"addTracks(playlist)\" trans>{{playlist.name}}</button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/context-menu/context-menu-playlist-panel/context-menu-playlist-panel.component.scss":
/***/ (function(module, exports) {

module.exports = "context-menu-playlist-panel {\n  display: block;\n  padding: 0 10px 10px; }\n  context-menu-playlist-panel > .panel-header {\n    display: block;\n    width: 100%;\n    text-align: left;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n    padding-bottom: 10px;\n    margin-bottom: 10px; }\n  context-menu-playlist-panel > .panel-header:hover {\n      color: #fff; }\n  context-menu-playlist-panel > .panel-header > svg-icon {\n      display: inline-block;\n      vertical-align: middle; }\n  context-menu-playlist-panel > .panel-body > .title {\n    margin-bottom: 15px;\n    color: #898B8C; }\n  context-menu-playlist-panel > .panel-body > .new-playlist {\n    display: block;\n    margin-bottom: 15px;\n    padding: 6px;\n    border: 1px solid rgba(255, 255, 255, 0.05);\n    border-radius: 3px; }\n  context-menu-playlist-panel > .panel-body > .new-playlist:hover {\n      color: #fff; }\n  context-menu-playlist-panel > .panel-body > .new-playlist > svg-icon {\n      display: inline-block;\n      vertical-align: middle;\n      margin-right: 3px; }\n  context-menu-playlist-panel .playlists {\n    max-height: 130px;\n    overflow: auto; }\n  context-menu-playlist-panel .playlists > .playlist {\n      display: block;\n      width: 100%;\n      text-align: left;\n      padding: 10px 0; }\n  context-menu-playlist-panel .playlists > .playlist:hover {\n        color: #fff; }\n"

/***/ }),

/***/ "./src/app/web-player/context-menu/context-menu-playlist-panel/context-menu-playlist-panel.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContextMenuPlaylistPanelComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__playlists_user_playlists_service__ = __webpack_require__("./src/app/web-player/playlists/user-playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_modal_modal_service__ = __webpack_require__("./src/app/shared/modal/modal.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__playlists_playlists_service__ = __webpack_require__("./src/app/web-player/playlists/playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__playlists_crupdate_playlist_modal_crupdate_playlist_modal_component__ = __webpack_require__("./src/app/web-player/playlists/crupdate-playlist-modal/crupdate-playlist-modal.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ContextMenuPlaylistPanelComponent = (function () {
    /**
     * ContextMenuPlaylistPanelComponent Constructor.
     */
    function ContextMenuPlaylistPanelComponent(userPlaylists, playlists, contextMenu, modal, currentUser, router) {
        this.userPlaylists = userPlaylists;
        this.playlists = playlists;
        this.contextMenu = contextMenu;
        this.modal = modal;
        this.currentUser = currentUser;
        this.router = router;
        /**
         * Tracks that should be attached to playlist.
         */
        this.tracks = [];
        /**
         * Fired when panel should be closed.
         */
        this.close$ = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    /**
     * Open new playlist modal and attach
     * tracks to newly created playlist.
     */
    ContextMenuPlaylistPanelComponent.prototype.openNewPlaylistModal = function () {
        var _this = this;
        this.contextMenu.close();
        if (!this.currentUser.isLoggedIn()) {
            return this.router.navigate(['/login']);
        }
        this.modal.show(__WEBPACK_IMPORTED_MODULE_7__playlists_crupdate_playlist_modal_crupdate_playlist_modal_component__["a" /* CrupdatePlaylistModalComponent */]).onDone.subscribe(function (playlist) {
            _this.userPlaylists.add(playlist);
            _this.addTracks(playlist);
        });
    };
    /**
     * Add tracks to specified playlist.
     */
    ContextMenuPlaylistPanelComponent.prototype.addTracks = function (playlist) {
        var _this = this;
        this.playlists.addTracks(playlist.id, this.tracks).subscribe(function () {
            _this.contextMenu.close();
        }, function () { });
    };
    /**
     * Close playlists panel.
     */
    ContextMenuPlaylistPanelComponent.prototype.closePanel = function () {
        this.close$.emit();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Array)
    ], ContextMenuPlaylistPanelComponent.prototype, "tracks", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], ContextMenuPlaylistPanelComponent.prototype, "close$", void 0);
    ContextMenuPlaylistPanelComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'context-menu-playlist-panel',
            template: __webpack_require__("./src/app/web-player/context-menu/context-menu-playlist-panel/context-menu-playlist-panel.component.html"),
            styles: [__webpack_require__("./src/app/web-player/context-menu/context-menu-playlist-panel/context-menu-playlist-panel.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__playlists_user_playlists_service__["a" /* UserPlaylists */],
            __WEBPACK_IMPORTED_MODULE_4__playlists_playlists_service__["a" /* Playlists */],
            __WEBPACK_IMPORTED_MODULE_2__context_menu_service__["a" /* ContextMenu */],
            __WEBPACK_IMPORTED_MODULE_3__shared_modal_modal_service__["a" /* ModalService */],
            __WEBPACK_IMPORTED_MODULE_5__auth_current_user__["a" /* CurrentUser */],
            __WEBPACK_IMPORTED_MODULE_6__angular_router__["e" /* Router */]])
    ], ContextMenuPlaylistPanelComponent);
    return ContextMenuPlaylistPanelComponent;
}());



/***/ }),

/***/ "./src/app/web-player/context-menu/context-menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContextMenuComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__users_user_library_user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_modal_modal_service__ = __webpack_require__("./src/app/shared/modal/modal.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_copy_to_clipboard__ = __webpack_require__("./node_modules/copy-to-clipboard/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_copy_to_clipboard___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_copy_to_clipboard__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__share_media_item_modal_share_media_item_modal_component__ = __webpack_require__("./src/app/web-player/context-menu/share-media-item-modal/share-media-item-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var ContextMenuComponent = (function () {
    function ContextMenuComponent(injector) {
        this.injector = injector;
        this.activePanel = 'primary';
        this.player = this.injector.get(__WEBPACK_IMPORTED_MODULE_1__player_player_service__["a" /* Player */]);
        this.library = this.injector.get(__WEBPACK_IMPORTED_MODULE_2__users_user_library_user_library_service__["a" /* UserLibrary */]);
        this.urls = this.injector.get(__WEBPACK_IMPORTED_MODULE_3__web_player_urls_service__["a" /* WebPlayerUrls */]);
        this.contextMenu = this.injector.get(__WEBPACK_IMPORTED_MODULE_4__context_menu_service__["a" /* ContextMenu */]);
        this.toast = this.injector.get(__WEBPACK_IMPORTED_MODULE_5__shared_toast_toast_service__["a" /* ToastService */]);
        this.modal = this.injector.get(__WEBPACK_IMPORTED_MODULE_6__shared_modal_modal_service__["a" /* ModalService */]);
        this.renderer = this.injector.get(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"]);
        this.el = this.injector.get(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"]);
        this.currentUser = this.injector.get(__WEBPACK_IMPORTED_MODULE_8__auth_current_user__["a" /* CurrentUser */]);
        this.router = this.injector.get(__WEBPACK_IMPORTED_MODULE_9__angular_router__["e" /* Router */]);
        this.settings = this.injector.get(__WEBPACK_IMPORTED_MODULE_11__shared_settings_service__["a" /* Settings */]);
        this.state = this.injector.get(__WEBPACK_IMPORTED_MODULE_12__web_player_state_service__["a" /* WebPlayerState */]);
    }
    /**
     * Add specified tracks to player queue.
     */
    ContextMenuComponent.prototype.addToQueue = function () {
        this.player.queue.prepend(this.getTracks());
        this.contextMenu.close();
    };
    /**
     * Add specified tracks to user's library.
     */
    ContextMenuComponent.prototype.saveToLibrary = function () {
        this.contextMenu.close();
        if (!this.currentUser.isLoggedIn()) {
            return this.router.navigate(['/login']);
        }
        this.library.add(this.getTracks());
    };
    /**
     * Copy fully qualified album url to clipboard.
     */
    ContextMenuComponent.prototype.copyLinkToClipboard = function (method, item) {
        var url = this.urls.routerLinkToUrl(this.urls[method](item || this.item));
        url = url.replace(/ /g, '+');
        __WEBPACK_IMPORTED_MODULE_7_copy_to_clipboard__(url);
        this.contextMenu.close();
        this.toast.show('Copied link to clipboard.');
    };
    /**
     * Open share modal for current item.
     */
    ContextMenuComponent.prototype.openShareModal = function () {
        this.contextMenu.close();
        this.modal.show(__WEBPACK_IMPORTED_MODULE_10__share_media_item_modal_share_media_item_modal_component__["a" /* ShareMediaItemModalComponent */], { mediaItem: this.item, type: this.params.type }).onDone.subscribe(function () {
            //send emails
        });
    };
    ContextMenuComponent.prototype.openPanel = function (name) {
        this.activePanel = name;
    };
    ContextMenuComponent.prototype.activePanelIs = function (name) {
        return this.activePanel === name;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], ContextMenuComponent.prototype, "item", void 0);
    return ContextMenuComponent;
}());



/***/ }),

/***/ "./src/app/web-player/context-menu/context-menu.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContextMenuDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__albums_album_context_menu_album_context_menu_component__ = __webpack_require__("./src/app/web-player/albums/album-context-menu/album-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tracks_track_context_menu_track_context_menu_component__ = __webpack_require__("./src/app/web-player/tracks/track-context-menu/track-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__artists_artist_context_menu_artist_context_menu_component__ = __webpack_require__("./src/app/web-player/artists/artist-context-menu/artist-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__playlists_playlist_track_context_menu_playlist_track_context_menu_component__ = __webpack_require__("./src/app/web-player/playlists/playlist-track-context-menu/playlist-track-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__playlists_playlist_context_menu_playlist_context_menu_component__ = __webpack_require__("./src/app/web-player/playlists/playlist-context-menu/playlist-context-menu.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ContextMenuDirective = (function () {
    /**
     * ContextMenuDirective Constructor.
     */
    function ContextMenuDirective(el, renderer, contextMenu) {
        this.el = el;
        this.renderer = renderer;
        this.contextMenu = contextMenu;
    }
    //close on scroll, sub in base menu component then unsub etc
    ContextMenuDirective.prototype.ngOnInit = function () {
        this.bindToContextMenuEvent();
    };
    /**
     * Show context menu for specified item on right click.
     */
    ContextMenuDirective.prototype.bindToContextMenuEvent = function () {
        var _this = this;
        this.renderer.listen(this.el.nativeElement, 'contextmenu', function (e) {
            e.preventDefault();
            e.stopPropagation();
            _this.contextMenu.show(_this.getComponentType(_this.params.type), _this.params, _this.getPopperReferenceObject(e));
        });
    };
    /**
     * Get context menu component based on specified type.
     */
    ContextMenuDirective.prototype.getComponentType = function (type) {
        switch (type) {
            case 'artist':
                return __WEBPACK_IMPORTED_MODULE_4__artists_artist_context_menu_artist_context_menu_component__["a" /* ArtistContextMenuComponent */];
            case 'album':
                return __WEBPACK_IMPORTED_MODULE_2__albums_album_context_menu_album_context_menu_component__["a" /* AlbumContextMenuComponent */];
            case 'track':
                return __WEBPACK_IMPORTED_MODULE_3__tracks_track_context_menu_track_context_menu_component__["a" /* TrackContextMenuComponent */];
            case 'playlist':
                return __WEBPACK_IMPORTED_MODULE_6__playlists_playlist_context_menu_playlist_context_menu_component__["a" /* PlaylistContextMenuComponent */];
            case 'playlist-track':
                return __WEBPACK_IMPORTED_MODULE_5__playlists_playlist_track_context_menu_playlist_track_context_menu_component__["a" /* PlaylistTrackContextMenuComponent */];
        }
    };
    /**
     * Get popper.js reference object for showing
     * context menu at mouse click coordinates.
     */
    ContextMenuDirective.prototype.getPopperReferenceObject = function (e) {
        return {
            getBoundingClientRect: function () { return ({
                top: e.pageY,
                right: e.pageX,
                bottom: e.pageY,
                left: e.pageX,
                width: 0,
                height: 0,
            }); },
            clientWidth: 0,
            clientHeight: 0,
        };
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('contextMenu'),
        __metadata("design:type", Object)
    ], ContextMenuDirective.prototype, "params", void 0);
    ContextMenuDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[contextMenu]'
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_1__context_menu_service__["a" /* ContextMenu */]])
    ], ContextMenuDirective);
    return ContextMenuDirective;
}());



/***/ }),

/***/ "./src/app/web-player/context-menu/context-menu.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContextMenu; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_popper_js__ = __webpack_require__("./node_modules/popper.js/dist/esm/popper.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ContextMenu = (function () {
    /**
     * ModalService constructor.
     */
    function ContextMenu(resolver, router, browserEvents, zone, injector) {
        this.resolver = resolver;
        this.router = router;
        this.browserEvents = browserEvents;
        this.zone = zone;
        this.injector = injector;
        /**
         * Whether scroll, click and router events are bound already.
         */
        this.eventsBound = false;
    }
    /**
     * Show specified modal.
     */
    ContextMenu.prototype.show = function (component, params, reference) {
        this.bindToEvents();
        this.close();
        this.current = this.createMenuComponent(component, params);
        this.positionMenu(this.current.location.nativeElement, reference);
        return this.current;
    };
    /**
     * Position context menu using popper.js library.
     */
    ContextMenu.prototype.positionMenu = function (element, reference) {
        this.popper = new __WEBPACK_IMPORTED_MODULE_2_popper_js__["a" /* default */](reference, element, { modifiers: { offset: { offset: '50%p' } } });
    };
    /**
     * Create instance of specified context menu component.
     */
    ContextMenu.prototype.createMenuComponent = function (component, params) {
        var componentFactory = this.resolver.resolveComponentFactory(component), componentRef = this.vcRef.createComponent(componentFactory, 0, this.injector);
        componentRef.instance['item'] = params.item;
        componentRef.instance['params'] = params;
        return componentRef;
    };
    /**
     * Close currently open context menu.
     */
    ContextMenu.prototype.close = function () {
        if (!this.current)
            return;
        //destroy context menu component
        this.current.destroy();
        this.current = null;
        //destroy context menu popper.js instance
        this.popper && this.popper.destroy();
        this.popper = null;
    };
    /**
     * Register context menu placeholder view reference.
     */
    ContextMenu.prototype.registerViewContainerRef = function (vcRef) {
        this.vcRef = vcRef;
    };
    /**
     * Bind to events needed to close context menu on scroll, click and route change.
     */
    ContextMenu.prototype.bindToEvents = function () {
        var _this = this;
        if (this.eventsBound)
            return;
        //close menu on navigation to different route
        this.router.events.filter(function (e) { return e instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* NavigationStart */]; }).subscribe(function (e) { return _this.close(); });
        //close menu on scroll
        this.zone.runOutsideAngular(function () {
            document.addEventListener('scroll', function (e) {
                //don't close context menu if scrolling inside it
                if (e.target['classList'] && e.target['classList'].contains('playlists'))
                    return;
                _this.close();
            }, true);
        });
        //close menu when clicked outside it
        this.browserEvents.globalClick$.subscribe(function (e) {
            if (_this.current && !_this.current.location.nativeElement.contains(e.target)) {
                _this.close();
            }
        });
        this.eventsBound = true;
    };
    ContextMenu = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ComponentFactoryResolver"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__shared_browser_events_service__["a" /* BrowserEvents */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Injector"]])
    ], ContextMenu);
    return ContextMenu;
}());



/***/ }),

/***/ "./src/app/web-player/context-menu/share-media-item-modal/share-media-item-modal.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"backdrop\"></div>\n\n<div class=\"modal-content\">\n    <div class=\"modal-header\">\n        <h2 class=\"modal-title\"><span trans>Share</span> {{mediaItem.name}}</h2>\n        <button type=\"button\" (click)=\"close()\" class=\"close-button no-style icon-button\">\n            <svg-icon name=\"close\"></svg-icon>\n        </button>\n    </div>\n\n    <div class=\"input-container link-input-container\">\n        <label for=\"media-item-link\" class=\"hidden\">Media item link</label>\n        <input type=\"text\" [(ngModel)]=\"link\" (click)=\"selectLink($event)\" id=\"media-item-link\" readonly>\n        <button class=\"button primary input-addon\" (click)=\"copyLink()\" trans>Copy</button>\n    </div>\n\n    <div class=\"share-icons\">\n        <button class=\"no-style\" (click)=\"shareUsing('facebook')\"><img src=\"{{getShareImage('facebook')}}\"></button>\n        <button class=\"no-style\" (click)=\"shareUsing('twitter')\"><img src=\"{{getShareImage('twitter')}}\"></button>\n        <button class=\"no-style\" (click)=\"shareUsing('google-plus')\"><img src=\"{{getShareImage('google-plus')}}\"></button>\n        <button class=\"no-style\" (click)=\"shareUsing('tumblr')\"><img src=\"{{getShareImage('tumblr')}}\"></button>\n        <button class=\"no-style\" (click)=\"shareUsing('stumbleupon')\"><img src=\"{{getShareImage('stumbleupon')}}\"></button>\n        <button class=\"no-style\" (click)=\"shareUsing('blogger')\"><img src=\"{{getShareImage('bloggr')}}\"></button>\n    </div>\n\n    <div class=\"share-via-email\">\n        <div class=\"title\"><span trans>Share</span> <strong>{{mediaItem.name}}</strong> <span trans>via email</span></div>\n        <form class=\"input-container email-address-input\" (ngSubmit)=\"addEmail()\" ngNativeValidate>\n            <label for=\"email-input\" class=\"hidden\">Email address</label>\n            <input type=\"email\" [(ngModel)]=\"email.address\" id=\"email-input\" name=\"email-input\" placeholder=\"+Email address\" trans-placeholder>\n        </form>\n        <div class=\"input-container email-message-input\">\n            <label for=\"email-message\" class=\"hidden\">Email message</label>\n            <textarea id=\"email-message\" [(ngModel)]=\"email.message\" rows=\"10\" placeholder=\"(Optional) Email message\" trans-placeholder></textarea>\n        </div>\n        <div class=\"emails\" *ngIf=\"email.addresses.length\">\n            <span class=\"title\" trans>Sharing with:</span>\n            <button class=\"email no-style\" *ngFor=\"let address of email.addresses\" (click)=\"removeEmail(address)\" tooltip=\"Remove address\">\n                <span>{{address}}</span>\n                <svg-icon name=\"close\"></svg-icon>\n            </button>\n        </div>\n    </div>\n\n    <div class=\"buttons right\">\n        <button (click)=\"close()\" type=\"button\" class=\"button cancel cancel-button\" trans>Close</button>\n        <button type=\"submit\" class=\"button primary submit-button\" (click)=\"confirm()\">Share</button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/context-menu/share-media-item-modal/share-media-item-modal.component.scss":
/***/ (function(module, exports) {

module.exports = "share-media-item-modal {\n  -webkit-transition: height 0.5s ease;\n  transition: height 0.5s ease; }\n  share-media-item-modal .link-input-container {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex; }\n  share-media-item-modal .link-input-container > .input-addon {\n      min-width: 65px;\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0; }\n  share-media-item-modal .share-icons {\n    margin: 10px 0 20px; }\n  share-media-item-modal .share-icons > button {\n      margin-right: 2px;\n      -webkit-transition: opacity 0.3s ease;\n      transition: opacity 0.3s ease; }\n  share-media-item-modal .share-icons > button:hover {\n        opacity: 0.7; }\n  share-media-item-modal .share-icons > button > img {\n        width: 32px;\n        height: 32px; }\n  share-media-item-modal .share-via-email > .title {\n    margin-bottom: 10px; }\n  share-media-item-modal .share-via-email > .email-address-input > input {\n    height: 50px; }\n  share-media-item-modal .share-via-email > .email-message-input > textarea {\n    border-top: 0;\n    height: 90px; }\n  share-media-item-modal .share-via-email > .emails > .email {\n    background-color: #ECEFF5;\n    border-radius: 2px;\n    padding: 5px 8px;\n    font-size: 1rem;\n    color: #9099a1;\n    text-transform: uppercase;\n    font-weight: 300;\n    position: relative;\n    margin: 10px 5px; }\n  share-media-item-modal .share-via-email > .emails > .email > svg-icon {\n      display: inline-block;\n      width: 12px;\n      height: 12px;\n      vertical-align: text-top; }\n"

/***/ }),

/***/ "./src/app/web-player/context-menu/share-media-item-modal/share-media-item-modal.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ShareMediaItemModalComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_modal_base_modal__ = __webpack_require__("./src/app/shared/modal/base-modal.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_copy_to_clipboard__ = __webpack_require__("./node_modules/copy-to-clipboard/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_copy_to_clipboard___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_copy_to_clipboard__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ShareMediaItemModalComponent = (function (_super) {
    __extends(ShareMediaItemModalComponent, _super);
    /**
     * ShareMediaItemModal Component.
     */
    function ShareMediaItemModalComponent(el, renderer, urls, toast, settings, http) {
        var _this = _super.call(this, el, renderer) || this;
        _this.el = el;
        _this.renderer = renderer;
        _this.urls = urls;
        _this.toast = toast;
        _this.settings = settings;
        _this.http = http;
        /**
         * Data for sharing media item via email.
         */
        _this.email = {
            address: '',
            addresses: [],
            message: ''
        };
        return _this;
    }
    /**
     * Show the modal.
     */
    ShareMediaItemModalComponent.prototype.show = function (params) {
        this.mediaItem = params.mediaItem;
        this.type = this.setType(params.type);
        this.link = this.getLink();
        _super.prototype.show.call(this, params);
    };
    /**
     * Close the modal and share media item via email.
     */
    ShareMediaItemModalComponent.prototype.confirm = function () {
        var _this = this;
        this.addEmail();
        if (this.email.addresses.length) {
            this.http.post('media-items/links/send', {
                name: this.mediaItem.name,
                emails: this.email.addresses,
                message: this.email.message,
                link: this.getLink(),
            }).subscribe(function () {
                _this.toast.show('Shared ' + _this.mediaItem.name);
            }, function () {
                _this.toast.show('There was an issue with sharing ' + _this.mediaItem.name);
            });
        }
        _super.prototype.done.call(this);
    };
    /**
     * Share media item on specified social network.
     */
    ShareMediaItemModalComponent.prototype.shareUsing = function (network) {
        var width = 575, height = 400, left = (window.innerWidth - width) / 2, top = (window.innerHeight - height) / 2, url = this.getSocialMediaUrl(network), opts = 'status=1, scrollbars=1' + ',width=' + width + ',height=' + height + ',top=' + top + ',left=' + left;
        window.open(url, 'share', opts);
    };
    /**
     * Add specified address to share emails.
     */
    ShareMediaItemModalComponent.prototype.addEmail = function () {
        if (this.email.address) {
            this.email.addresses.push(this.email.address);
        }
        this.email.address = null;
    };
    /**
     * Remove specified address from share emails.
     */
    ShareMediaItemModalComponent.prototype.removeEmail = function (address) {
        var i = this.email.addresses.findIndex(function (curr) { return curr === address; });
        this.email.addresses.splice(i, 1);
    };
    /**
     * Copy fully qualified media item url to clipboard.
     */
    ShareMediaItemModalComponent.prototype.copyLink = function () {
        __WEBPACK_IMPORTED_MODULE_3_copy_to_clipboard__(this.link);
        this.toast.show('Copied link to clipboard.');
    };
    /**
     * Get specified share image url.
     */
    ShareMediaItemModalComponent.prototype.getShareImage = function (name) {
        return this.settings.getBaseUrl() + 'assets/images/social-icons/' + name + '.png';
    };
    /**
     * Select media item link on input click.
     */
    ShareMediaItemModalComponent.prototype.selectLink = function (e) {
        e.target.setSelectionRange(0, this.link.length);
    };
    /**
     * Get absolute url to media item.
     */
    ShareMediaItemModalComponent.prototype.getLink = function (encode) {
        if (encode === void 0) { encode = false; }
        if (!this.type)
            return;
        var url = this.urls.routerLinkToUrl(this.urls[this.type](this.mediaItem));
        url = url.replace(/ /g, '+');
        return encode ? encodeURIComponent(url) : url;
    };
    /**
     * Set type for current media item.
     */
    ShareMediaItemModalComponent.prototype.setType = function (name) {
        var type = name;
        if (name === 'playlist-track') {
            type = 'track';
        }
        return type;
    };
    /**
     * Get specified social network share url.
     */
    ShareMediaItemModalComponent.prototype.getSocialMediaUrl = function (type) {
        switch (type) {
            case 'facebook':
                return 'https://www.facebook.com/sharer/sharer.php?u=' + this.getLink(true);
            case 'twitter':
                return 'https://twitter.com/intent/tweet?text=' + this.getLink(true);
            case 'google-plus':
                return 'https://plus.google.com/share?url=' + this.getLink(true);
            case 'pinterest':
                return 'https://pinterest.com/pin/create/button/?url=' + this.getLink(true) + '&media=' + this.getImage();
            case 'tumblr':
                var base = 'https://www.tumblr.com/widgets/share/tool?shareSource=legacy&canonicalUrl=&posttype=photo&title=&caption=';
                return base + this.mediaItem.name + '&content=' + this.getImage() + '&url=' + this.getLink(true);
            case 'stumbleupon':
                return 'http://www.stumbleupon.com/submit?url=' + this.getLink(true);
            case 'blogger':
                return 'https://www.blogger.com/blog_this.pyra?t&u=' + this.getLink(true) + '&n=' + this.mediaItem.name;
        }
    };
    /**
     * Get image for media item.
     */
    ShareMediaItemModalComponent.prototype.getImage = function () {
        switch (this.type) {
            case 'artist':
                return this.mediaItem.image_small;
            case 'album':
                return this.mediaItem.image;
            case 'track':
                return this.mediaItem.album.image;
            case 'playlist':
                return this.mediaItem.image;
        }
    };
    ShareMediaItemModalComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'share-media-item-modal',
            template: __webpack_require__("./src/app/web-player/context-menu/share-media-item-modal/share-media-item-modal.component.html"),
            styles: [__webpack_require__("./src/app/web-player/context-menu/share-media-item-modal/share-media-item-modal.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_4__shared_toast_toast_service__["a" /* ToastService */],
            __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_6__shared_app_http_client_service__["a" /* AppHttpClient */]])
    ], ShareMediaItemModalComponent);
    return ShareMediaItemModalComponent;
}(__WEBPACK_IMPORTED_MODULE_1__shared_modal_base_modal__["a" /* BaseModalClass */]));



/***/ }),

/***/ "./src/app/web-player/custom-scrollbar.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomScrollbarDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_perfect_scrollbar__ = __webpack_require__("./node_modules/perfect-scrollbar/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_perfect_scrollbar___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_perfect_scrollbar__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var CustomScrollbarDirective = (function () {
    /**
     * CustomScrollbarDirective Constructor.
     */
    function CustomScrollbarDirective(el, router, state) {
        this.el = el;
        this.router = router;
        this.state = state;
        /**
         * Active directive suscriptions.
         */
        this.subscriptions = [];
        /**
         * Minimum length for scrollbar drag handle.
         */
        this.minLength = 100;
        /**
         * scrollTop value set via custom setScrollTop() method.
         * Perfect Scrollbar doesn't preserve scrollTop value on DOM
         * element for some reason, so we need to keep it here.
         */
        this.scrollTop = 0;
        /**
         * Whether custom or native scrollbar is used.
         */
        this.native = true;
    }
    CustomScrollbarDirective.prototype.ngAfterViewInit = function () {
        this.bindToRouterEvents();
        if (!this.theme)
            this.theme = 'default';
        if (this.shouldUseNative())
            return;
        __WEBPACK_IMPORTED_MODULE_2_perfect_scrollbar__["initialize"](this.el.nativeElement, {
            minScrollbarLength: this.minLength,
            suppressScrollX: true,
            theme: this.theme,
            wheelSpeed: 2
        });
        this.native = false;
    };
    /**
     * Update custom scrollbar.
     */
    CustomScrollbarDirective.prototype.update = function () {
        if (this.native)
            return;
        __WEBPACK_IMPORTED_MODULE_2_perfect_scrollbar__["update"](this.el.nativeElement);
    };
    /**
     * Scroll container top to given value.
     */
    CustomScrollbarDirective.prototype.setScrollTop = function (value) {
        if (value === void 0) { value = 0; }
        this.el.nativeElement.scrollTop = value;
        this.scrollTop = this.el.nativeElement.scrollTop;
        this.update();
    };
    CustomScrollbarDirective.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });
        this.subscriptions = [];
        if (!this.native) {
            __WEBPACK_IMPORTED_MODULE_2_perfect_scrollbar__["destroy"](this.el.nativeElement);
        }
    };
    /**
     * Check whether native or custom scrollbar should be used.
     */
    CustomScrollbarDirective.prototype.shouldUseNative = function () {
        if (/Edge/.test(navigator.userAgent))
            return false;
        return 'WebkitAppearance' in document.documentElement.style || this.state.isMobile;
    };
    /**
     * Scroll to top on navigation to different route.
     */
    CustomScrollbarDirective.prototype.bindToRouterEvents = function () {
        var _this = this;
        var sub = this.router.events
            .filter(function (e) { return e instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* NavigationEnd */]; })
            .subscribe(function () { return _this.setScrollTop(); });
        this.subscriptions.push(sub);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('customScrollbar'),
        __metadata("design:type", String)
    ], CustomScrollbarDirective.prototype, "theme", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('customScrollbarMinLength'),
        __metadata("design:type", Number)
    ], CustomScrollbarDirective.prototype, "minLength", void 0);
    CustomScrollbarDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Directive"])({
            selector: '[customScrollbar]'
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__["a" /* WebPlayerState */]])
    ], CustomScrollbarDirective);
    return CustomScrollbarDirective;
}());



/***/ }),

/***/ "./src/app/web-player/filterable-page/filterable-page-header/filterable-page-header.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"title\"><ng-content></ng-content></div>\n<div class=\"filter-bar input-container\">\n    <label for=\"popular-albums-filter\" class=\"hidden\">Filter items</label>\n    <input id=\"popular-albums-filter\" [formControl]=\"filterQuery\" #filterInput placeholder=\"Filter...\" trans-placeholder>\n    <svg-icon name=\"search\" class=\"size-22\"></svg-icon>\n</div>"

/***/ }),

/***/ "./src/app/web-player/filterable-page/filterable-page-header/filterable-page-header.component.scss":
/***/ (function(module, exports) {

module.exports = "filterable-page-header {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end; }\n  filterable-page-header.margin {\n    margin: 15px 20px 10px;\n    padding-bottom: 10px;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.05); }\n  filterable-page-header > .title {\n    color: #898B8C;\n    font-size: 1.6rem; }\n  filterable-page-header > .filter-bar {\n    position: relative;\n    max-width: 330px;\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 35%;\n            flex: 1 1 35%;\n    margin-left: auto; }\n  filterable-page-header > .filter-bar > input {\n      color: inherit;\n      width: 100%;\n      background-color: #2a2a35;\n      height: 35px;\n      padding: 0 10px 0 30px;\n      border: 1px solid transparent; }\n  filterable-page-header > .filter-bar > svg-icon {\n      color: #898B8C;\n      position: absolute;\n      top: 7px;\n      left: 6px; }\n  @media only screen and (max-width: 768px) {\n    filterable-page-header > .title {\n      display: none; }\n    filterable-page-header > .filter-bar {\n      max-width: none; } }\n"

/***/ }),

/***/ "./src/app/web-player/filterable-page/filterable-page-header/filterable-page-header.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FilterablePageHeaderComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FilterablePageHeaderComponent = (function () {
    /**
     * FilterablePageHeaderComponent Constructor.
     */
    function FilterablePageHeaderComponent(browserEvents) {
        this.browserEvents = browserEvents;
        /**
         * Active component subscriptions.
         */
        this.subscriptions = [];
    }
    FilterablePageHeaderComponent.prototype.ngOnInit = function () {
        this.initKeybinds();
    };
    FilterablePageHeaderComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
        this.subscriptions = [];
    };
    /**
     * Initiate volume keyboard shortcuts.
     */
    FilterablePageHeaderComponent.prototype.initKeybinds = function () {
        var _this = this;
        var sub = this.browserEvents.globalKeyDown$.subscribe(function (e) {
            //ctrl+f - focus search bar
            if (e.ctrlKey && e.keyCode === _this.browserEvents.keyCodes.letters.f) {
                _this.filterInput.nativeElement.focus();
                e.preventDefault();
            }
        });
        this.subscriptions.push(sub);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('filterInput'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], FilterablePageHeaderComponent.prototype, "filterInput", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_forms__["a" /* FormControl */])
    ], FilterablePageHeaderComponent.prototype, "filterQuery", void 0);
    FilterablePageHeaderComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'filterable-page-header',
            template: __webpack_require__("./src/app/web-player/filterable-page/filterable-page-header/filterable-page-header.component.html"),
            styles: [__webpack_require__("./src/app/web-player/filterable-page/filterable-page-header/filterable-page-header.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            changeDetection: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectionStrategy"].OnPush,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__shared_browser_events_service__["a" /* BrowserEvents */]])
    ], FilterablePageHeaderComponent);
    return FilterablePageHeaderComponent;
}());



/***/ }),

/***/ "./src/app/web-player/filterable-page/filterable-page.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FilterablePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_utils__ = __webpack_require__("./src/app/shared/utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var FilterablePage = (function () {
    /**
     * FilterablePage Constructor.
     */
    function FilterablePage(filterProps) {
        if (filterProps === void 0) { filterProps = []; }
        this.filterProps = filterProps;
        /**
         * Active subscriptions.
         */
        this.subscriptions = [];
        /**
         * List of filtered items.
         */
        this.filteredItems = [];
        /**
         * List of original items.
         */
        this.originalItems = [];
        /*
         * Query for filtering items.
         */
        this.filterQuery = new __WEBPACK_IMPORTED_MODULE_0__angular_forms__["a" /* FormControl */]();
        this.bindToFilterQuery();
    }
    /**
     * Set specified items as filterable and original items.
     */
    FilterablePage.prototype.setItems = function (items) {
        this.filteredItems = items;
        this.originalItems = items;
    };
    /**
     * Set specified items as filterable items.
     */
    FilterablePage.prototype.setFilteredItems = function (items) {
        this.filteredItems = items;
    };
    /**
     * Append specified items to current items.
     */
    FilterablePage.prototype.appendItems = function (items) {
        this.filteredItems = this.filteredItems.concat(items);
        this.originalItems = this.originalItems.concat(items);
    };
    /**
     * Prepend specified items to current items.
     */
    FilterablePage.prototype.prependItems = function (items) {
        this.filteredItems = items.concat(this.filteredItems);
        this.originalItems = items.concat(this.originalItems);
    };
    /**
     * Remove specified items.
     */
    FilterablePage.prototype.removeItems = function (items) {
        var _this = this;
        if (!Array.isArray(items))
            items = [items];
        items.forEach(function (item) {
            _this.filteredItems.splice(_this.filteredItems.findIndex(function (i) { return item['id'] === i['id']; }), 1);
            _this.originalItems.splice(_this.originalItems.findIndex(function (i) { return item['id'] === i['id']; }), 1);
        });
    };
    /**
     * Filter items by specified query.
     */
    FilterablePage.prototype.filter = function (query) {
        var _this = this;
        return this.originalItems.filter(function (item) {
            var props = _this.filterProps.map(function (prop) {
                return __WEBPACK_IMPORTED_MODULE_2__shared_utils__["a" /* utils */].getObjectProp(item, prop);
            });
            return __WEBPACK_IMPORTED_MODULE_2__shared_utils__["a" /* utils */].strContains(props, query);
        });
    };
    /**
     * Sort items by specified object property.
     */
    FilterablePage.prototype.sort = function (prop, direction, displayName) {
        if (direction === void 0) { direction = 'asc'; }
        var order = displayName || prop;
        if (this.order === order)
            return;
        this.order = order;
        this.filteredItems.sort(function (a, b) {
            if (__WEBPACK_IMPORTED_MODULE_2__shared_utils__["a" /* utils */].getObjectProp(a, prop) < __WEBPACK_IMPORTED_MODULE_2__shared_utils__["a" /* utils */].getObjectProp(b, prop)) {
                return -1;
            }
            else if (__WEBPACK_IMPORTED_MODULE_2__shared_utils__["a" /* utils */].getObjectProp(a, prop) > __WEBPACK_IMPORTED_MODULE_2__shared_utils__["a" /* utils */].getObjectProp(b, prop)) {
                return 1;
            }
            else {
                return 0;
            }
        });
        if (direction === 'desc') {
            this.filteredItems.reverse();
        }
    };
    /**
     * Filter items when user types into filter input.
     */
    FilterablePage.prototype.bindToFilterQuery = function () {
        var _this = this;
        var sub = this.filterQuery.valueChanges
            .debounceTime(200)
            .distinctUntilChanged()
            .switchMap(function (query) {
            var filtered = query ? _this.filter(query) : _this.originalItems;
            return filtered instanceof __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["Observable"] ? filtered : __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["Observable"].of(filtered);
        }).catch(function () {
            return __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["Observable"].of([]);
        }).subscribe(function (items) {
            _this.setFilteredItems(items);
            _this.triggerImagesLazyLoad();
        });
        this.subscriptions.push(sub);
    };
    /**
     * Manually trigger loading of lazy images on the page.
     */
    FilterablePage.prototype.triggerImagesLazyLoad = function () {
        if (!this.scrollContainer)
            return;
        var container = this.scrollContainer.nativeElement;
        container.scrollTop++;
    };
    FilterablePage.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
        this.subscriptions = [];
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["ViewChild"])('scrollContainer'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__angular_core__["ElementRef"])
    ], FilterablePage.prototype, "scrollContainer", void 0);
    return FilterablePage;
}());



/***/ }),

/***/ "./src/app/web-player/filterable-page/sorting-header/sorting-header.component.html":
/***/ (function(module, exports) {

module.exports = "<dropdown [menuItems]=\"menuItems\">\n    <button class=\"no-style header-content\" #trigger>\n        <span trans>Sorted by</span>\n        <span class=\"current-order\">{{name}}</span>\n        <svg-icon name=\"sort\"></svg-icon>\n    </button>\n\n    <div class=\"dropdown-menu\" #menu>\n        <ng-content></ng-content>\n    </div>\n</dropdown>"

/***/ }),

/***/ "./src/app/web-player/filterable-page/sorting-header/sorting-header.component.scss":
/***/ (function(module, exports) {

module.exports = "sorting-header {\n  display: block; }\n  sorting-header .header-content {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center; }\n  sorting-header .header-content:hover > .current-order {\n      text-decoration: underline; }\n  sorting-header .header-content > svg-icon, sorting-header .header-content > .current-order {\n      display: block;\n      margin-left: 5px; }\n  sorting-header .header-content > .current-order {\n      color: #d0d0d6; }\n"

/***/ }),

/***/ "./src/app/web-player/filterable-page/sorting-header/sorting-header.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SortingHeaderComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var SortingHeaderComponent = (function () {
    /**
     * SortingHeaderComponent
     */
    function SortingHeaderComponent(i18n) {
        this.i18n = i18n;
    }
    Object.defineProperty(SortingHeaderComponent.prototype, "name", {
        get: function () {
            return this._name;
        },
        set: function (value) {
            this._name = this.i18n.t(value);
        },
        enumerable: true,
        configurable: true
    });
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ContentChildren"])('menuItem'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["QueryList"])
    ], SortingHeaderComponent.prototype, "menuItems", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('name'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], SortingHeaderComponent.prototype, "name", null);
    SortingHeaderComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'sorting-header',
            template: __webpack_require__("./src/app/web-player/filterable-page/sorting-header/sorting-header.component.html"),
            styles: [__webpack_require__("./src/app/web-player/filterable-page/sorting-header/sorting-header.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_translations_translations_service__["a" /* Translations */]])
    ], SortingHeaderComponent);
    return SortingHeaderComponent;
}());



/***/ }),

/***/ "./src/app/web-player/fullscreen-overlay/fullscreen-overlay.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"top-nav\" *ngIf=\"overlay.isMaximized()\">\n    <button class=\"no-style minimize\" (click)=\"minimize()\" tooltip=\"Minimize\">\n        <svg-icon name=\"keyboard-arrow-down\"></svg-icon>\n    </button>\n    <button class=\"no-style toggle-queue\" (click)=\"overlay.openQueuePanel()\" *ngIf=\"overlay.activePanelIs('video')\" tooltip=\"Show Queue\">\n        <svg-icon name=\"queue-music\"></svg-icon>\n    </button>\n    <button class=\"no-style toggle-queue\" (click)=\"overlay.openVideoPanel()\" *ngIf=\"overlay.activePanelIs('queue')\" tooltip=\"Show video\">\n        <svg-icon name=\"music-video\"></svg-icon>\n    </button>\n    <button class=\"no-style full-screen-button\" (click)=\"toggleBrowserFullscreen()\" *ngIf=\"!state.isMobile\" tooltip=\"Fullscreen\">\n        <svg-icon name=\"fullscreen\"></svg-icon>\n    </button>\n</div>\n\n<div class=\"carousel\" [class.hidden]=\"overlay.activePanelIs('queue')\">\n    <div class=\"previous\" *ngIf=\"overlay.isMaximized() && overlay.activePanelIs('video') && getPrevious() as previous\" (click)=\"player.playPrevious()\">\n        <img [src]=\"getTrackImage(previous)\" class=\"box-shadow\">\n        <svg-icon name=\"skip-previous\"></svg-icon>\n        <div class=\"track-meta\">\n            <div class=\"track-name\">{{previous.name}}</div>\n            <div class=\"artist-name\">{{previous.artists}}</div>\n        </div>\n    </div>\n    <div class=\"video-container box-shadow current\">\n        <div class=\"video-overlay\" *ngIf=\"!player.cued()\"></div>\n        <ng-content class=\"current\"></ng-content>\n    </div>\n    <div class=\"next\" *ngIf=\"overlay.isMaximized() && overlay.activePanelIs('video') && getNext() as next\" (click)=\"player.playNext()\">\n        <img [src]=\"getTrackImage(next)\" class=\"box-shadow\">\n        <svg-icon name=\"skip-next\"></svg-icon>\n        <div class=\"track-meta\">\n            <div class=\"track-name\">{{next.name}}</div>\n            <div class=\"artist-name\">{{next.artists}}</div>\n        </div>\n    </div>\n</div>\n\n<ng-container *ngIf=\"overlay.isMaximized() && overlay.activePanelIs('video')\">\n    <div class=\"track-meta current-track-meta\">\n        <library-track-toggle-button [track]=\"getCurrent()\"></library-track-toggle-button>\n        <div class=\"names\">\n            <div class=\"track-name\">{{getCurrent().name}}</div>\n            <div class=\"artist-name\">\n                <artists-links-list [artists]=\"getCurrent().artists\"></artists-links-list>\n            </div>\n        </div>\n        <button class=\"no-style\" (click)=\"openTrackContextMenu(getCurrent(), $event)\"><svg-icon name=\"more-vert\"></svg-icon></button>\n    </div>\n\n    <player-seekbar></player-seekbar>\n\n    <div class=\"controls\">\n        <button class=\"player-action no-style shuffle-button\" [class.active]=\"player.getState().shuffling\" (click)=\"player.toggleShuffle()\" tooltip=\"Shuffle\">\n            <svg-icon name=\"shuffle\"></svg-icon>\n        </button>\n\n        <main-playback-buttons></main-playback-buttons>\n\n        <repeat-button></repeat-button>\n    </div>\n</ng-container>\n\n<div class=\"queue-container\" *ngIf=\"overlay.isMaximized() && overlay.activePanelIs('queue')\">\n    <track-list [tracks]=\"player.queue.getAll()\" [showArtist]=\"true\" [showAlbum]=\"true\"></track-list>\n</div>"

/***/ }),

/***/ "./src/app/web-player/fullscreen-overlay/fullscreen-overlay.component.scss":
/***/ (function(module, exports) {

module.exports = "fullscreen-overlay {\n  width: 250px;\n  height: 207px;\n  position: fixed;\n  right: 0;\n  bottom: 65px;\n  z-index: 3;\n  overflow: hidden;\n  -webkit-transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1); }\n  fullscreen-overlay.mobile, fullscreen-overlay.hide-video {\n    display: none; }\n  fullscreen-overlay.strategy-youtube .youtube-player {\n    display: block; }\n  fullscreen-overlay.strategy-html5 .html5-player {\n    display: block; }\n  fullscreen-overlay.strategy-soundcloud .soundcloud-player {\n    display: block; }\n  fullscreen-overlay.maximized {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    width: 100%;\n    height: 100%;\n    bottom: 0;\n    background: -webkit-gradient(linear, left top, left bottom, from(#2a2a35), color-stop(85%, #1e1e26));\n    background: linear-gradient(#2a2a35, #1e1e26 85%);\n    z-index: 5;\n    overflow-y: auto;\n    overflow-x: hidden; }\n  fullscreen-overlay.maximized .carousel {\n      width: 100%;\n      padding: 25px 25px 0; }\n  fullscreen-overlay .box-shadow {\n    -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12);\n            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 2px 1px -1px rgba(0, 0, 0, 0.12); }\n  fullscreen-overlay .player-container {\n    display: none; }\n  fullscreen-overlay .player-container.html5-player > video {\n      width: 100%;\n      height: 100%; }\n  fullscreen-overlay .player-container #soundcloud-iframe {\n      width: 100%;\n      height: 100%; }\n  fullscreen-overlay > .top-nav {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 100%;\n    -webkit-box-flex: 0;\n        -ms-flex: 0 1 auto;\n            flex: 0 1 auto;\n    padding: 15px 25px 25px;\n    min-height: 55px; }\n  fullscreen-overlay > .top-nav > .toggle-queue {\n      margin-left: auto;\n      margin-right: 10px; }\n  fullscreen-overlay > .top-nav > button {\n      width: 35px;\n      height: 35px;\n      vertical-align: middle; }\n  fullscreen-overlay > .top-nav > button > svg-icon {\n        display: block;\n        width: 100%;\n        height: 100%; }\n  fullscreen-overlay > .carousel {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    margin-top: auto;\n    height: 100%;\n    width: 100%;\n    overflow: hidden; }\n  fullscreen-overlay > .carousel > .current {\n      height: 100%;\n      max-width: 100%;\n      -webkit-box-flex: 1;\n          -ms-flex: 1 0 auto;\n              flex: 1 0 auto;\n      position: relative; }\n  fullscreen-overlay > .carousel > .current > .player-container, fullscreen-overlay > .carousel > .current > .video-overlay {\n        width: 100%;\n        height: 100%; }\n  fullscreen-overlay > .carousel > .current > .player-container {\n        background-color: #000; }\n  fullscreen-overlay > .carousel > .current > .video-overlay {\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 3; }\n  fullscreen-overlay > .carousel > .previous, fullscreen-overlay > .carousel > .next {\n      position: relative;\n      -webkit-transition: -webkit-transform 0.2s;\n      transition: -webkit-transform 0.2s;\n      transition: transform 0.2s;\n      transition: transform 0.2s, -webkit-transform 0.2s;\n      cursor: pointer;\n      color: #fff; }\n  fullscreen-overlay > .carousel > .previous:hover > svg-icon, fullscreen-overlay > .carousel > .next:hover > svg-icon {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n  fullscreen-overlay > .carousel > .previous > img, fullscreen-overlay > .carousel > .next > img {\n        -webkit-filter: brightness(0.7);\n                filter: brightness(0.7);\n        width: 300px;\n        height: 300px;\n        -o-object-fit: cover;\n           object-fit: cover; }\n  fullscreen-overlay > .carousel > .previous > .track-meta, fullscreen-overlay > .carousel > .next > .track-meta {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        margin: 0;\n        padding: 10px; }\n  fullscreen-overlay > .carousel > .previous > svg-icon, fullscreen-overlay > .carousel > .next > svg-icon {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 60px;\n        height: 60px;\n        margin: -30px 0 0 -30px;\n        border: 1px solid rgba(255, 255, 255, 0.6);\n        border-radius: 50%;\n        -webkit-transition: -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n        transition: -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n        transition: transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n        transition: transform 0.3s cubic-bezier(0, 0, 0, 2.41), -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41); }\n  @media only screen and (max-width: 768px) {\n        fullscreen-overlay > .carousel > .previous > .track-meta, fullscreen-overlay > .carousel > .previous > svg-icon, fullscreen-overlay > .carousel > .next > .track-meta, fullscreen-overlay > .carousel > .next > svg-icon {\n          display: none; } }\n  fullscreen-overlay > .carousel > .previous {\n      margin-right: 20px; }\n  fullscreen-overlay > .carousel > .next {\n      margin-left: 20px; }\n  fullscreen-overlay .track-meta {\n    margin: 20px 0;\n    text-align: center; }\n  fullscreen-overlay .track-meta .track-name {\n      font-size: 1.6rem;\n      font-weight: 500;\n      color: #fff; }\n  fullscreen-overlay .current-track-meta {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    margin: 40px 0; }\n  fullscreen-overlay .current-track-meta > .names {\n      margin: 0 60px; }\n  fullscreen-overlay .current-track-meta button, fullscreen-overlay .current-track-meta svg-icon {\n      display: block;\n      width: 30px;\n      height: 30px; }\n  fullscreen-overlay .current-track-meta button.remove-button, fullscreen-overlay .current-track-meta svg-icon.remove-button {\n        color: #6eac00; }\n  fullscreen-overlay > player-seekbar {\n    width: 90%;\n    height: 40px;\n    -webkit-box-flex: 0;\n        -ms-flex: 0 0 40px;\n            flex: 0 0 40px;\n    margin: 10px auto; }\n  fullscreen-overlay > player-seekbar > .outer-track .progress-handle {\n      top: 13px; }\n  fullscreen-overlay > player-seekbar > .outer-track .progress-track {\n      top: 17.5px; }\n  fullscreen-overlay .controls {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    margin-bottom: 50px; }\n  fullscreen-overlay .controls .shuffle-button {\n      margin-right: 25px; }\n  fullscreen-overlay .controls .shuffle-button.active {\n        color: #6eac00; }\n  fullscreen-overlay .controls .repeat-button {\n      margin-left: 25px; }\n  fullscreen-overlay .controls main-playback-buttons .play-track, fullscreen-overlay .controls main-playback-buttons .pause-track, fullscreen-overlay .controls main-playback-buttons .buffering {\n      width: 85px;\n      height: 85px; }\n  fullscreen-overlay .controls main-playback-buttons .buffering > .spinner {\n      width: 75px;\n      height: 75px; }\n  fullscreen-overlay .controls main-playback-buttons .previous-track, fullscreen-overlay .controls main-playback-buttons .next-track {\n      width: 35px;\n      height: 35px; }\n  fullscreen-overlay .queue-container {\n    width: 100%;\n    height: calc(100% - 40px);\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto;\n    padding: 25px; }\n  fullscreen-overlay .queue-container > track-list > .track-list-header {\n      background-color: transparent; }\n"

/***/ }),

/***/ "./src/app/web-player/fullscreen-overlay/fullscreen-overlay.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FullscreenOverlayComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_player_queue_service__ = __webpack_require__("./src/app/web-player/player/player-queue.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Track__ = __webpack_require__("./src/app/shared/types/models/Track.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fullscreen_overlay_service__ = __webpack_require__("./src/app/web-player/fullscreen-overlay/fullscreen-overlay.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__tracks_track_context_menu_track_context_menu_component__ = __webpack_require__("./src/app/web-player/tracks/track-context-menu/track-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__shared_browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var FullscreenOverlayComponent = (function () {
    /**
     * FullscreenOverlayComponent Constructor.
     */
    function FullscreenOverlayComponent(player, el, queue, contextMenu, overlay, browserEvents, state, settings) {
        this.player = player;
        this.el = el;
        this.queue = queue;
        this.contextMenu = contextMenu;
        this.overlay = overlay;
        this.browserEvents = browserEvents;
        this.state = state;
        this.settings = settings;
    }
    FullscreenOverlayComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.subscription = this.browserEvents.globalKeyDown$.subscribe(function (e) {
            //minimize overlay on ESC key press.
            if (e.keyCode === _this.browserEvents.keyCodes.escape) {
                _this.overlay.minimize();
            }
        });
    };
    FullscreenOverlayComponent.prototype.ngOnDestroy = function () {
        this.subscription.unsubscribe();
        this.subscription = null;
    };
    /**
     * Get current track in player queue.
     */
    FullscreenOverlayComponent.prototype.getCurrent = function () {
        return this.queue.getCurrent() || new __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Track__["a" /* Track */]();
    };
    /**
     * Get previous track in player queue.
     */
    FullscreenOverlayComponent.prototype.getPrevious = function () {
        return this.queue.getPrevious() || this.getCurrent();
    };
    /**
     * Get next track in player queue.
     */
    FullscreenOverlayComponent.prototype.getNext = function () {
        return this.queue.getNext() || this.getCurrent();
    };
    /**
     * Get image for specified track.
     */
    FullscreenOverlayComponent.prototype.getTrackImage = function (track) {
        if (!track || !track.album)
            return this.settings.getDefaultImage('album');
        return track.album.image;
    };
    /**
     * Open track context menu.
     */
    FullscreenOverlayComponent.prototype.openTrackContextMenu = function (track, e) {
        e.stopPropagation();
        this.contextMenu.show(__WEBPACK_IMPORTED_MODULE_5__tracks_track_context_menu_track_context_menu_component__["a" /* TrackContextMenuComponent */], { item: track, type: 'track' }, e.target);
    };
    /**
     * Exit browser fullscreen mode or minimize the overlay.
     */
    FullscreenOverlayComponent.prototype.minimize = function () {
        if (this.isBrowserFullscreen()) {
            this.exitBrowserFullscreen();
        }
        else {
            this.overlay.minimize();
        }
    };
    /**
     * Toggle browser fullscreen mode.
     */
    FullscreenOverlayComponent.prototype.toggleBrowserFullscreen = function () {
        var el = this.el.nativeElement;
        if (this.isBrowserFullscreen()) {
            return this.exitBrowserFullscreen();
        }
        if (el.requestFullscreen) {
            el.requestFullscreen();
        }
        else if (el.msRequestFullscreen) {
            el.msRequestFullscreen();
        }
        else if (el.mozRequestFullScreen) {
            el.mozRequestFullScreen();
        }
        else if (el.webkitRequestFullScreen) {
            el.webkitRequestFullScreen();
        }
    };
    /**
     * Exit browser fullscreen mode.
     */
    FullscreenOverlayComponent.prototype.exitBrowserFullscreen = function () {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        }
        else if (document.webkitExitFullscreen) {
            document.webkitExitFullscreen();
        }
        else if (document['mozCancelFullScreen']) {
            document['mozCancelFullScreen']();
        }
        else if (document['msExitFullscreen']) {
            document['msExitFullscreen']();
        }
    };
    /**
     * Check if browser fullscreen mode is active.
     */
    FullscreenOverlayComponent.prototype.isBrowserFullscreen = function () {
        return document.fullscreenElement ||
            document.webkitFullscreenElement ||
            document['mozFullscreenElement'] ||
            document['msFullScreenElement'];
    };
    FullscreenOverlayComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'fullscreen-overlay',
            template: __webpack_require__("./src/app/web-player/fullscreen-overlay/fullscreen-overlay.component.html"),
            styles: [__webpack_require__("./src/app/web-player/fullscreen-overlay/fullscreen-overlay.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { '[class.maximized]': 'overlay.isMaximized()' }
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_1__player_player_queue_service__["a" /* PlayerQueue */],
            __WEBPACK_IMPORTED_MODULE_6__context_menu_context_menu_service__["a" /* ContextMenu */],
            __WEBPACK_IMPORTED_MODULE_3__fullscreen_overlay_service__["a" /* FullscreenOverlay */],
            __WEBPACK_IMPORTED_MODULE_7__shared_browser_events_service__["a" /* BrowserEvents */],
            __WEBPACK_IMPORTED_MODULE_8__web_player_state_service__["a" /* WebPlayerState */],
            __WEBPACK_IMPORTED_MODULE_9__shared_settings_service__["a" /* Settings */]])
    ], FullscreenOverlayComponent);
    return FullscreenOverlayComponent;
}());



/***/ }),

/***/ "./src/app/web-player/fullscreen-overlay/fullscreen-overlay.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FullscreenOverlay; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FullscreenOverlay = (function () {
    /**
     * FullscreenOverlay Constructor.
     */
    function FullscreenOverlay(router) {
        this.router = router;
        /**
         * Whether fullscreen overlay is currently maximized.
         */
        this.maximized = false;
        /**
         * Currently active fullscreen overlay panel.
         */
        this.activePanel = 'video';
        /**
         * Active service subscriptions.
         */
        this.subscriptions = [];
    }
    /**
     * Init fullscreen overlay service.
     */
    FullscreenOverlay.prototype.init = function () {
        this.bindToRouterEvents();
    };
    /**
     * Check if fullscreen overlay is currently maximized.
     */
    FullscreenOverlay.prototype.isMaximized = function () {
        return this.maximized;
    };
    /**
     * Minimize fullscreen overlay.
     */
    FullscreenOverlay.prototype.minimize = function () {
        this.maximized = false;
        this.openVideoPanel();
    };
    /**
     * Maximize fullscreen overlay.
     */
    FullscreenOverlay.prototype.maximize = function () {
        this.maximized = true;
        //wait for animation to complete
        return new Promise(function (resolve) {
            setTimeout(function () { resolve(); }, 201);
        });
    };
    FullscreenOverlay.prototype.openQueuePanel = function () {
        this.activePanel = 'queue';
    };
    FullscreenOverlay.prototype.openVideoPanel = function () {
        this.activePanel = 'video';
    };
    FullscreenOverlay.prototype.activePanelIs = function (name) {
        return this.activePanel === name;
    };
    /**
     * Destroy fullscreen overlay service.
     */
    FullscreenOverlay.prototype.destroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
    };
    /**
     * Minimize fullscreen overlay when navigation occurs.
     */
    FullscreenOverlay.prototype.bindToRouterEvents = function () {
        var _this = this;
        var sub = this.router.events
            .filter(function (e) { return e instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* NavigationStart */]; })
            .subscribe(function () { return _this.minimize(); });
        this.subscriptions.push(sub);
    };
    FullscreenOverlay = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */]])
    ], FullscreenOverlay);
    return FullscreenOverlay;
}());



/***/ }),

/***/ "./src/app/web-player/genres/genre/genre-artists-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GenreArtistsResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__genres_service__ = __webpack_require__("./src/app/web-player/genres/genres.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var GenreArtistsResolver = (function () {
    function GenreArtistsResolver(genres, router, state) {
        this.genres = genres;
        this.router = router;
        this.state = state;
    }
    GenreArtistsResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        var name = route.paramMap.get('name');
        return this.genres.getGenreArtists(name).toPromise().then(function (artists) {
            _this.state.loading = false;
            if (artists) {
                return artists;
            }
            else {
                _this.router.navigate(['/popular-genres']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/popular-genres']);
        });
    };
    GenreArtistsResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__genres_service__["a" /* Genres */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__["a" /* WebPlayerState */]])
    ], GenreArtistsResolver);
    return GenreArtistsResolver;
}());



/***/ }),

/***/ "./src/app/web-player/genres/genre/genre.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar #scrollContainer infinite-scroll (onInfiniteScroll)=\"loadMore()\" [infiniteScrollEnabled]=\"canLoadMore()\">\n    <filterable-page-header [filterQuery]=\"filterQuery\" class=\"margin\">\n        <span class=\"genre-name\" trans>{{genre.name}} Artists</span>\n    </filterable-page-header>\n\n    <ad-host slot=\"ad_slot_1\"></ad-host>\n\n    <media-grid>\n        <artist-item *ngFor=\"let artist of filteredItems\" [artist]=\"artist\" [contextMenu]=\"{item: artist, type: 'artist'}\" [scrollContainer]=\"scrollContainer\"></artist-item>\n    </media-grid>\n\n    <ad-host slot=\"ad_slot_2\" class=\"margin-bottom\"></ad-host>\n</div>"

/***/ }),

/***/ "./src/app/web-player/genres/genre/genre.component.scss":
/***/ (function(module, exports) {

module.exports = "genre {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto; }\n  genre .genre-name {\n    text-transform: capitalize; }\n"

/***/ }),

/***/ "./src/app/web-player/genres/genre/genre.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GenreComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Genre__ = __webpack_require__("./src/app/shared/types/models/Genre.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__filterable_page_filterable_page__ = __webpack_require__("./src/app/web-player/filterable-page/filterable-page.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__genres_service__ = __webpack_require__("./src/app/web-player/genres/genres.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var GenreComponent = (function (_super) {
    __extends(GenreComponent, _super);
    /**
     * GenreComponent Constructor.
     */
    function GenreComponent(route, genres, settings) {
        var _this = _super.call(this) || this;
        _this.route = route;
        _this.genres = genres;
        _this.settings = settings;
        /**
         * Genre model.
         */
        _this.genre = new __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Genre__["a" /* Genre */]();
        /**
         * Whether more artists are being loaded currently.
         */
        _this.loading = false;
        return _this;
    }
    GenreComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.pagination = data.genreData.artistsPagination;
            _this.setItems(_this.pagination.data);
            _this.genre = data.genreData.genre;
        });
    };
    /**
     * Filter genre artists by specified query.
     */
    GenreComponent.prototype.filter = function (query) {
        return this.genres.getGenreArtists(this.genre.name, { query: query })
            .map(function (response) { return response.artistsPagination.data; });
    };
    /**
     * Load more artists for current genre.
     */
    GenreComponent.prototype.loadMore = function () {
        var _this = this;
        this.loading = true;
        var params = { page: this.pagination.current_page + 1 };
        this.genres.getGenreArtists(this.genre.name, params).finally(function () {
            _this.loading = false;
        }).subscribe(function (response) {
            _this.pagination = response.artistsPagination;
            _this.appendItems(_this.pagination.data);
        });
    };
    /**
     * Check if more artists can be loaded for current genre.
     */
    GenreComponent.prototype.canLoadMore = function () {
        return !this.loading && !this.filterQuery.value && this.pagination.current_page < this.pagination.last_page;
    };
    GenreComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'genre',
            template: __webpack_require__("./src/app/web-player/genres/genre/genre.component.html"),
            styles: [__webpack_require__("./src/app/web-player/genres/genre/genre.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_4__genres_service__["a" /* Genres */],
            __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__["a" /* Settings */]])
    ], GenreComponent);
    return GenreComponent;
}(__WEBPACK_IMPORTED_MODULE_3__filterable_page_filterable_page__["a" /* FilterablePage */]));



/***/ }),

/***/ "./src/app/web-player/genres/genres.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Genres; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Genres = (function () {
    /**
     * Genres Service Constructor.
     */
    function Genres(httpClient) {
        this.httpClient = httpClient;
    }
    /**
     * Get popular genres.
     */
    Genres.prototype.getPopular = function () {
        return this.httpClient.get('genres/popular');
    };
    /**
     * Get artists for specified genre.
     */
    Genres.prototype.getGenreArtists = function (name, params) {
        if (params === void 0) { params = {}; }
        return this.httpClient.get("genres/" + name + "/artists", params);
    };
    Genres = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__["a" /* AppHttpClient */]])
    ], Genres);
    return Genres;
}());



/***/ }),

/***/ "./src/app/web-player/genres/popular-genres/popular-genres-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PopularGenresResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__genres_service__ = __webpack_require__("./src/app/web-player/genres/genres.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PopularGenresResolver = (function () {
    function PopularGenresResolver(genres, state) {
        this.genres = genres;
        this.state = state;
    }
    PopularGenresResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        return this.genres.getPopular().toPromise().then(function (genres) {
            _this.state.loading = false;
            if (genres) {
                return genres;
            }
            else {
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
        });
    };
    PopularGenresResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__genres_service__["a" /* Genres */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__["a" /* WebPlayerState */]])
    ], PopularGenresResolver);
    return PopularGenresResolver;
}());



/***/ }),

/***/ "./src/app/web-player/genres/popular-genres/popular-genres.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar #scrollContainer>\n    <filterable-page-header [filterQuery]=\"filterQuery\" class=\"margin\">\n        <span trans>Popular Genres</span>\n    </filterable-page-header>\n\n    <ad-host slot=\"ad_slot_1\"></ad-host>\n\n    <media-grid class=\"genres\">\n        <a class=\"media-grid-item genre\" *ngFor=\"let genre of filteredItems\" [routerLink]=\"urls.genre(genre)\">\n            <div class=\"img-container\">\n                <img class=\"lazy-loaded\" [src]=\"settings.getDefaultImage('artist')\" [lazyLoad]=\"genre['image']\" [scrollTarget]=\"scrollContainer\">\n            </div>\n            <div class=\"name\">{{genre.name}}</div>\n        </a>\n    </media-grid>\n\n    <no-results-message *ngIf=\"!filteredItems || ! filteredItems.length\">\n        <span primary-text trans>No genres found.</span>\n        <span secondary-text trans>Could not find any popular genres. Please try again later.</span>\n    </no-results-message>\n\n    <ad-host slot=\"ad_slot_2\" class=\"margin-bottom\"></ad-host>\n</div>"

/***/ }),

/***/ "./src/app/web-player/genres/popular-genres/popular-genres.component.scss":
/***/ (function(module, exports) {

module.exports = "popular-genres {\n  display: block;\n  width: 100%;\n  height: 100%; }\n  popular-genres .genres > .genre {\n    position: relative; }\n  popular-genres .genres > .genre:hover img {\n      -webkit-filter: brightness(0.4);\n              filter: brightness(0.4); }\n  popular-genres .genres > .genre .ng-lazyloaded {\n      -webkit-filter: brightness(0.3);\n              filter: brightness(0.3); }\n  popular-genres .genres > .genre > .name {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      -webkit-transform: translate(-50%, -50%);\n              transform: translate(-50%, -50%);\n      text-transform: capitalize;\n      font-size: 2rem;\n      color: #fff;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 100%; }\n"

/***/ }),

/***/ "./src/app/web-player/genres/popular-genres/popular-genres.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PopularGenresComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__filterable_page_filterable_page__ = __webpack_require__("./src/app/web-player/filterable-page/filterable-page.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PopularGenresComponent = (function (_super) {
    __extends(PopularGenresComponent, _super);
    /**
     * PopularGenresComponent Constructor.
     */
    function PopularGenresComponent(route, urls, settings) {
        var _this = _super.call(this, ['name']) || this;
        _this.route = route;
        _this.urls = urls;
        _this.settings = settings;
        return _this;
    }
    PopularGenresComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.setItems(data.genres);
        });
    };
    PopularGenresComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'popular-genres',
            template: __webpack_require__("./src/app/web-player/genres/popular-genres/popular-genres.component.html"),
            styles: [__webpack_require__("./src/app/web-player/genres/popular-genres/popular-genres.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_4__shared_settings_service__["a" /* Settings */]])
    ], PopularGenresComponent);
    return PopularGenresComponent;
}(__WEBPACK_IMPORTED_MODULE_2__filterable_page_filterable_page__["a" /* FilterablePage */]));



/***/ }),

/***/ "./src/app/web-player/lyrics/lyrics-modal/lyrics-modal.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"backdrop\"></div>\n\n<div class=\"modal-content\" customScrollbar>\n    <div class=\"lyrics\" [innerHtml]=\"lyrics\"></div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/lyrics/lyrics-modal/lyrics-modal.component.scss":
/***/ (function(module, exports) {

module.exports = "lyrics-modal.modal > .modal-content {\n  background-color: #2a2a35;\n  color: #C2C2CA;\n  font-size: 2rem;\n  font-weight: 300;\n  text-align: center;\n  height: 95%;\n  width: 50%; }\n  @media only screen and (max-width: 768px) {\n    lyrics-modal.modal > .modal-content {\n      width: 90%; } }\n  lyrics-modal.modal > .modal-content > .modal-header {\n    color: inherit; }\n  lyrics-modal.modal > .modal-content > .modal-header > .close-button {\n      color: inherit; }\n"

/***/ }),

/***/ "./src/app/web-player/lyrics/lyrics-modal/lyrics-modal.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LyricsModalComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_modal_base_modal__ = __webpack_require__("./src/app/shared/modal/base-modal.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LyricsModalComponent = (function (_super) {
    __extends(LyricsModalComponent, _super);
    /**
     * LyricsModalComponent Constructor.
     */
    function LyricsModalComponent(elementRef, renderer) {
        var _this = _super.call(this, elementRef, renderer) || this;
        _this.elementRef = elementRef;
        _this.renderer = renderer;
        return _this;
    }
    /**
     * Show confirmation modal.
     */
    LyricsModalComponent.prototype.show = function (params) {
        this.lyrics = params.lyrics;
        _super.prototype.show.call(this, params);
    };
    LyricsModalComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'lyrics-modal',
            template: __webpack_require__("./src/app/web-player/lyrics/lyrics-modal/lyrics-modal.component.html"),
            styles: [__webpack_require__("./src/app/web-player/lyrics/lyrics-modal/lyrics-modal.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"]])
    ], LyricsModalComponent);
    return LyricsModalComponent;
}(__WEBPACK_IMPORTED_MODULE_1__shared_modal_base_modal__["a" /* BaseModalClass */]));



/***/ }),

/***/ "./src/app/web-player/lyrics/lyrics.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Lyrics; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Lyrics = (function () {
    /**
     * Lyrics Service Constructor.
     */
    function Lyrics(http) {
        this.http = http;
    }
    /**
     * Get lyrics for specified track.
     */
    Lyrics.prototype.get = function (trackId) {
        return this.http.get("tracks/" + trackId + "/lyrics");
    };
    /**
     * Create a new lyric.
     */
    Lyrics.prototype.create = function (payload) {
        return this.http.post('lyrics', payload);
    };
    /**
     * Update specified lyric.
     */
    Lyrics.prototype.update = function (id, payload) {
        return this.http.put('lyrics/' + id, payload);
    };
    /**
     * Delete specified lyrics.
     */
    Lyrics.prototype.delete = function (ids) {
        return this.http.delete('lyrics', { ids: ids });
    };
    Lyrics = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__["a" /* AppHttpClient */]])
    ], Lyrics);
    return Lyrics;
}());



/***/ }),

/***/ "./src/app/web-player/media-grid/media-grid-item.component.scss":
/***/ (function(module, exports) {

module.exports = ".media-grid-item {\n  display: block; }\n  .media-grid-item > .img-container:hover img, .media-grid-item.active img {\n    -webkit-filter: brightness(0.3);\n            filter: brightness(0.3); }\n  .media-grid-item > .img-container:hover playback-control-button, .media-grid-item.active playback-control-button {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex; }\n  .media-grid-item > .img-container {\n    display: block; }\n  .media-grid-item > .img-container img {\n      width: 100%;\n      height: 100%;\n      -o-object-fit: cover;\n         object-fit: cover;\n      -webkit-transition: -webkit-filter 0.3s;\n      transition: -webkit-filter 0.3s;\n      transition: filter 0.3s;\n      transition: filter 0.3s, -webkit-filter 0.3s; }\n  .media-grid-item > .img-container playback-control-button {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin: -30px 0 0 -30px;\n      border: 1px solid rgba(255, 255, 255, 0.6);\n      border-radius: 50%;\n      width: 60px;\n      height: 60px;\n      color: #fff;\n      -webkit-transition: -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n      transition: -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n      transition: transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n      transition: transform 0.3s cubic-bezier(0, 0, 0, 2.41), -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n      background-color: transparent; }\n  .media-grid-item > .img-container playback-control-button > button, .media-grid-item > .img-container playback-control-button > playing-indicator {\n        width: 100%;\n        height: 100%; }\n  .media-grid-item > .img-container playback-control-button > playing-indicator > svg-icon {\n        padding: 9px 0; }\n  .media-grid-item > .img-container playback-control-button:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n  .media-grid-item > .img-container playback-control-button svg-icon {\n        width: 40px;\n        height: 40px;\n        margin: 0 auto; }\n  .media-grid-item > .footer {\n    padding: 10px;\n    background-color: #2a2a35;\n    white-space: nowrap;\n    width: 100%; }\n  .media-grid-item > .footer > a:hover {\n      text-decoration: underline; }\n  .media-grid-item > .footer > .primary-text {\n      display: block;\n      color: inherit;\n      overflow: hidden;\n      text-overflow: ellipsis; }\n  .media-grid-item > .footer > .secondary-text {\n      display: block;\n      margin-top: 5px;\n      color: #898B8C;\n      overflow: hidden;\n      text-overflow: ellipsis; }\n"

/***/ }),

/***/ "./src/app/web-player/media-grid/media-grid.component.html":
/***/ (function(module, exports) {

module.exports = "<ng-content></ng-content>"

/***/ }),

/***/ "./src/app/web-player/media-grid/media-grid.component.scss":
/***/ (function(module, exports) {

module.exports = "media-grid {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  width: 100%;\n  padding: 10px; }\n  media-grid > .media-grid-item {\n    padding: 10px;\n    -webkit-box-flex: 0;\n        -ms-flex: 0 0 50%;\n            flex: 0 0 50%;\n    width: 50%;\n    overflow: hidden; }\n  @media only screen and (min-width: 768px) {\n      media-grid > .media-grid-item {\n        -webkit-box-flex: 0;\n            -ms-flex: 0 0 33.33333333%;\n                flex: 0 0 33.33333333%;\n        width: 33.33333333%; } }\n  @media only screen and (min-width: 1200px) {\n      media-grid > .media-grid-item {\n        -webkit-box-flex: 0;\n            -ms-flex: 0 0 25%;\n                flex: 0 0 25%;\n        width: 25%; } }\n  @media only screen and (min-width: 1600px) {\n      media-grid > .media-grid-item {\n        -webkit-box-flex: 0;\n            -ms-flex: 0 0 20%;\n                flex: 0 0 20%;\n        width: 20%; } }\n  media-grid > .media-grid-item > .img-container {\n      width: 100%;\n      padding-top: 100%;\n      position: relative; }\n  media-grid > .media-grid-item > .img-container > img {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0; }\n"

/***/ }),

/***/ "./src/app/web-player/media-grid/media-grid.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MediaGridComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var MediaGridComponent = (function () {
    function MediaGridComponent() {
    }
    MediaGridComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'media-grid',
            template: __webpack_require__("./src/app/web-player/media-grid/media-grid.component.html"),
            styles: [__webpack_require__("./src/app/web-player/media-grid/media-grid.component.scss"), __webpack_require__("./src/app/web-player/media-grid/media-grid-item.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        })
    ], MediaGridComponent);
    return MediaGridComponent;
}());



/***/ }),

/***/ "./src/app/web-player/media-item.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MediaItem; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


var MediaItem = (function () {
    /**
     * MediaItem Service Constructor.
     */
    function MediaItem(player) {
        this.player = player;
        /**
         * Whether service is already bootstrapped.
         */
        this.bootstrapped = false;
        /**
         * Data that is being paginated for media item.
         */
        this.paginatedData = [];
        /**
         * Active service subscriptions.
         */
        this.subscriptions = [];
        /**
         * Whether items are being loaded currently.
         */
        this.loading = false;
    }
    /**
     * Play all media item tracks.
     */
    MediaItem.prototype.play = function (tracks) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!this.player.queue.itemIsQueued(this.item.id)) return [3 /*break*/, 2];
                        this.player.handleContinuousPlayback = false;
                        return [4 /*yield*/, this.player.overrideQueue({ tracks: tracks || this.getTracks(), queuedItemId: this.item.id })];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this.player.play();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Pause the playlist.
     */
    MediaItem.prototype.pause = function () {
        this.player.pause();
    };
    /**
     * Check if media item is playing currently.
     */
    MediaItem.prototype.playing = function (item) {
        if (!item)
            item = this.item;
        return this.player.state.playing && this.player.queue.getQueuedItem() === item['id'];
    };
    /**
     * Get the media item.
     */
    MediaItem.prototype.get = function () {
        return this.item;
    };
    /**
     * Set property on media item object.
     */
    MediaItem.prototype.set = function (prop, value) {
        this.item[prop] = value;
    };
    /**
     * Bootstrap the service.
     */
    MediaItem.prototype.init = function (id, params) {
        var _this = this;
        if (params === void 0) { params = {}; }
        if (this.bootstrapped && this.item && this.item.id === id)
            return;
        this.destroy();
        return this.loadItem(id, params).then(function (response) {
            _this.bindToPlaybackEndEvent();
            _this.bootstrapped = true;
            return response;
        });
    };
    /**
     * Set item and pagination data on service.
     */
    MediaItem.prototype.setItem = function (item, pagination) {
        this.item = item;
        this.pagination = pagination;
        this.paginatedData = pagination.data;
    };
    /**
     * Destroy playlist service.
     */
    MediaItem.prototype.destroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
        this.item = null;
        this.pagination = null;
        this.paginatedData = [];
        this.subscriptions = [];
        this.player.handleContinuousPlayback = true;
    };
    /**
     * Load more tracks for playlist.
     */
    MediaItem.prototype.loadMore = function () {
        var _this = this;
        this.loading = true;
        var page = this.pagination.current_page + 1;
        return this.loadNextPage(this.item.id, page).toPromise().then(function (response) {
            _this.pagination = response;
            _this.paginatedData = _this.paginatedData.concat(response.data);
            _this.player.queue.append(_this.getTracks(response.data));
        }).then(function () {
            _this.loading = false;
        });
    };
    /**
     * Check if more artists can be loaded for current genre.
     */
    MediaItem.prototype.canLoadMore = function () {
        return !this.loading && this.pagination.current_page < this.pagination.last_page;
    };
    /**
     * Lazy load more tracks from user library for
     * continuous playback after current track ends.
     */
    MediaItem.prototype.bindToPlaybackEndEvent = function () {
        var _this = this;
        var sub = this.player.state.onChange$.subscribe(function (type) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (type !== 'PLAYBACK_ENDED')
                            return [2 /*return*/];
                        //if player is not playing this artist currently, bail
                        if (this.player.queue.getQueuedItem() !== this.item.id)
                            return [2 /*return*/];
                        if (!(this.player.getQueue().isLast() && this.canLoadMore())) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.loadMore()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this.player.playNext();
                        return [2 /*return*/];
                }
            });
        }); });
        this.subscriptions.push(sub);
    };
    MediaItem = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__player_player_service__["a" /* Player */]])
    ], MediaItem);
    return MediaItem;
}());



/***/ }),

/***/ "./src/app/web-player/nav-sidebar/nav-sidebar.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"content scroll-container\" customScrollbar>\n    <a class=\"logo-container\" routerLink=\"/\">\n        <img [src]=\"settings.get('branding.site_logo')\">\n    </a>\n\n    <form class=\"search-bar-container\" (ngSubmit)=\"searchPanel.goToSearchPage()\">\n        <label for=\"search\" class=\"hidden\" trans>Main site search</label>\n        <input id=\"search\" placeholder=\"Search...\" [formControl]=\"searchPanel.searchQuery\" trans-placeholder>\n\n        <svg-icon name=\"search\" [class.hidden]=\"searchPanel.searching || searchPanel.searchQuery.value\" (click)=\"searchPanel.goToSearchPage()\"></svg-icon>\n\n        <button type=\"button\" class=\"no-style\" (click)=\"searchPanel.close()\">\n            <svg-icon name=\"close\" [class.hidden]=\"searchPanel.searching || ! searchPanel.searchQuery.value\"></svg-icon>\n        </button>\n\n        <loading-indicator [isVisible]=\"searchPanel.searching\"></loading-indicator>\n    </form>\n\n    <custom-menu position=\"sidebar-primary\" class=\"sidebar-nav\"></custom-menu>\n\n    <div class=\"separator\"></div>\n\n    <div class=\"auth-container\">\n        <div *ngIf=\"currentUser.isLoggedIn()\" class=\"current-user\">\n            <a [routerLink]=\"urls.user(currentUser.getModel())\" class=\"img-container\">\n                <img [src]=\"currentUser.get('avatar')\">\n            </a>\n            <a class=\"name hover-underline\" [routerLink]=\"urls.user(currentUser.getModel())\">{{currentUser.get('display_name')}}</a>\n            <dropdown>\n                <button class=\"no-style dropdown-trigger\" #trigger><svg-icon name=\"settings\"></svg-icon></button>\n\n                <div class=\"dropdown-menu indent\" #menu>\n                    <a class=\"dropdown-item\" #menuItem routerLink=\"/admin\" *ngIf=\"currentUser.hasPermission('access.admin')\">\n                        <svg-icon name=\"dashboard\"></svg-icon>\n                        <span trans>Admin Area</span>\n                    </a>\n                    <a class=\"dropdown-item\" [routerLink]=\"['admin', 'artists', currentUser.artist.id, 'edit']\" *ngIf=\"currentUser.isArtist()\" routerLinkActive=\"router-link-active\">\n                        <svg-icon name=\"mic\"></svg-icon>\n                        <span trans>Profile</span>\n                    </a>\n                    <a class=\"dropdown-item\" #menuItem routerLink=\"/account-settings\">\n                        <svg-icon name=\"account-circle\"></svg-icon>\n                        <span trans>Account Settings</span>\n                    </a>\n                    <a class=\"dropdown-item\" #menuItem routerLink=\"/admin/artists/new\" *ngIf=\"currentUser.hasPermission('artists.create')\">\n                        <svg-icon name=\"mic\"></svg-icon>\n                        <span trans>New Artist</span>\n                    </a>\n                    <a class=\"dropdown-item\" #menuItem routerLink=\"/admin/albums\" [queryParams]=\"{newAlbum: true}\"  *ngIf=\"currentUser.hasPermission('albums.create')\">\n                        <svg-icon name=\"album\"></svg-icon>\n                        <span trans>New Album</span>\n                    </a>\n                    <a class=\"dropdown-item\" #menuItem routerLink=\"/admin/tracks\" [queryParams]=\"{newTrack: true}\" *ngIf=\"currentUser.hasPermission('tracks.create')\">\n                        <svg-icon name=\"audiotrack\"></svg-icon>\n                        <span trans>New Track</span>\n                    </a>\n                    <div class=\"dropdown-item\" #menuItem (click)=\"auth.logOut()\">\n                        <svg-icon class=\"logout-icon\" name=\"exit-to-app\"></svg-icon>\n                        <span trans>Logout</span>\n                    </div>\n                </div>\n            </dropdown>\n        </div>\n\n        <ng-container *ngIf=\"!currentUser.isLoggedIn()\">\n            <a routerLink=\"/login\" class=\"button primary\" trans>Login</a>\n            <a routerLink=\"/register\" class=\"button\" trans>Register</a>\n        </ng-container>\n    </div>\n\n    <div class=\"your-music-container\">\n        <div class=\"title\" trans>Your Music</div>\n        <custom-menu position=\"sidebar-secondary\" class=\"sidebar-nav\"></custom-menu>\n    </div>\n\n    <div class=\"separator\"></div>\n\n    <div class=\"playlists-container\">\n        <div class=\"header\">\n            <div class=\"name\" trans>Playlists</div>\n            <button class=\"no-style new-playlist-button\" (click)=\"openNewPlaylistModal()\">\n                <svg-icon name=\"playlist-add\"></svg-icon>\n            </button>\n        </div>\n        <div class=\"playlists sidebar-nav\">\n            <div class=\"sidebar-nav-item playlist\" *ngFor=\"let playlist of playlists.get()\" [contextMenu]=\"{item: playlist, type: 'playlist'}\">\n                <a [routerLink]=\"urls.playlist(playlist)\">{{playlist.name}}</a>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class=\"current-track\" *ngIf=\"player.cued()\" [contextMenu]=\"{item: player.getCuedTrack(), type: 'track'}\">\n    <img [src]=\"getTrackImage(player.getCuedTrack())\">\n    <div class=\"meta\">\n        <a class=\"track-name hover-underline\" [routerLink]=\"urls.track(player.getCuedTrack())\">{{player.getCuedTrack().name}}</a>\n        <artists-links-list class=\"artist-name\" [artists]=\"player.getCuedTrack().artists\"></artists-links-list>\n    </div>\n    <div class=\"toggle-track\">\n        <library-track-toggle-button [track]=\"player.getCuedTrack()\"></library-track-toggle-button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/nav-sidebar/nav-sidebar.component.scss":
/***/ (function(module, exports) {

module.exports = "nav-sidebar {\n  display: block;\n  width: 220px;\n  max-width: 220px;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 0 220px;\n          flex: 0 0 220px;\n  background-color: #23232C;\n  color: inherit;\n  z-index: 5; }\n  @media only screen and (max-width: 768px) {\n    nav-sidebar {\n      display: none; } }\n  nav-sidebar .content {\n    height: calc(100% - 65px);\n    padding: 15px 0;\n    overflow: auto; }\n  nav-sidebar .current-user {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center; }\n  nav-sidebar .current-user > .img-container {\n      display: block;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 auto;\n              flex: 0 0 auto; }\n  nav-sidebar .current-user > .img-container > img {\n        width: 40px;\n        height: 40px;\n        -o-object-fit: cover;\n           object-fit: cover;\n        margin-right: 10px; }\n  nav-sidebar .current-user > .name {\n      color: inherit;\n      margin-right: 15px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis; }\n  nav-sidebar .current-user > dropdown {\n      margin-left: auto; }\n  nav-sidebar .current-user > dropdown > .dropdown-trigger {\n        display: block;\n        width: 20px;\n        height: 20px; }\n  nav-sidebar .current-user > dropdown > .dropdown-trigger > svg-icon {\n          display: block;\n          width: 20px;\n          height: 20px; }\n  nav-sidebar .playlists-container > .header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    padding: 0 18px;\n    margin-top: 20px; }\n  nav-sidebar .playlists-container > .header > .name {\n      font-weight: 300;\n      text-transform: uppercase; }\n  nav-sidebar .playlists-container > .header > .new-playlist-button {\n      display: block;\n      margin-left: auto; }\n  nav-sidebar .playlists-container > .header > .new-playlist-button > svg-icon {\n        display: block; }\n  nav-sidebar .current-track {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    height: 65px;\n    padding: 5px;\n    border-top: 1px solid rgba(255, 255, 255, 0.1); }\n  nav-sidebar .current-track > img {\n      width: 55px;\n      height: 55px;\n      -o-object-fit: cover;\n         object-fit: cover; }\n  nav-sidebar .current-track > .meta {\n      margin-left: 10px;\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; }\n  nav-sidebar .current-track > .meta > .track-name {\n        display: block;\n        color: inherit; }\n  nav-sidebar .current-track > .meta > .artist-name {\n        display: block;\n        color: #898B8C;\n        font-size: 1.3rem; }\n  nav-sidebar .current-track > .meta > .artist-name > a {\n          color: inherit; }\n  nav-sidebar .current-track .check-icon {\n      color: #6eac00; }\n  nav-sidebar .logo-container {\n    width: 100%; }\n  nav-sidebar .logo-container > img {\n      width: 100%;\n      max-width: 155px;\n      height: auto;\n      margin: 0 auto; }\n  nav-sidebar .search-bar-container {\n    margin-top: 5px;\n    position: relative;\n    padding: 0 18px; }\n  nav-sidebar .search-bar-container > input {\n      background-color: #353543;\n      padding: 0 30px 0 10px;\n      border-radius: 3px;\n      border: 1px solid rgba(255, 255, 255, 0.15);\n      height: 35px;\n      width: 100%;\n      color: inherit; }\n  nav-sidebar .search-bar-container > input:active, nav-sidebar .search-bar-container > input:focus {\n        outline-color: rgba(255, 255, 255, 0.1); }\n  nav-sidebar .search-bar-container > svg-icon, nav-sidebar .search-bar-container > button {\n      position: absolute;\n      top: 6px;\n      right: 23px; }\n  nav-sidebar .search-bar-container > loading-indicator {\n      position: absolute;\n      top: 8px;\n      right: 23px;\n      width: 20px;\n      height: 20px;\n      background-color: transparent;\n      overflow: hidden; }\n  nav-sidebar .search-bar-container > loading-indicator > .spinner {\n        width: 20px;\n        height: 20px; }\n  nav-sidebar .search-bar-container > loading-indicator .rect {\n        width: 4px; }\n  nav-sidebar .sidebar-nav {\n    margin-top: 20px; }\n  nav-sidebar .sidebar-nav > .custom-menu-item svg-icon, nav-sidebar .sidebar-nav > .sidebar-nav-item svg-icon {\n      vertical-align: middle;\n      width: 16px;\n      height: 16px;\n      margin-right: 5px; }\n  nav-sidebar .sidebar-nav > .custom-menu-item > a, nav-sidebar .sidebar-nav > .sidebar-nav-item > a {\n      display: block;\n      color: inherit;\n      padding: 8px 18px;\n      font-size: 1.5rem;\n      font-weight: 300;\n      border-right: 3px solid transparent;\n      white-space: nowrap;\n      width: 100%;\n      overflow: hidden;\n      text-overflow: ellipsis; }\n  nav-sidebar .sidebar-nav > .custom-menu-item > a.active, nav-sidebar .sidebar-nav > .sidebar-nav-item > a.active {\n        background-color: rgba(255, 255, 255, 0.05);\n        border-color: #6eac00; }\n  nav-sidebar .sidebar-nav > .custom-menu-item > a:hover, nav-sidebar .sidebar-nav > .sidebar-nav-item > a:hover {\n        background-color: rgba(255, 255, 255, 0.04); }\n  nav-sidebar .separator {\n    height: 1px;\n    margin: 25px 18px 0;\n    background-color: rgba(255, 255, 255, 0.05); }\n  nav-sidebar .auth-container {\n    margin: 0 18px 0;\n    padding: 25px 0;\n    white-space: nowrap; }\n  nav-sidebar .your-music-container > .title {\n    padding: 0 18px;\n    text-transform: uppercase;\n    font-weight: 300; }\n  nav-sidebar .your-music-container > custom-menu {\n    margin-top: 10px; }\n"

/***/ }),

/***/ "./src/app/web-player/nav-sidebar/nav-sidebar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NavSidebarComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__search_search_slideout_panel_search_slideout_panel_service__ = __webpack_require__("./src/app/web-player/search/search-slideout-panel/search-slideout-panel.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__auth_auth_service__ = __webpack_require__("./src/app/auth/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__playlists_user_playlists_service__ = __webpack_require__("./src/app/web-player/playlists/user-playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__shared_modal_modal_service__ = __webpack_require__("./src/app/shared/modal/modal.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__playlists_crupdate_playlist_modal_crupdate_playlist_modal_component__ = __webpack_require__("./src/app/web-player/playlists/crupdate-playlist-modal/crupdate-playlist-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var NavSidebarComponent = (function () {
    /**
     * NavSidebarComponent Constructor.
     */
    function NavSidebarComponent(settings, searchPanel, currentUser, player, urls, auth, playlists, modal, router) {
        this.settings = settings;
        this.searchPanel = searchPanel;
        this.currentUser = currentUser;
        this.player = player;
        this.urls = urls;
        this.auth = auth;
        this.playlists = playlists;
        this.modal = modal;
        this.router = router;
    }
    NavSidebarComponent.prototype.openNewPlaylistModal = function () {
        var _this = this;
        if (!this.currentUser.isLoggedIn()) {
            this.router.navigate(['/login']);
        }
        this.modal.show(__WEBPACK_IMPORTED_MODULE_9__playlists_crupdate_playlist_modal_crupdate_playlist_modal_component__["a" /* CrupdatePlaylistModalComponent */]).onDone.subscribe(function (playlist) {
            _this.playlists.add(playlist);
            _this.router.navigate(_this.urls.playlist(playlist));
        });
    };
    /**
     * Get image for specified track.
     */
    NavSidebarComponent.prototype.getTrackImage = function (track) {
        if (!track || !track.album)
            return this.settings.getDefaultImage('album');
        return track.album.image;
    };
    NavSidebarComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'nav-sidebar',
            template: __webpack_require__("./src/app/web-player/nav-sidebar/nav-sidebar.component.html"),
            styles: [__webpack_require__("./src/app/web-player/nav-sidebar/nav-sidebar.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_2__search_search_slideout_panel_search_slideout_panel_service__["a" /* SearchSlideoutPanel */],
            __WEBPACK_IMPORTED_MODULE_3__auth_current_user__["a" /* CurrentUser */],
            __WEBPACK_IMPORTED_MODULE_4__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_5__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_6__auth_auth_service__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_7__playlists_user_playlists_service__["a" /* UserPlaylists */],
            __WEBPACK_IMPORTED_MODULE_8__shared_modal_modal_service__["a" /* ModalService */],
            __WEBPACK_IMPORTED_MODULE_10__angular_router__["e" /* Router */]])
    ], NavSidebarComponent);
    return NavSidebarComponent;
}());



/***/ }),

/***/ "./src/app/web-player/player/formatted-duration.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormattedDuration; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var FormattedDuration = (function () {
    function FormattedDuration() {
    }
    FormattedDuration.prototype.fromSeconds = function (seconds) {
        if (!seconds)
            return;
        var date = new Date(null);
        date.setSeconds(seconds);
        return date.toISOString().substr(15, 4);
    };
    FormattedDuration.prototype.fromMilliseconds = function (ms) {
        if (!ms)
            return;
        var date = new Date(null);
        date.setMilliseconds(ms);
        var string = date.toISOString().substr(14, 5);
        //if time is "05:43" return "5:43"
        if (string[0] === '0') {
            return string.substr(1, 4);
        }
        return string;
    };
    FormattedDuration.prototype.toVerboseString = function (ms) {
        var date = new Date(ms);
        var str = '';
        var hours = date.getUTCHours();
        if (hours)
            str += hours + "hr ";
        var minutes = date.getUTCMinutes();
        if (minutes)
            str += minutes + "min ";
        var seconds = date.getUTCMinutes();
        if (seconds)
            str += seconds + "sec ";
        return str;
    };
    FormattedDuration = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], FormattedDuration);
    return FormattedDuration;
}());



/***/ }),

/***/ "./src/app/web-player/player/mobile-player-controls/mobile-player-controls.component.html":
/***/ (function(module, exports) {

module.exports = "<ng-container *ngIf=\"player.cued()\">\n    <player-seekbar></player-seekbar>\n\n    <div class=\"controls\">\n        <button class=\"no-style maximize\" (click)=\"overlay.maximize()\"><svg-icon name=\"keyboard-arrow-up\"></svg-icon></button>\n        <div class=\"track-info\">\n            <div class=\"track-name\">{{player.getCuedTrack().name}}</div>\n            <artists-links-list class=\"artist-name\" [artists]=\"player.getCuedTrack().artists\"></artists-links-list>\n        </div>\n        <main-playback-buttons></main-playback-buttons>\n    </div>\n</ng-container>\n\n<custom-menu position=\"mobile-bottom\" class=\"nav\"></custom-menu>"

/***/ }),

/***/ "./src/app/web-player/player/mobile-player-controls/mobile-player-controls.component.scss":
/***/ (function(module, exports) {

module.exports = "mobile-player-controls {\n  display: block;\n  background-color: inherit;\n  width: 100%;\n  color: #fff;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  z-index: 1; }\n  mobile-player-controls > .controls {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    padding: 0 15px; }\n  mobile-player-controls > .controls > .maximize {\n      display: block; }\n  mobile-player-controls > .controls > .maximize > svg-icon {\n        display: block;\n        width: 40px;\n        height: 40px; }\n  mobile-player-controls > .controls > main-playback-buttons {\n      width: 115px;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 115px;\n              flex: 0 0 115px; }\n  mobile-player-controls > .controls > .track-info {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      text-align: center;\n      padding: 0 10px;\n      min-width: 0; }\n  mobile-player-controls > .controls > .track-info > .track-name {\n        font-size: 1.3rem;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis; }\n  mobile-player-controls > .controls > .track-info > .artist-name {\n        font-size: 1.2rem;\n        color: #898B8C;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis; }\n  mobile-player-controls > .nav {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    color: #898B8C;\n    border-top: 1px solid rgba(255, 255, 255, 0.05);\n    padding: 15px; }\n  mobile-player-controls > .nav > .nav-item {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      text-align: center;\n      font-size: 1.1rem;\n      color: inherit; }\n  mobile-player-controls > .nav > .nav-item > a {\n        color: inherit; }\n  mobile-player-controls > .nav > .nav-item > a.active {\n          color: #fff; }\n  mobile-player-controls > .nav > .nav-item svg-icon {\n        display: block;\n        margin: 0 auto 3px; }\n  mobile-player-controls > player-seekbar {\n    pointer-events: none; }\n  mobile-player-controls > player-seekbar > .elapsed-time, mobile-player-controls > player-seekbar > .track-length {\n      display: none; }\n  mobile-player-controls > player-seekbar > .outer-track {\n      margin: 0; }\n  mobile-player-controls > player-seekbar > .outer-track > .progress-handle {\n        display: none;\n        top: 0; }\n  mobile-player-controls > player-seekbar > .outer-track > .progress-track {\n        top: 0; }\n"

/***/ }),

/***/ "./src/app/web-player/player/mobile-player-controls/mobile-player-controls.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MobilePlayerControlsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__fullscreen_overlay_fullscreen_overlay_service__ = __webpack_require__("./src/app/web-player/fullscreen-overlay/fullscreen-overlay.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MobilePlayerControlsComponent = (function () {
    function MobilePlayerControlsComponent(player, overlay) {
        this.player = player;
        this.overlay = overlay;
    }
    MobilePlayerControlsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'mobile-player-controls',
            template: __webpack_require__("./src/app/web-player/player/mobile-player-controls/mobile-player-controls.component.html"),
            styles: [__webpack_require__("./src/app/web-player/player/mobile-player-controls/mobile-player-controls.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__player_service__["a" /* Player */], __WEBPACK_IMPORTED_MODULE_2__fullscreen_overlay_fullscreen_overlay_service__["a" /* FullscreenOverlay */]])
    ], MobilePlayerControlsComponent);
    return MobilePlayerControlsComponent;
}());



/***/ }),

/***/ "./src/app/web-player/player/playback-control-button/playback-control-button.component.html":
/***/ (function(module, exports) {

module.exports = "<button class=\"no-style play-button\" [class.visible]=\"!trackIsPlaying()\" (click)=\"play.emit(); $event.stopPropagation()\">\n    <svg-icon name=\"play-arrow\"></svg-icon>\n</button>\n\n<button class=\"no-style pause-button\" [class.visible]=\"trackIsPlaying()\" (click)=\"pause.emit(); $event.stopPropagation()\">\n    <svg-icon name=\"pause\"></svg-icon>\n</button>\n\n<playing-indicator [class.visible]=\"trackIsPlaying()\"></playing-indicator>\n\n<ng-content></ng-content>"

/***/ }),

/***/ "./src/app/web-player/player/playback-control-button/playback-control-button.component.scss":
/***/ (function(module, exports) {

module.exports = "playback-control-button {\n  display: none;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 28px;\n  height: 28px;\n  margin: 0 auto;\n  border-radius: 50%;\n  background-color: #353543;\n  color: #fff; }\n  playback-control-button:hover > .pause-button.visible {\n    display: block; }\n  playback-control-button:hover > playing-indicator.visible {\n    display: none; }\n  playback-control-button > .visible.pause-button {\n    display: none; }\n  playback-control-button > .play-button, playback-control-button > .pause-button, playback-control-button > playing-indicator, playback-control-button > .buffering {\n    display: none; }\n  playback-control-button > .visible {\n    display: block; }\n  playback-control-button > button {\n    width: 20px;\n    height: 20px; }\n  playback-control-button > button > svg-icon {\n      display: block;\n      width: 20px;\n      height: 20px; }\n"

/***/ }),

/***/ "./src/app/web-player/player/playback-control-button/playback-control-button.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlaybackControlButtonComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Track__ = __webpack_require__("./src/app/shared/types/models/Track.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PlaybackControlButtonComponent = (function () {
    /**
     * PlaybackControlButtonComponent Constructor.
     */
    function PlaybackControlButtonComponent(player) {
        this.player = player;
        /**
         * Fired on play button click.
         */
        this.play = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Fired on pause button click.
         */
        this.pause = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Whether track is currently playing.
         * Parent component can control playback state using this input.
         */
        this.playing = null;
    }
    /**
     * Check if specified track is cued and playing.
     */
    PlaybackControlButtonComponent.prototype.trackIsPlaying = function () {
        //parent component is controlling playback state.
        if (this.playing !== null)
            return this.playing;
        //playback state is based on current track
        return (this.player.isPlaying() || this.player.isBuffering()) && this.player.cued(this.track);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], PlaybackControlButtonComponent.prototype, "play", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], PlaybackControlButtonComponent.prototype, "pause", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Track__["a" /* Track */])
    ], PlaybackControlButtonComponent.prototype, "track", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], PlaybackControlButtonComponent.prototype, "playing", void 0);
    PlaybackControlButtonComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'playback-control-button',
            template: __webpack_require__("./src/app/web-player/player/playback-control-button/playback-control-button.component.html"),
            styles: [__webpack_require__("./src/app/web-player/player/playback-control-button/playback-control-button.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__player_service__["a" /* Player */]])
    ], PlaybackControlButtonComponent);
    return PlaybackControlButtonComponent;
}());



/***/ }),

/***/ "./src/app/web-player/player/player-controls/main-playback-buttons/main-playback-buttons.component.html":
/***/ (function(module, exports) {

module.exports = "<button class=\"no-style previous-track\" (click)=\"player.playPrevious()\" [disabled]=\"!player.ready()\">\n  <svg-icon name=\"skip-previous\"></svg-icon>\n</button>\n\n<button class=\"no-style play-track\" [disabled]=\"!player.ready()\" [class.hidden]=\"player.isPlaying() || player.isBuffering()\" (click)=\"player.play()\">\n  <svg-icon name=\"play-arrow\"></svg-icon>\n</button>\n\n<button class=\"no-style pause-track\" [disabled]=\"!player.ready()\" [class.hidden]=\"!player.isPlaying()\" (click)=\"player.pause()\">\n  <svg-icon name=\"pause\"></svg-icon>\n</button>\n\n<div class=\"buffering\" [class.hidden]=\"!player.isBuffering()\"><div class=\"spinner\"></div></div>\n\n<button class=\"no-style next-track\" (click)=\"player.playNext()\" [disabled]=\"!player.ready()\">\n  <svg-icon name=\"skip-next\"></svg-icon>\n</button>"

/***/ }),

/***/ "./src/app/web-player/player/player-controls/main-playback-buttons/main-playback-buttons.component.scss":
/***/ (function(module, exports) {

module.exports = "main-playback-buttons {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  color: #fff; }\n  main-playback-buttons .previous-track, main-playback-buttons .next-track {\n    width: 30px;\n    height: 30px; }\n  main-playback-buttons .previous-track > svg-icon, main-playback-buttons .next-track > svg-icon {\n      display: block;\n      width: 100%;\n      height: 100%; }\n  main-playback-buttons .play-track, main-playback-buttons .pause-track {\n    padding-top: 3px;\n    width: 55px;\n    height: 55px; }\n  main-playback-buttons .play-track > svg-icon, main-playback-buttons .pause-track > svg-icon {\n      display: block;\n      width: 100%;\n      height: 100%; }\n  main-playback-buttons .buffering {\n    width: 55px;\n    height: 55px;\n    padding: 7px 5px; }\n  main-playback-buttons .buffering > .spinner {\n      border: 4px solid #fff;\n      border-top-color: #6eac00;\n      border-radius: 50%;\n      width: 45px;\n      height: 45px;\n      -webkit-animation: spin 2s linear infinite;\n              animation: spin 2s linear infinite; }\n  @-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n  @keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n"

/***/ }),

/***/ "./src/app/web-player/player/player-controls/main-playback-buttons/main-playback-buttons.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MainPlaybackButtonsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var MainPlaybackButtonsComponent = (function () {
    function MainPlaybackButtonsComponent(player) {
        this.player = player;
    }
    MainPlaybackButtonsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'main-playback-buttons',
            template: __webpack_require__("./src/app/web-player/player/player-controls/main-playback-buttons/main-playback-buttons.component.html"),
            styles: [__webpack_require__("./src/app/web-player/player/player-controls/main-playback-buttons/main-playback-buttons.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__player_service__["a" /* Player */]])
    ], MainPlaybackButtonsComponent);
    return MainPlaybackButtonsComponent;
}());



/***/ }),

/***/ "./src/app/web-player/player/player-controls/player-controls.component.html":
/***/ (function(module, exports) {

module.exports = "<main-playback-buttons></main-playback-buttons>\n\n<player-seekbar></player-seekbar>\n\n<button class=\"no-style lyrics\" (click)=\"showLyricsModal()\" [disabled]=\"!player.cued()\" *ngIf=\"!shouldHideLyricsButton\" trans>Lyrics</button>\n\n<button class=\"player-action no-style\" (click)=\"overlay.maximize()\" *ngIf=\"!shouldHideVideoButton\" [disabled]=\"!player.cued()\" tooltip=\"Toggle video\">\n    <svg-icon name=\"ondemand-video\"></svg-icon>\n</button>\n\n<button class=\"player-action no-style\" (click)=\"queueSidebar.toggle()\" tooltip=\"Toggle queue\">\n    <svg-icon name=\"queue-music\"></svg-icon>\n</button>\n\n<button class=\"player-action no-style shuffle-button\" [class.active]=\"player.getState().shuffling\" (click)=\"player.toggleShuffle()\" tooltip=\"Shuffle\">\n    <svg-icon name=\"shuffle\"></svg-icon>\n</button>\n\n<repeat-button></repeat-button>\n\n<volume-controls></volume-controls>\n"

/***/ }),

/***/ "./src/app/web-player/player/player-controls/player-controls.component.scss":
/***/ (function(module, exports) {

module.exports = "player-controls {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding: 0 15px;\n  height: 65px;\n  background-color: #23232C;\n  color: #fff;\n  border-top: 1px solid rgba(255, 255, 255, 0.12);\n  position: relative; }\n  player-controls button:hover {\n    color: #C2C2CA; }\n  player-controls .lyrics {\n    color: #C2C2CA;\n    font-size: 1.3rem;\n    margin: 0 35px 0 15px; }\n  player-controls .player-action {\n    color: #C2C2CA;\n    margin: 0 5px; }\n  player-controls .player-action.active {\n      color: #6eac00; }\n  player-controls .player-action > svg-icon {\n      display: block;\n      width: 20px;\n      height: 20px; }\n  player-controls > player-seekbar {\n    margin-left: 20px; }\n"

/***/ }),

/***/ "./src/app/web-player/player/player-controls/player-controls.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlayerControlsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__fullscreen_overlay_fullscreen_overlay_service__ = __webpack_require__("./src/app/web-player/fullscreen-overlay/fullscreen-overlay.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__queue_sidebar_queue_sidebar_service__ = __webpack_require__("./src/app/web-player/queue-sidebar/queue-sidebar.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lyrics_lyrics_service__ = __webpack_require__("./src/app/web-player/lyrics/lyrics.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_modal_modal_service__ = __webpack_require__("./src/app/shared/modal/modal.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lyrics_lyrics_modal_lyrics_modal_component__ = __webpack_require__("./src/app/web-player/lyrics/lyrics-modal/lyrics-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var PlayerControlsComponent = (function () {
    /**
     * PlayerControlsComponent Constructor.
     */
    function PlayerControlsComponent(player, lyrics, modal, overlay, queueSidebar, webPlayerState, settings, toast) {
        this.player = player;
        this.lyrics = lyrics;
        this.modal = modal;
        this.overlay = overlay;
        this.queueSidebar = queueSidebar;
        this.webPlayerState = webPlayerState;
        this.settings = settings;
        this.toast = toast;
        /**
         * Whether lyrics button should be hidden.
         */
        this.shouldHideLyricsButton = false;
        /**
         * Whether video toggle button should be hidden.
         */
        this.shouldHideVideoButton = false;
    }
    PlayerControlsComponent.prototype.ngOnInit = function () {
        this.shouldHideLyricsButton = this.settings.get('player.hide_lyrics');
        this.shouldHideVideoButton = this.settings.get('player.hide_video_button');
    };
    /**
     * Fetch lyrics and show lyrics modal.
     */
    PlayerControlsComponent.prototype.showLyricsModal = function () {
        var _this = this;
        var track = this.player.getCuedTrack();
        if (!track)
            return;
        this.webPlayerState.loading = true;
        this.lyrics.get(track.id).finally(function () {
            _this.webPlayerState.loading = false;
        }).subscribe(function (lyric) {
            _this.modal.show(__WEBPACK_IMPORTED_MODULE_6__lyrics_lyrics_modal_lyrics_modal_component__["a" /* LyricsModalComponent */], { lyrics: lyric.text });
        }, function () {
            _this.toast.show('Could not find lyrics for this song.');
        });
    };
    PlayerControlsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'player-controls',
            template: __webpack_require__("./src/app/web-player/player/player-controls/player-controls.component.html"),
            styles: [__webpack_require__("./src/app/web-player/player/player-controls/player-controls.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_4__lyrics_lyrics_service__["a" /* Lyrics */],
            __WEBPACK_IMPORTED_MODULE_5__shared_modal_modal_service__["a" /* ModalService */],
            __WEBPACK_IMPORTED_MODULE_2__fullscreen_overlay_fullscreen_overlay_service__["a" /* FullscreenOverlay */],
            __WEBPACK_IMPORTED_MODULE_3__queue_sidebar_queue_sidebar_service__["a" /* QueueSidebar */],
            __WEBPACK_IMPORTED_MODULE_7__web_player_state_service__["a" /* WebPlayerState */],
            __WEBPACK_IMPORTED_MODULE_8__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_9__shared_toast_toast_service__["a" /* ToastService */]])
    ], PlayerControlsComponent);
    return PlayerControlsComponent;
}());



/***/ }),

/***/ "./src/app/web-player/player/player-controls/player-seekbar/player-seekbar.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"elapsed-time\" #elapsedTimeEl>0:00</div>\n\n<div class=\"outer-track\" #outerTrack>\n  <div class=\"inner-track\"></div>\n  <div class=\"progress-track\" #progressTrack></div>\n  <div class=\"progress-handle\" #progressHandle></div>\n</div>\n\n<div class=\"track-length\" #trackLengthEl>0:00</div>"

/***/ }),

/***/ "./src/app/web-player/player/player-controls/player-seekbar/player-seekbar.component.scss":
/***/ (function(module, exports) {

module.exports = "player-seekbar {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n  height: 100%;\n  cursor: pointer; }\n  player-seekbar > .outer-track {\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto;\n    height: 100%;\n    margin: 0 10px;\n    position: relative;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center; }\n  player-seekbar > .outer-track > .inner-track {\n      height: 5px;\n      background-color: #414151;\n      width: 100%;\n      border-radius: 6px; }\n  player-seekbar > .outer-track > .progress-track {\n      position: absolute;\n      left: 0;\n      top: 30px;\n      height: 5px;\n      background-color: #6eac00;\n      width: 0; }\n  player-seekbar .progress-handle {\n    position: absolute;\n    left: 0;\n    top: 25px;\n    width: 14px;\n    height: 14px;\n    background-color: #fff;\n    border-radius: 50%; }\n  player-seekbar .elapsed-time, player-seekbar .track-length, player-seekbar .lyrics {\n    color: #C2C2CA;\n    font-size: 1.3rem; }\n"

/***/ }),

/***/ "./src/app/web-player/player/player-controls/player-seekbar/player-seekbar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlayerSeekbarComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__formatted_duration_service__ = __webpack_require__("./src/app/web-player/player/formatted-duration.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PlayerSeekbarComponent = (function () {
    /**
     * SeekViaDragDirective Constructor.
     */
    function PlayerSeekbarComponent(el, duration, player, zone) {
        this.el = el;
        this.duration = duration;
        this.player = player;
        this.zone = zone;
        /**
         * Formatted time that has elapsed since playback start.
         */
        this.elapsedTime = '0:00';
        /**
         * Total length of currently loaded track.
         */
        this.trackLength = 0;
        this.subscriptions = [];
        this.cache = {};
    }
    /**
     * Called after component's view has been fully initialized.
     */
    PlayerSeekbarComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        //wait for animations to complete
        //TODO: refactor this to use events instead
        setTimeout(function () {
            _this.setupCache();
            _this.bindHammerEvents();
            _this.bindToPlayerStateEvents();
        }, 201);
    };
    /**
     * Called when component is destroyed.
     */
    PlayerSeekbarComponent.prototype.ngOnDestroy = function () {
        this.stopSeekbarInterval();
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
        this.subscriptions = [];
    };
    /**
     * Cache sizes required for positioning seekbar progress and handle.
     */
    PlayerSeekbarComponent.prototype.setupCache = function () {
        this.cache.outerTrackRect = this.outerTrack.nativeElement.getBoundingClientRect();
        this.cache.handleRect = this.progressHandle.nativeElement.getBoundingClientRect();
        this.cache.handlePercent = (this.cache.handleRect.width / this.cache.outerTrackRect.width) * 100 / 2;
        this.cache.handleEl = this.progressHandle.nativeElement;
        this.cache.progressTrackEl = this.progressTrack.nativeElement;
    };
    /**
     * Set time that has elapsed since playback start.
     */
    PlayerSeekbarComponent.prototype.setElapsedTime = function (time) {
        if (time === void 0) { time = null; }
        if (time === null)
            time = this.player.getCurrentTime();
        this.elapsedTime = time ? this.duration.fromSeconds(time) : '0:00';
        this.elapsedTimeEl.nativeElement.textContent = this.elapsedTime;
    };
    /**
     * Set total length of currently loaded track.
     */
    PlayerSeekbarComponent.prototype.setTrackLength = function () {
        var duration = this.player.getDuration();
        if (duration === this.trackLength)
            return;
        this.trackLength = duration;
        var formatted = duration ? this.duration.fromSeconds(this.trackLength) : '0:00';
        this.trackLengthEl.nativeElement.textContent = formatted;
    };
    /**
     * Seek player to specified point and update seekbar progress.
     */
    PlayerSeekbarComponent.prototype.seek = function (clickX) {
        if (!this.player.cued())
            return;
        this.stopSeekbarInterval();
        var rect = this.cache.outerTrackRect;
        var ratio = (clickX - rect.left) / rect.width, percent = ratio * 100;
        if (percent > 100)
            return;
        this.positionElapsedTrackAndHandle(percent);
        return ratio * this.player.getDuration();
    };
    /**
     * Start seekbar progress interval.
     */
    PlayerSeekbarComponent.prototype.startSeekbarInterval = function () {
        var _this = this;
        this.stopSeekbarInterval();
        this.zone.runOutsideAngular(function () {
            _this.seekbarInterval = setInterval(function () {
                var percent = (_this.player.getCurrentTime() / _this.player.getDuration()) * 100;
                if (isNaN(percent))
                    percent = 0;
                if (percent <= 0)
                    return;
                _this.positionElapsedTrackAndHandle(percent);
                _this.setElapsedTime();
                _this.setTrackLength();
            }, 50);
        });
    };
    /**
     * Stop seekbar progress interval.
     */
    PlayerSeekbarComponent.prototype.stopSeekbarInterval = function () {
        if (!this.seekbarInterval)
            return;
        clearInterval(this.seekbarInterval);
        this.seekbarInterval = null;
    };
    /**
     * Position seekbar progress bar and handle based on specified point.
     */
    PlayerSeekbarComponent.prototype.positionElapsedTrackAndHandle = function (leftPercent) {
        var handleLeft = leftPercent - this.cache.handlePercent;
        if (leftPercent < 0)
            leftPercent = 0;
        if (handleLeft < 0)
            handleLeft = 0;
        this.cache.handleEl.style.left = handleLeft + '%';
        this.cache.progressTrackEl.style.width = leftPercent + '%';
    };
    /**
     * Bind handlers to needed hammer.js events.
     */
    PlayerSeekbarComponent.prototype.bindHammerEvents = function () {
        var _this = this;
        var hammer, tap, pan;
        this.zone.runOutsideAngular(function () {
            hammer = new Hammer.Manager(_this.el.nativeElement);
            tap = new Hammer.Tap();
            pan = new Hammer.Pan();
            hammer.add([tap, pan]);
        });
        hammer.on('tap panend', function (e) {
            if (!_this.player.cued())
                return;
            var time = _this.seek(e.center.x);
            _this.player.seekTo(time).then(function () {
                _this.setElapsedTime(time);
                _this.startSeekbarInterval();
            });
        });
        hammer.on("panstart", function (e) { return _this.stopSeekbarInterval(); });
        hammer.on("panleft panright", function (e) { return _this.seek(e.center.x); });
    };
    /**
     * Reset seekbar to initial state.
     */
    PlayerSeekbarComponent.prototype.resetSeekbar = function () {
        this.positionElapsedTrackAndHandle(0);
        this.setElapsedTime(0);
    };
    /**
     * Update player controls on player state events.
     */
    PlayerSeekbarComponent.prototype.bindToPlayerStateEvents = function () {
        var _this = this;
        if (this.player.state.playing) {
            this.startSeekbarInterval();
        }
        var sub = this.player.state.onChange$.subscribe(function (type) {
            switch (type) {
                case 'BUFFERING_STARTED':
                    _this.stopSeekbarInterval();
                    break;
                case 'PLAYBACK_STARTED':
                    _this.startSeekbarInterval();
                    break;
                case 'PLAYBACK_PAUSED':
                    _this.stopSeekbarInterval();
                    break;
                case 'PLAYBACK_STOPPED':
                    _this.stopSeekbarInterval();
                    _this.resetSeekbar();
                    break;
            }
        });
        this.subscriptions.push(sub);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('outerTrack'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], PlayerSeekbarComponent.prototype, "outerTrack", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('progressTrack'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], PlayerSeekbarComponent.prototype, "progressTrack", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('progressHandle'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], PlayerSeekbarComponent.prototype, "progressHandle", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('elapsedTimeEl'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], PlayerSeekbarComponent.prototype, "elapsedTimeEl", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('trackLengthEl'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], PlayerSeekbarComponent.prototype, "trackLengthEl", void 0);
    PlayerSeekbarComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'player-seekbar',
            template: __webpack_require__("./src/app/web-player/player/player-controls/player-seekbar/player-seekbar.component.html"),
            styles: [__webpack_require__("./src/app/web-player/player/player-controls/player-seekbar/player-seekbar.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_1__formatted_duration_service__["a" /* FormattedDuration */],
            __WEBPACK_IMPORTED_MODULE_2__player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]])
    ], PlayerSeekbarComponent);
    return PlayerSeekbarComponent;
}());



/***/ }),

/***/ "./src/app/web-player/player/player-controls/repeat-button/repeat-button.component.html":
/***/ (function(module, exports) {

module.exports = "<button class=\"player-action no-style repeat-button\" *ngIf=\"!player.getState().repeatingOne\" (click)=\"player.toggleRepeatMode()\" [class.active]=\"player.getState().repeating\" tooltip=\"Repeat\">\n    <svg-icon name=\"repeat\"></svg-icon>\n</button>\n\n<button class=\"player-action no-style repeat-button active\" *ngIf=\"player.getState().repeatingOne\" (click)=\"player.toggleRepeatMode()\" tooltip=\"Repeat One\">\n    <svg-icon name=\"repeat-one\"></svg-icon>\n</button>"

/***/ }),

/***/ "./src/app/web-player/player/player-controls/repeat-button/repeat-button.component.scss":
/***/ (function(module, exports) {

module.exports = "repeat-button {\n  display: block; }\n  repeat-button > button {\n    display: block; }\n  repeat-button .active {\n    color: #6eac00; }\n"

/***/ }),

/***/ "./src/app/web-player/player/player-controls/repeat-button/repeat-button.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RepeatButtonComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var RepeatButtonComponent = (function () {
    function RepeatButtonComponent(player) {
        this.player = player;
    }
    RepeatButtonComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'repeat-button',
            template: __webpack_require__("./src/app/web-player/player/player-controls/repeat-button/repeat-button.component.html"),
            styles: [__webpack_require__("./src/app/web-player/player/player-controls/repeat-button/repeat-button.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__player_service__["a" /* Player */]])
    ], RepeatButtonComponent);
    return RepeatButtonComponent;
}());



/***/ }),

/***/ "./src/app/web-player/player/player-controls/volume-controls/volume-controls.component.html":
/***/ (function(module, exports) {

module.exports = "<button class=\"player-action no-style volume-button volume-on\" [class.visible]=\"!player.isMuted()\" (click)=\"player.mute()\" tooltip=\"Mute\">\n    <svg-icon name=\"volume-up\"></svg-icon>\n</button>\n\n<button class=\"player-action no-style volume-button volume-off\" [class.visible]=\"player.isMuted()\" (click)=\"player.unMute()\" tooltip=\"Unmute\">\n    <svg-icon name=\"volume-off\"></svg-icon>\n</button>\n\n<div class=\"outer-track\" #outerTrack>\n    <div class=\"inner-track\"></div>\n    <div class=\"progress-track\" [class.hidden]=\"player.isMuted()\" #progressTrack></div>\n    <div class=\"progress-handle\" #progressHandle></div>\n</div>\n"

/***/ }),

/***/ "./src/app/web-player/player/player-controls/volume-controls/volume-controls.component.scss":
/***/ (function(module, exports) {

module.exports = "volume-controls {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 125px;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 0 125px;\n          flex: 0 0 125px;\n  height: 100%;\n  cursor: pointer; }\n  volume-controls:hover .progress-handle {\n    display: block; }\n  volume-controls > .outer-track {\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto;\n    height: 100%;\n    position: relative;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center; }\n  volume-controls > .outer-track > .inner-track {\n      height: 5px;\n      background-color: #414151;\n      width: 100%;\n      border-radius: 6px; }\n  volume-controls > .outer-track > .progress-track {\n      position: absolute;\n      left: 0;\n      top: 30px;\n      height: 5px;\n      background-color: #7b7b96;\n      width: 0; }\n  volume-controls .progress-handle {\n    display: none;\n    position: absolute;\n    left: 0;\n    top: 25px;\n    width: 12px;\n    height: 12px;\n    background-color: #fff;\n    border-radius: 50%; }\n  volume-controls .volume-button {\n    display: none;\n    margin-left: 20px; }\n  volume-controls .volume-button.visible {\n      display: block; }\n"

/***/ }),

/***/ "./src/app/web-player/player/player-controls/volume-controls/volume-controls.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VolumeControlsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_hammerjs__ = __webpack_require__("./node_modules/hammerjs/hammer.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_hammerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_hammerjs__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var VolumeControlsComponent = (function () {
    /**
     * VolumeControlsComponent Constructor.
     */
    function VolumeControlsComponent(player, renderer, zone, browserEvents) {
        this.player = player;
        this.renderer = renderer;
        this.zone = zone;
        this.browserEvents = browserEvents;
        /**
         * Active component subscriptions.
         */
        this.subscriptions = [];
        /**
         * Cache needed to position progress handle and bar.
         */
        this.cache = {};
    }
    /**
     * Called after component's view has been fully initialized.
     */
    VolumeControlsComponent.prototype.ngAfterViewInit = function () {
        this.bindHammerEvents();
        this.cacheNodes();
        this.setInitialVolume();
        this.initKeybinds();
    };
    /**
     * Called when a component is destroyed.
     */
    VolumeControlsComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
        this.subscriptions = [];
    };
    /**
     * Cache nodes needed to position volume handle and progress bar.
     */
    VolumeControlsComponent.prototype.cacheNodes = function () {
        this.showHandle();
        this.cache.mainVolumeRect = this.outerTrack.nativeElement.getBoundingClientRect();
        this.cache.handleRect = this.progressHandle.nativeElement.getBoundingClientRect();
        this.cache.handlePercent = (this.cache.handleRect.width / this.cache.mainVolumeRect.width) * 100 / 2;
        this.hideHandle();
    };
    /**
     * Set volume from click x coordinate.
     */
    VolumeControlsComponent.prototype.setVolumeFromCoordinate = function (clickX) {
        var volume = ((clickX - this.cache.mainVolumeRect.left) / this.cache.mainVolumeRect.width) * 100;
        this.setVolume(volume);
        if (volume > 0)
            this.player.unMute();
    };
    /**
     * Set initial player volume.
     */
    VolumeControlsComponent.prototype.setInitialVolume = function () {
        var ratio = ((this.player.getVolume() / 100) * 100);
        this.positionTrackAndHandle(ratio);
    };
    /**
     * Set player volume based on specified percentage;
     */
    VolumeControlsComponent.prototype.setVolume = function (percentage) {
        if (percentage > 100)
            return;
        if (percentage <= 0) {
            return this.player.mute();
        }
        if (this.player.isMuted() && percentage > 0) {
            this.player.unMute();
        }
        this.player.setVolume(percentage);
        this.positionTrackAndHandle(percentage);
    };
    /**
     * Position volume track and handle.
     */
    VolumeControlsComponent.prototype.positionTrackAndHandle = function (percentage) {
        if (percentage > 100 || percentage <= 0)
            return;
        this.progressTrack.nativeElement.style.width = percentage + '%';
        this.progressHandle.nativeElement.style.left = percentage - this.cache.handlePercent + '%';
    };
    /**
     * Show volume bar handle.
     */
    VolumeControlsComponent.prototype.showHandle = function () {
        this.renderer.setStyle(this.progressHandle.nativeElement, 'display', 'block');
    };
    /**
     * Hide volume bar handle.
     */
    VolumeControlsComponent.prototype.hideHandle = function () {
        this.renderer.setStyle(this.progressHandle.nativeElement, 'display', '');
    };
    /**
     * Bind handlers to needed hammer.js events.
     */
    VolumeControlsComponent.prototype.bindHammerEvents = function () {
        var _this = this;
        var hammer, tap, pan;
        this.zone.runOutsideAngular(function () {
            hammer = new Hammer.Manager(_this.outerTrack.nativeElement);
            tap = new Hammer.Tap();
            pan = new Hammer.Pan();
            hammer.add([tap, pan]);
        });
        //prevent handle from disappearing, if user hovers out of player
        //controls bounds, but have not released mouse button yet
        hammer.on('panstart', function (e) { return _this.showHandle(); });
        hammer.on('panend', function (e) { return _this.hideHandle(); });
        hammer.on('tap panleft panright', function (e) { return _this.setVolumeFromCoordinate(e.center.x); });
    };
    /**
     * Initiate volume keyboard shortcuts.
     */
    VolumeControlsComponent.prototype.initKeybinds = function () {
        var _this = this;
        var sub = this.browserEvents.globalKeyDown$.subscribe(function (e) {
            //ctrl+shift+up - max volume
            if (e.ctrlKey && e.shiftKey && e.keyCode === _this.browserEvents.keyCodes.arrowUp) {
                _this.setVolume(100);
                e.preventDefault();
            }
            else if (e.ctrlKey && e.shiftKey && e.keyCode === _this.browserEvents.keyCodes.arrowDown) {
                _this.setVolume(0);
                e.preventDefault();
            }
            else if (e.ctrlKey && e.keyCode === _this.browserEvents.keyCodes.arrowUp) {
                _this.setVolume(_this.player.getVolume() + 5);
                e.preventDefault();
            }
            else if (e.ctrlKey && e.keyCode === _this.browserEvents.keyCodes.arrowDown) {
                _this.setVolume(_this.player.getVolume() - 5);
                e.preventDefault();
            }
        });
        this.subscriptions.push(sub);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('progressTrack'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], VolumeControlsComponent.prototype, "progressTrack", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('progressHandle'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], VolumeControlsComponent.prototype, "progressHandle", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('outerTrack'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"])
    ], VolumeControlsComponent.prototype, "outerTrack", void 0);
    VolumeControlsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'volume-controls',
            template: __webpack_require__("./src/app/web-player/player/player-controls/volume-controls/volume-controls.component.html"),
            styles: [__webpack_require__("./src/app/web-player/player/player-controls/volume-controls/volume-controls.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_3__shared_browser_events_service__["a" /* BrowserEvents */]])
    ], VolumeControlsComponent);
    return VolumeControlsComponent;
}());



/***/ }),

/***/ "./src/app/web-player/player/player-queue.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlayerQueue; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_types_models_Track__ = __webpack_require__("./src/app/shared/types/models/Track.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_state_service__ = __webpack_require__("./src/app/web-player/player/player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shuffler__ = __webpack_require__("./src/app/web-player/player/shuffler.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_local_storage_service__ = __webpack_require__("./src/app/shared/local-storage.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PlayerQueue = (function () {
    /**
     * PlayerState Service.
     */
    function PlayerQueue(state, localStorage) {
        this.state = state;
        this.localStorage = localStorage;
        /**
         * Queue after shuffling.
         */
        this.queue = [];
        /**
         * Original queue before shuffling.
         */
        this.originalQueue = [];
        /**
         * Current queue pointer.
         */
        this.pointer = 0;
    }
    /**
     * Get all queue items.
     */
    PlayerQueue.prototype.getAll = function () {
        return this.queue;
    };
    /**
     * Check if specified track is currently in queue.
     */
    PlayerQueue.prototype.has = function (track) {
        return this.queue.findIndex(function (predicate) {
            return predicate.id === track.id;
        }) >= 0;
    };
    /**
     * Move queue pointer to specified track.
     */
    PlayerQueue.prototype.select = function (track) {
        if (!track)
            track = new __WEBPACK_IMPORTED_MODULE_1__shared_types_models_Track__["a" /* Track */]();
        this.set(this.queue.findIndex(function (predicate) {
            return predicate.id === track.id;
        }));
    };
    /**
     * Check if queue is empty.
     */
    PlayerQueue.prototype.empty = function () {
        return this.getTotal() > 0;
    };
    /**
     * Override current queue with specified items.
     */
    PlayerQueue.prototype.override = function (params, queuePointer) {
        if (queuePointer === void 0) { queuePointer = 0; }
        this.queuedItemId = params.queuedItemId;
        this.queue = params.tracks.slice();
        if (this.state.shuffling)
            this.shuffle(true);
        this.originalQueue = params.tracks.slice();
        this.set(queuePointer);
    };
    PlayerQueue.prototype.append = function (tracks) {
        this.queue = this.queue.concat(tracks.slice());
        this.originalQueue = this.queue.concat(tracks.slice());
    };
    PlayerQueue.prototype.prepend = function (tracks) {
        this.queue = tracks.slice().concat(this.queue);
        this.originalQueue = tracks.slice().concat(this.queue);
    };
    PlayerQueue.prototype.remove = function (track) {
        var i = this.queue.findIndex(function (predicate) { return predicate === track; });
        this.queue.splice(i, 1);
    };
    /**
     * Shuffle the queue.
     */
    PlayerQueue.prototype.shuffle = function (keepFirst) {
        if (keepFirst === void 0) { keepFirst = false; }
        this.queue = __WEBPACK_IMPORTED_MODULE_3__shuffler__["a" /* shuffler */].shuffle(this.getAll(), keepFirst);
    };
    PlayerQueue.prototype.getQueuedItem = function () {
        return this.queuedItemId;
    };
    PlayerQueue.prototype.setQueuedItem = function (id) {
        this.queuedItemId = id;
    };
    PlayerQueue.prototype.itemIsQueued = function (itemId) {
        return this.queuedItemId === itemId;
    };
    /**
     * Restore queue to original (if it has been shuffled)
     */
    PlayerQueue.prototype.restoreOriginal = function () {
        this.queue = this.originalQueue.slice();
    };
    PlayerQueue.prototype.getFirst = function () {
        return this.get(0);
    };
    PlayerQueue.prototype.getLast = function () {
        return this.get(this.getTotal() - 1);
    };
    PlayerQueue.prototype.getTotal = function () {
        return this.queue.length;
    };
    PlayerQueue.prototype.getNext = function () {
        return this.get(this.pointer + 1);
    };
    /**
     * Check if current track is the last one in queue.
     */
    PlayerQueue.prototype.isLast = function () {
        return this.getLast() === this.getCurrent();
    };
    /**
     * Check if current track is the first one in queue.
     */
    PlayerQueue.prototype.isFirst = function () {
        return this.getFirst() === this.getCurrent();
    };
    PlayerQueue.prototype.getPrevious = function () {
        return this.get(this.pointer - 1);
    };
    PlayerQueue.prototype.getCurrent = function () {
        return this.get(this.pointer);
    };
    PlayerQueue.prototype.get = function (index) {
        return this.queue[index] || null;
    };
    PlayerQueue.prototype.set = function (index) {
        if (index === -1)
            index = null;
        this.pointer = index;
        this.localStorage.set('player.queue.pointer', index);
    };
    PlayerQueue = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__player_state_service__["a" /* PlayerState */], __WEBPACK_IMPORTED_MODULE_4__shared_local_storage_service__["a" /* LocalStorage */]])
    ], PlayerQueue);
    return PlayerQueue;
}());



/***/ }),

/***/ "./src/app/web-player/player/player-state.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlayerState; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_local_storage_service__ = __webpack_require__("./src/app/shared/local-storage.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var PlayerState = (function () {
    /**
     * PlayerState Constructor.
     */
    function PlayerState(storage) {
        this.storage = storage;
        this._playing = false;
        this._buffering = false;
        this._muted = false;
        this._repeating = true;
        this._repeatingOne = false;
        this._shuffling = false;
        this.onChange$ = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    /**
     * Fired when playback ends (track reaches the end)
     */
    PlayerState.prototype.firePlaybackEnded = function () {
        this.onChange$.emit('PLAYBACK_ENDED');
    };
    /**
     * Fired when playback is stopped (paused and seeked to 0)
     */
    PlayerState.prototype.firePlaybackStopped = function () {
        this.onChange$.emit('PLAYBACK_STOPPED');
    };
    /**
     * Fired when playback strategy is first bootstrapped.
     */
    PlayerState.prototype.fireReadyEvent = function () {
        this.onChange$.emit('PLAYBACK_STRATEGY_READY');
    };
    Object.defineProperty(PlayerState.prototype, "playing", {
        get: function () {
            return this._playing;
        },
        set: function (value) {
            if (this._playing === value)
                return;
            this._playing = value;
            if (value && this.buffering)
                this.buffering = false;
            this.onChange$.emit('PLAYBACK_' + (value ? 'STARTED' : 'PAUSED'));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PlayerState.prototype, "buffering", {
        get: function () {
            return this._buffering;
        },
        set: function (value) {
            if (this._buffering === value)
                return;
            this._buffering = value;
            if (value && this.playing)
                this.playing = false;
            this.onChange$.emit('BUFFERING_' + (value ? 'STARTED' : 'STOPPED'));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PlayerState.prototype, "muted", {
        get: function () {
            return this._muted;
        },
        set: function (value) {
            this._muted = value;
            this.storage.set('player.muted', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PlayerState.prototype, "repeating", {
        get: function () {
            return this._repeating;
        },
        set: function (value) {
            this._repeating = value;
            this.storage.set('player.repeating', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PlayerState.prototype, "repeatingOne", {
        get: function () {
            return this._repeatingOne;
        },
        set: function (value) {
            this._repeatingOne = value;
            if (value)
                this.repeating = false;
            this.storage.set('player.repeatingOne', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PlayerState.prototype, "shuffling", {
        get: function () {
            return this._shuffling;
        },
        set: function (value) {
            this._shuffling = value;
            this.storage.set('player.shuffling', value);
        },
        enumerable: true,
        configurable: true
    });
    PlayerState = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_local_storage_service__["a" /* LocalStorage */]])
    ], PlayerState);
    return PlayerState;
}());



/***/ }),

/***/ "./src/app/web-player/player/player.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Player; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_queue_service__ = __webpack_require__("./src/app/web-player/player/player-queue.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__strategies_youtube_strategy_service__ = __webpack_require__("./src/app/web-player/player/strategies/youtube-strategy.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_state_service__ = __webpack_require__("./src/app/web-player/player/player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_local_storage_service__ = __webpack_require__("./src/app/shared/local-storage.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__fullscreen_overlay_fullscreen_overlay_service__ = __webpack_require__("./src/app/web-player/fullscreen-overlay/fullscreen-overlay.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__strategies_html5_strategy_service__ = __webpack_require__("./src/app/web-player/player/strategies/html5-strategy.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__strategies_soundcloud_strategy_service__ = __webpack_require__("./src/app/web-player/player/strategies/soundcloud-strategy.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__shared_browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__track_plays_service__ = __webpack_require__("./src/app/web-player/player/track-plays.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












var Player = (function () {
    /**
     * Player Constructor.
     */
    function Player(queue, youtube, html5, soundcloud, storage, settings, state, globalState, overlay, browserEvents, trackPlays) {
        this.queue = queue;
        this.youtube = youtube;
        this.html5 = html5;
        this.soundcloud = soundcloud;
        this.storage = storage;
        this.settings = settings;
        this.state = state;
        this.globalState = globalState;
        this.overlay = overlay;
        this.browserEvents = browserEvents;
        this.trackPlays = trackPlays;
        /**
         * Active service subscriptions.
         */
        this.subscriptions = [];
        /**
         * Whether continuous playback should be
         * handled by the player after song ends.
         */
        this.handleContinuousPlayback = true;
        /**
         * Whether playback has been started via user gesture.
         *
         * If true, there's no need to maximize player overlay
         * anymore, because external controls will work properly.
         */
        this.playbackStartedViaGesture = false;
    }
    /**
     * Start the playback.
     */
    Player.prototype.play = function () {
        if (!this.ready())
            return;
        var track = this.queue.getCurrent();
        if (!track)
            return this.stop();
        this.setStrategy(track);
        this.maybeMaximizeOverlay();
        this.playbackStrategy.play();
    };
    /**
     * Pause the playback.
     */
    Player.prototype.pause = function () {
        this.playbackStrategy.pause();
    };
    /**
     * Play or pause player based on current playback state.
     */
    Player.prototype.togglePlayback = function () {
        if (this.isPlaying()) {
            this.pause();
        }
        else {
            this.play();
        }
    };
    /**
     * Check if current playback strategy is ready.
     */
    Player.prototype.ready = function () {
        return this.playbackStrategy.ready();
    };
    /**
     * Check if playback is in progress.
     */
    Player.prototype.isPlaying = function () {
        return this.state.playing;
    };
    /**
     * Check if player has any or specified track cued.
     */
    Player.prototype.cued = function (track) {
        var cued = this.getCuedTrack() && this.getCuedTrack().id;
        if (!track)
            return cued;
        return cued && this.getCuedTrack() === track;
    };
    /**
     * Get player state service.
     */
    Player.prototype.getState = function () {
        return this.state;
    };
    /**
     * Get player queue service.
     */
    Player.prototype.getQueue = function () {
        return this.queue;
    };
    /**
     * Check if player is buffering currently..
     */
    Player.prototype.isBuffering = function () {
        return this.state.buffering;
    };
    /**
     * Check if player is muted.
     */
    Player.prototype.isMuted = function () {
        return this.state.muted;
    };
    /**
     * Get track that is currently cued.
     */
    Player.prototype.getCuedTrack = function () {
        if (!this.playbackStrategy)
            return null;
        return this.playbackStrategy.getCuedTrack();
    };
    /**
     * Mute player.
     */
    Player.prototype.mute = function () {
        this.playbackStrategy.mute();
        this.state.muted = true;
    };
    /**
     * Unmute player.
     */
    Player.prototype.unMute = function () {
        this.playbackStrategy.unMute();
        this.state.muted = false;
    };
    /**
     * Get current player volume.
     */
    Player.prototype.getVolume = function () {
        return this.volume;
    };
    /**
     * Set volume to a number between 0 and 100.
     */
    Player.prototype.setVolume = function (volume) {
        this.volume = volume;
        this.playbackStrategy.setVolume(volume);
        this.storage.set('player.volume', volume);
    };
    /**
     * Stop playback and seek to start of track.
     */
    Player.prototype.stop = function () {
        if (!this.state.playing)
            return;
        this.playbackStrategy.pause();
        this.seekTo(0);
        this.state.playing = false;
        this.state.firePlaybackStopped();
    };
    /**
     * Get time that has elapsed since playback start.
     */
    Player.prototype.getCurrentTime = function () {
        return this.playbackStrategy.getCurrentTime();
    };
    /**
     * Get total duration of track in seconds.
     */
    Player.prototype.getDuration = function () {
        return this.playbackStrategy.getDuration();
    };
    /**
     * Seek to specified time in track.
     */
    Player.prototype.seekTo = function (time) {
        this.playbackStrategy.seekTo(time);
        return new Promise(function (resolve) { return setTimeout(function () { return resolve(); }, 50); });
    };
    /**
     * Toggle between repeat, repeat one and no repeat modes.
     */
    Player.prototype.toggleRepeatMode = function () {
        if (this.state.repeating) {
            this.state.repeatingOne = true;
        }
        else if (this.state.repeatingOne) {
            this.state.repeatingOne = false;
            this.state.repeating = false;
        }
        else {
            this.state.repeating = true;
        }
    };
    /**
     * Play next track in queue based on current repeat setting.
     */
    Player.prototype.playNext = function () {
        this.stop();
        var track = this.queue.getCurrent();
        if (this.state.repeating && this.queue.isLast()) {
            track = this.queue.getFirst();
        }
        else if (!this.state.repeatingOne) {
            track = this.queue.getNext();
        }
        this.queue.select(track);
        this.play();
    };
    /**
     * Play previous track in queue based on current repeat setting.
     */
    Player.prototype.playPrevious = function () {
        this.stop();
        var track = this.queue.getCurrent();
        if (this.state.repeating && this.queue.isFirst()) {
            track = this.queue.getLast();
        }
        else if (!this.state.repeatingOne) {
            track = this.queue.getPrevious();
        }
        this.queue.select(track);
        this.play();
    };
    /**
     * Toggle player shuffle mode.
     */
    Player.prototype.toggleShuffle = function () {
        if (this.state.shuffling) {
            this.queue.restoreOriginal();
        }
        else {
            this.queue.shuffle();
        }
        this.state.shuffling = !this.state.shuffling;
    };
    /**
     * Override player queue and cue first track.
     */
    Player.prototype.overrideQueue = function (params, queuePointer) {
        if (queuePointer === void 0) { queuePointer = 0; }
        this.putQueueIntoLocalStorage(params.tracks);
        this.queue.override(params, queuePointer);
        return this.cueTrack(this.queue.getCurrent());
    };
    /**
     * Cue specified track for playback.
     */
    Player.prototype.cueTrack = function (track) {
        var _this = this;
        var promise;
        this.setStrategy(track);
        if (!track || !this.playbackStrategy) {
            promise = new Promise(function (resolve) { return resolve(); });
        }
        else {
            this.queue.select(track);
            promise = this.playbackStrategy.cueTrack(track);
        }
        return promise.then(function () {
            _this.state.buffering = false;
        });
    };
    /**
     * Get currently active playback strategy.
     */
    Player.prototype.getPlaybackStrategy = function () {
        return this.activePlaybackStrategy;
    };
    /**
     * Init the player.
     */
    Player.prototype.init = function () {
        this.loadStateFromLocalStorage();
        this.setStrategy(this.queue.getCurrent());
        this.setInitialVolume();
        this.cueTrack(this.queue.getCurrent());
        this.bindToPlaybackStateEvents();
        this.initKeybinds();
    };
    /**
     * Destroy the player.
     */
    Player.prototype.destroy = function () {
        this.playbackStrategy && this.playbackStrategy.destroy();
        this.state.playing = false;
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
        this.subscriptions = [];
    };
    /**
     * Put specified queue into local storage and limit tracks to 15.
     */
    Player.prototype.putQueueIntoLocalStorage = function (tracks) {
        if (!tracks)
            return;
        this.storage.set('player.queue', { tracks: tracks.slice(0, 15) });
    };
    /**
     * Set playback strategy based on specified track.
     */
    Player.prototype.setStrategy = function (track) {
        if (track && track.url) {
            this.playbackStrategy = this.html5;
            this.activePlaybackStrategy = 'html5';
        }
        else if (this.settings.get('audio_search_provider') === 'soundcloud') {
            this.playbackStrategy = this.soundcloud;
            this.activePlaybackStrategy = 'soundcloud';
        }
        else {
            this.playbackStrategy = this.youtube;
            this.activePlaybackStrategy = 'youtube';
        }
        //destroy all except current active playback strategy
        if (this.activePlaybackStrategy !== 'youtube')
            this.youtube.destroy();
        if (this.activePlaybackStrategy !== 'html5')
            this.html5.destroy();
        if (this.activePlaybackStrategy !== 'soundcloud')
            this.soundcloud.destroy();
        return this.playbackStrategy;
    };
    Player.prototype.loadStateFromLocalStorage = function () {
        this.state.muted = this.storage.get('player.muted', false);
        this.state.repeating = this.storage.get('player.repeating', true);
        this.state.repeatingOne = this.storage.get('player.repeatingOne', false);
        this.state.shuffling = this.storage.get('player.shuffling', false);
        var queuePointer = this.storage.get('player.queue.pointer', 0);
        this.queue.override(this.storage.get('player.queue', { tracks: [] }), queuePointer);
    };
    /**
     * Set initial player volume.
     */
    Player.prototype.setInitialVolume = function () {
        var defaultVolume = this.settings.get('player.default_volume', 30);
        defaultVolume = this.storage.get('player.volume', defaultVolume);
        this.setVolume(defaultVolume);
        this.html5.setVolume(defaultVolume);
    };
    /**
     * Maximize fullscreen overlay if we're on mobile,
     * because youtube embed needs to be visible to start
     * playback with external youtube iframe api controls
     */
    Player.prototype.maybeMaximizeOverlay = function () {
        return __awaiter(this, void 0, void 0, function () {
            var shouldOpen;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        shouldOpen = this.settings.get('player.mobile.auto_open_overlay');
                        if (this.playbackStartedViaGesture || !shouldOpen || !this.globalState.isMobile)
                            return [2 /*return*/];
                        return [4 /*yield*/, this.overlay.maximize()];
                    case 1:
                        _a.sent();
                        this.playbackStartedViaGesture = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Play next track when current track ends.
     */
    Player.prototype.bindToPlaybackStateEvents = function () {
        var _this = this;
        this.state.onChange$.subscribe(function (type) {
            if (type === 'PLAYBACK_STARTED') {
                _this.trackPlays.increment(_this.getCuedTrack());
            }
            else if (type === 'PLAYBACK_ENDED' && _this.handleContinuousPlayback) {
                _this.trackPlays.clearPlayedTrack(_this.getCuedTrack());
                _this.playNext();
            }
        });
    };
    /**
     * Initiate player keyboard shortcuts.
     */
    Player.prototype.initKeybinds = function () {
        var _this = this;
        var sub = this.browserEvents.globalKeyDown$.subscribe(function (e) {
            //SPACE - toggle playback
            if (e.keyCode === _this.browserEvents.keyCodes.space) {
                _this.togglePlayback();
                e.preventDefault();
                //ctrl+right - play next track
            }
            else if (e.ctrlKey && e.keyCode === _this.browserEvents.keyCodes.arrowRight) {
                _this.playNext();
                e.preventDefault();
            }
            else if (e.ctrlKey && e.keyCode === _this.browserEvents.keyCodes.arrowLeft) {
                _this.playPrevious();
                e.preventDefault();
            }
        });
        this.subscriptions.push(sub);
    };
    Player = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__player_queue_service__["a" /* PlayerQueue */],
            __WEBPACK_IMPORTED_MODULE_2__strategies_youtube_strategy_service__["a" /* YoutubeStrategy */],
            __WEBPACK_IMPORTED_MODULE_8__strategies_html5_strategy_service__["a" /* Html5Strategy */],
            __WEBPACK_IMPORTED_MODULE_9__strategies_soundcloud_strategy_service__["a" /* SoundcloudStrategy */],
            __WEBPACK_IMPORTED_MODULE_4__shared_local_storage_service__["a" /* LocalStorage */],
            __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_3__player_state_service__["a" /* PlayerState */],
            __WEBPACK_IMPORTED_MODULE_7__web_player_state_service__["a" /* WebPlayerState */],
            __WEBPACK_IMPORTED_MODULE_6__fullscreen_overlay_fullscreen_overlay_service__["a" /* FullscreenOverlay */],
            __WEBPACK_IMPORTED_MODULE_10__shared_browser_events_service__["a" /* BrowserEvents */],
            __WEBPACK_IMPORTED_MODULE_11__track_plays_service__["a" /* TrackPlays */]])
    ], Player);
    return Player;
}());



/***/ }),

/***/ "./src/app/web-player/player/shuffler.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return shuffler; });
var shuffler = (function () {
    function shuffler() {
    }
    /**
     * Shuffle current items.
     */
    shuffler.shuffle = function (items, keepFirst) {
        if (keepFirst === void 0) { keepFirst = false; }
        var first = keepFirst ? items.shift() : null;
        var currentIndex = items.length, temporaryValue, randomIndex;
        while (0 !== currentIndex) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex -= 1;
            temporaryValue = items[currentIndex];
            items[currentIndex] = items[randomIndex];
            items[randomIndex] = temporaryValue;
        }
        if (first) {
            items.unshift(first);
        }
        return items.slice();
    };
    return shuffler;
}());



/***/ }),

/***/ "./src/app/web-player/player/strategies/html5-strategy.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Html5Strategy; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__player_state_service__ = __webpack_require__("./src/app/web-player/player/player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_queue_service__ = __webpack_require__("./src/app/web-player/player/player-queue.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var Html5Strategy = (function () {
    /**
     * Html5Strategy Constructor.
     */
    function Html5Strategy(state, zone, queue) {
        this.state = state;
        this.zone = zone;
        this.queue = queue;
        /**
         * Whether player is already bootstrapped.
         */
        this.bootstrapped = false;
        /**
         * Volume that should be set after player is bootstrapped.
         * Number between 1 and 100.
         */
        this.pendingVolume = null;
    }
    /**
     * Start playback.
     */
    Html5Strategy.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.cueTrack(this.queue.getCurrent())];
                    case 1:
                        _a.sent();
                        this.html5.play();
                        this.state.playing = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Pause playback.
     */
    Html5Strategy.prototype.pause = function () {
        this.html5.pause();
        this.state.playing = false;
    };
    /**
     * Stop playback.
     */
    Html5Strategy.prototype.stop = function () {
        this.pause();
        this.seekTo(0);
        this.state.playing = false;
    };
    /**
     * Seek to specified time in track.
     */
    Html5Strategy.prototype.seekTo = function (time) {
        this.html5.currentTime = time;
    };
    /**
     * Get loaded track duration in seconds.
     */
    Html5Strategy.prototype.getDuration = function () {
        if (!this.html5.seekable.length)
            return 0;
        return this.html5.seekable.end(0);
    };
    /**
     * Get elapsed time in seconds since the track started playing
     */
    Html5Strategy.prototype.getCurrentTime = function () {
        return this.html5.currentTime;
    };
    /**
     * Set html5 player volume to float between 0 and 1.
     */
    Html5Strategy.prototype.setVolume = function (number) {
        if (!this.html5) {
            this.pendingVolume = number;
        }
        else {
            this.html5.volume = number / 100;
        }
    };
    /**
     * Mute the player.
     */
    Html5Strategy.prototype.mute = function () {
        this.html5.muted = true;
    };
    /**
     * Unmute the player.
     */
    Html5Strategy.prototype.unMute = function () {
        this.html5.muted = false;
    };
    /**
     * Get track that is currently cued for playback.
     */
    Html5Strategy.prototype.getCuedTrack = function () {
        return this.cuedTrack;
    };
    /**
     * Check if youtube player is ready.
     */
    Html5Strategy.prototype.ready = function () {
        return this.bootstrapped;
    };
    /**
     * Fetch youtube ID for specified track if needed and cue it in youtube player.
     */
    Html5Strategy.prototype.cueTrack = function (track) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (this.cueing === track || this.cuedTrack === track)
                    return [2 /*return*/];
                this.cueing = track;
                this.state.buffering = true;
                this.bootstrap();
                this.html5.src = track.url;
                this.cuedTrack = track;
                this.cueing = null;
                return [2 /*return*/, new Promise(function (resolve) { return resolve(); })];
            });
        });
    };
    /**
     * Destroy html5 playback strategy.
     */
    Html5Strategy.prototype.destroy = function () {
        this.html5 && this.html5.remove();
        this.html5 = null;
        this.bootstrapped = false;
        this.cuedTrack = null;
    };
    /**
     * Bootstrap html5 player.
     */
    Html5Strategy.prototype.bootstrap = function () {
        if (this.bootstrapped)
            return;
        this.html5 = document.createElement('video');
        this.html5.setAttribute('playsinline', 'true');
        this.html5.id = 'html5-player';
        document.querySelector('.html5-player').appendChild(this.html5);
        this.handlePlayerReadyEvent();
        this.handlePlayerStateChangeEvents();
        this.bootstrapped = true;
    };
    /**
     * Handle html5 playback state change events.
     */
    Html5Strategy.prototype.handlePlayerStateChangeEvents = function () {
        var _this = this;
        this.html5.addEventListener('ended', function () {
            _this.state.firePlaybackEnded();
            _this.setState('playing', false);
        });
        this.html5.addEventListener('playing', function () {
            _this.setState('playing', true);
        });
        this.html5.addEventListener('pause', function () {
            _this.setState('playing', false);
        });
        this.html5.addEventListener('error', function () {
            _this.cuedTrack = null;
            _this.setState('playing', false);
            _this.state.firePlaybackEnded();
        });
    };
    /**
     * Set specified player state.
     */
    Html5Strategy.prototype.setState = function (name, value) {
        var _this = this;
        this.zone.run(function () { return _this.state[name] = value; });
    };
    /**
     * Handle html5 player ready event.
     */
    Html5Strategy.prototype.handlePlayerReadyEvent = function (resolve) {
        if (this.state.muted)
            this.mute();
        this.bootstrapped = true;
        resolve && resolve();
        this.state.fireReadyEvent();
        if (this.pendingVolume) {
            this.setVolume(this.pendingVolume);
            this.pendingVolume = null;
        }
    };
    Html5Strategy = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__player_state_service__["a" /* PlayerState */],
            __WEBPACK_IMPORTED_MODULE_1__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_2__player_queue_service__["a" /* PlayerQueue */]])
    ], Html5Strategy);
    return Html5Strategy;
}());



/***/ }),

/***/ "./src/app/web-player/player/strategies/soundcloud-strategy.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SoundcloudStrategy; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__player_state_service__ = __webpack_require__("./src/app/web-player/player/player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_queue_service__ = __webpack_require__("./src/app/web-player/player/player-queue.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_utils__ = __webpack_require__("./src/app/shared/utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__search_search_service__ = __webpack_require__("./src/app/web-player/search/search.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var SoundcloudStrategy = (function () {
    /**
     * Html5Strategy Constructor.
     */
    function SoundcloudStrategy(state, zone, queue, utils, search) {
        this.state = state;
        this.zone = zone;
        this.queue = queue;
        this.utils = utils;
        this.search = search;
        /**
         * Whether player is already bootstrapped.
         */
        this.bootstrapped = false;
        /**
         * Volume that should be set after player is bootstrapped.
         */
        this.pendingVolume = null;
        /**
         * Loaded track duration in seconds.
         */
        this.duration = 0;
        /**
         * Elapsed time in seconds since the track started playing.
         */
        this.position = 0;
    }
    /**
     * Start playback.
     */
    SoundcloudStrategy.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.cueTrack(this.queue.getCurrent())];
                    case 1:
                        _a.sent();
                        this.soundcloud.play();
                        this.state.playing = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Pause playback.
     */
    SoundcloudStrategy.prototype.pause = function () {
        this.soundcloud.pause();
        this.state.playing = false;
    };
    /**
     * Stop playback.
     */
    SoundcloudStrategy.prototype.stop = function () {
        this.pause();
        this.seekTo(0);
        this.state.playing = false;
    };
    /**
     * Seek to specified time in track.
     */
    SoundcloudStrategy.prototype.seekTo = function (time) {
        this.soundcloud.seekTo(time * 1000);
    };
    /**
     * Get loaded track duration in seconds.
     */
    SoundcloudStrategy.prototype.getDuration = function () {
        return this.duration / 1000;
    };
    /**
     * Get elapsed time in seconds since the track started playing.
     */
    SoundcloudStrategy.prototype.getCurrentTime = function () {
        return this.position / 1000;
    };
    /**
     * Set soundcloud player volume.
     */
    SoundcloudStrategy.prototype.setVolume = function (number) {
        if (!this.soundcloud) {
            this.pendingVolume = number / 100;
        }
        else {
            this.soundcloud.volume = number / 100;
        }
    };
    /**
     * Mute the player.
     */
    SoundcloudStrategy.prototype.mute = function () {
        this.pendingVolume = this.soundcloud.getVolume();
        this.soundcloud.setVolume(0);
    };
    /**
     * Unmute the player.
     */
    SoundcloudStrategy.prototype.unMute = function () {
        var volume = this.pendingVolume || 50;
        this.soundcloud.setVolume(volume);
    };
    /**
     * Get track that is currently cued for playback.
     */
    SoundcloudStrategy.prototype.getCuedTrack = function () {
        return this.cuedTrack;
    };
    /**
     * Check if youtube player is ready.
     */
    SoundcloudStrategy.prototype.ready = function () {
        return this.bootstrapped;
    };
    /**
     * Fetch youtube ID for specified track if needed and cue it in youtube player.
     */
    SoundcloudStrategy.prototype.cueTrack = function (track) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var artist, results;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.cueing === track || this.cuedTrack === track)
                            return [2 /*return*/];
                        this.cueing = track;
                        this.state.buffering = true;
                        if (!!track.youtube_id) return [3 /*break*/, 2];
                        artist = __WEBPACK_IMPORTED_MODULE_3__shared_utils__["a" /* utils */].getObjectProp(track, 'album.artist.name') || track.artists[0];
                        return [4 /*yield*/, this.search.videoId(artist, track.name).toPromise()];
                    case 1:
                        results = _a.sent();
                        track.youtube_id = results[0].id;
                        _a.label = 2;
                    case 2: return [2 /*return*/, new Promise(function (resolve) {
                            _this.bootstrap(track).then(function () {
                                _this.soundcloud.load(track.youtube_id, _this.getPlayerVars(resolve));
                                _this.cuedTrack = track;
                                _this.cueing = null;
                            });
                        })];
                }
            });
        });
    };
    /**
     * Destroy soundcloud playback strategy.
     */
    SoundcloudStrategy.prototype.destroy = function () {
        this.soundcloud && this.soundcloud.remove();
        this.soundcloud = null;
        this.bootstrapped = false;
        this.cuedTrack = null;
    };
    /**
     * Bootstrap soundcloud player.
     */
    SoundcloudStrategy.prototype.bootstrap = function (track) {
        var _this = this;
        if (this.bootstrapped)
            return new Promise(function (resolve) { return resolve(); });
        return new Promise(function (resolve) {
            _this.utils.loadScript('https://w.soundcloud.com/player/api.js').then(function () {
                var iframe = document.createElement('iframe');
                iframe.onload = function () {
                    _this.soundcloud = SC.Widget(iframe);
                    _this.handlePlayerStateChangeEvents();
                    resolve();
                };
                iframe.id = 'soundcloud-iframe';
                iframe.src = 'https://w.soundcloud.com/player/?url=' + track.youtube_id + '&color=0066cc';
                document.querySelector('.soundcloud-player').appendChild(iframe);
            });
        });
    };
    /**
     * Handle soundcloud playback state change events.
     */
    SoundcloudStrategy.prototype.handlePlayerStateChangeEvents = function () {
        var _this = this;
        this.soundcloud.bind(SC.Widget.Events.PLAY, function () {
            _this.setState('playing', true);
        });
        this.soundcloud.bind(SC.Widget.Events.PAUSE, function () {
            _this.setState('playing', false);
        });
        this.soundcloud.bind(SC.Widget.Events.PLAY_PROGRESS, function (e) {
            _this.position = e.currentPosition;
        });
        this.soundcloud.bind(SC.Widget.Events.ERROR, function () {
            _this.cuedTrack = null;
            _this.setState('playing', false);
            _this.state.firePlaybackEnded();
        });
        this.soundcloud.bind(SC.Widget.Events.FINISH, function () {
            this.state.firePlaybackEnded();
            this.setState('playing', false);
        });
    };
    /**
     * Set specified player state.
     */
    SoundcloudStrategy.prototype.setState = function (name, value) {
        var _this = this;
        this.zone.run(function () { return _this.state[name] = value; });
    };
    /**
     * Handle soundcloud player ready event.
     */
    SoundcloudStrategy.prototype.handlePlayerReadyEvent = function (resolve) {
        var _this = this;
        if (this.state.muted)
            this.mute();
        this.bootstrapped = true;
        resolve && resolve();
        this.state.fireReadyEvent();
        this.soundcloud.getDuration(function (duration) {
            _this.duration = duration;
        });
        if (this.pendingVolume) {
            this.setVolume(this.pendingVolume);
            this.pendingVolume = null;
        }
    };
    /**
     * Get soundcloud player options.
     */
    SoundcloudStrategy.prototype.getPlayerVars = function (resolve) {
        var _this = this;
        return {
            buying: false,
            liking: false,
            download: false,
            sharing: false,
            show_artwork: false,
            show_comments: false,
            show_playcount: false,
            show_user: false,
            callback: function () {
                _this.handlePlayerReadyEvent(resolve);
            }
        };
    };
    SoundcloudStrategy = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__player_state_service__["a" /* PlayerState */],
            __WEBPACK_IMPORTED_MODULE_1__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_2__player_queue_service__["a" /* PlayerQueue */],
            __WEBPACK_IMPORTED_MODULE_3__shared_utils__["a" /* utils */],
            __WEBPACK_IMPORTED_MODULE_4__search_search_service__["a" /* Search */]])
    ], SoundcloudStrategy);
    return SoundcloudStrategy;
}());



/***/ }),

/***/ "./src/app/web-player/player/strategies/youtube-strategy.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return YoutubeStrategy; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_queue_service__ = __webpack_require__("./src/app/web-player/player/player-queue.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_utils__ = __webpack_require__("./src/app/shared/utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__search_search_service__ = __webpack_require__("./src/app/web-player/search/search.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player_state_service__ = __webpack_require__("./src/app/web-player/player/player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var YoutubeStrategy = (function () {
    /**
     * YoutubeStrategy Constructor.
     */
    function YoutubeStrategy(queue, state, utils, search, zone, settings) {
        this.queue = queue;
        this.state = state;
        this.utils = utils;
        this.search = search;
        this.zone = zone;
        this.settings = settings;
        /**
         * Whether player is already bootstrapped.
         */
        this.bootstrapped = false;
        /**
         * Volume that should be set after youtube player is bootstrapped.
         */
        this.pendingVolume = null;
        /**
         * Results of last youtube search for currently cued video.
         */
        this.searchResults = [];
        /**
         * Number of tracks skipped in queue due to youtube iframe or search error.
         */
        this.numberOfTracksSkipped = 0;
    }
    /**
     * Load current queue item and play youtube video.
     */
    YoutubeStrategy.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.cueTrack(this.queue.getCurrent())];
                    case 1:
                        _a.sent();
                        this.youtube.playVideo();
                        this.state.playing = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Pause youtube video.
     */
    YoutubeStrategy.prototype.pause = function () {
        this.youtube.pauseVideo();
        this.state.playing = false;
    };
    /**
     * stop youtube video.
     */
    YoutubeStrategy.prototype.stop = function () {
        this.youtube.stopVideo();
        this.state.playing = false;
    };
    /**
     * Seek to specified time in youtube video.
     */
    YoutubeStrategy.prototype.seekTo = function (time) {
        this.youtube.seekTo(time, true);
    };
    /**
     * Get loaded youtube video duration in seconds.
     */
    YoutubeStrategy.prototype.getDuration = function () {
        return this.youtube.getDuration() || 0;
    };
    /**
     * Get elapsed time in seconds since the video started playing
     */
    YoutubeStrategy.prototype.getCurrentTime = function () {
        return this.youtube.getCurrentTime();
    };
    /**
     * Set youtube player volume.
     */
    YoutubeStrategy.prototype.setVolume = function (number) {
        if (!this.youtube || !this.youtube.setVolume) {
            this.pendingVolume = number;
        }
        else {
            this.youtube.setVolume(number);
        }
    };
    /**
     * Mute youtube player.
     */
    YoutubeStrategy.prototype.mute = function () {
        this.youtube && this.youtube.mute && this.youtube.mute();
    };
    /**
     * Unmute youtube player.
     */
    YoutubeStrategy.prototype.unMute = function () {
        this.youtube && this.youtube.unMute && this.youtube.unMute();
    };
    /**
     * Get track that is currently cued for playback.
     */
    YoutubeStrategy.prototype.getCuedTrack = function () {
        return this.cuedTrack;
    };
    /**
     * Check if youtube player is ready.
     */
    YoutubeStrategy.prototype.ready = function () {
        return this.bootstrapped;
    };
    /**
     * Fetch youtube ID for specified track if needed and cue it in youtube player.
     */
    YoutubeStrategy.prototype.cueTrack = function (track) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var artist, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (this.cueing === track || this.cuedTrack === track)
                            return [2 /*return*/];
                        this.cueing = track;
                        //clear search results, so old search results are not used for new track
                        this.searchResults = [];
                        this.state.buffering = true;
                        if (!!track.youtube_id) return [3 /*break*/, 2];
                        artist = __WEBPACK_IMPORTED_MODULE_2__shared_utils__["a" /* utils */].getObjectProp(track, 'album.artist.name') || track.artists[0];
                        _a = this;
                        return [4 /*yield*/, this.search.videoId(artist, track.name).toPromise()];
                    case 1:
                        _a.searchResults = _b.sent();
                        this.assignFirstSearchResult(track);
                        _b.label = 2;
                    case 2: return [2 /*return*/, this.bootstrap(track.youtube_id).then(function () {
                            _this.cueYoutubeVideo(track);
                        })];
                }
            });
        });
    };
    /**
     * Destroy youtube playback strategy.
     */
    YoutubeStrategy.prototype.destroy = function () {
        this.youtube && this.youtube.destroy();
        this.youtube = null;
        this.bootstrapped = false;
        this.cuedTrack = null;
        this.searchResults = [];
    };
    /**
     * Set specified player state.
     */
    YoutubeStrategy.prototype.setState = function (name, value) {
        var _this = this;
        this.zone.run(function () { return _this.state[name] = value; });
    };
    /**
     * Cue specified youtube video for specified track.
     */
    YoutubeStrategy.prototype.cueYoutubeVideo = function (track) {
        if (track.youtube_id !== this.getYoutubeId()) {
            var suggestedQuality = this.settings.get('youtube.suggested_quality');
            this.youtube.cueVideoById({ videoId: track.youtube_id, suggestedQuality: suggestedQuality });
        }
        this.cuedTrack = track;
        this.cueing = null;
    };
    /**
     * Get currently cued youtube video ID .
     */
    YoutubeStrategy.prototype.getYoutubeId = function () {
        var url = this.youtube.getVideoUrl();
        return url && url.split('v=')[1];
    };
    /**
     * Assign first search result youtube id to track and shift the search array.
     */
    YoutubeStrategy.prototype.assignFirstSearchResult = function (track) {
        if (this.searchResults && this.searchResults.length) {
            track.youtube_id = this.searchResults[0].id;
            this.searchResults.shift();
        }
        return track;
    };
    /**
     * Try to play fallback videos from last youtube search.
     */
    YoutubeStrategy.prototype.tryToPlayFallbackVideos = function (e) {
        if (!this.searchResults.length) {
            return this.handleYoutubeError();
        }
        this.assignFirstSearchResult(this.cuedTrack);
        this.cueYoutubeVideo(this.cuedTrack);
        this.youtube.playVideo();
    };
    /**
     * Handle youtube search or iframe embed error.
     */
    YoutubeStrategy.prototype.handleYoutubeError = function () {
        this.cuedTrack = null;
        this.setState('playing', false);
        this.numberOfTracksSkipped++;
        //if we have skipped more then 5 tracks, we can assume
        //that there's a critical issue with youtube search or
        //embed so we should stop the playback and bail.
        if (this.numberOfTracksSkipped <= 5) {
            this.state.firePlaybackEnded();
        }
        return;
    };
    /**
     * Bootstrap youtube playback strategy.
     */
    YoutubeStrategy.prototype.bootstrap = function (videoId) {
        var _this = this;
        if (this.bootstrapped)
            return new Promise(function (resolve) { return resolve(); });
        if (this.bootstrapping)
            return this.bootstrapping;
        this.utils.loadScript('https://www.youtube.com/iframe_api');
        this.bootstrapping = new Promise(function (resolve) {
            if (window['onYouTubeIframeAPIReady']) {
                return _this.initYoutubePlayer(videoId, resolve);
            }
            else {
                window['onYouTubeIframeAPIReady'] = function () {
                    _this.initYoutubePlayer(videoId, resolve);
                };
            }
        });
        return this.bootstrapping;
    };
    /**
     * Initiate youtube iframe player.
     */
    YoutubeStrategy.prototype.initYoutubePlayer = function (videoId, resolve) {
        var _this = this;
        this.youtube = new YT.Player('youtube-player', {
            videoId: videoId,
            playerVars: this.getPlayerVars(),
            events: {
                onReady: function () { return _this.onPlayerReady(resolve); },
                onError: this.tryToPlayFallbackVideos.bind(this),
                onStateChange: this.onYoutubePlayerStateChange.bind(this)
            }
        });
    };
    /**
     * Handle youtube player ready event.
     */
    YoutubeStrategy.prototype.onPlayerReady = function (resolve) {
        if (this.state.muted)
            this.mute();
        this.bootstrapped = true;
        this.bootstrapping = null;
        resolve();
        this.state.fireReadyEvent();
        if (this.pendingVolume) {
            this.setVolume(this.pendingVolume);
            this.pendingVolume = null;
        }
    };
    /**
     * Handle youtube player state changes.
     */
    YoutubeStrategy.prototype.onYoutubePlayerStateChange = function (e) {
        switch (e.data) {
            case YT.PlayerState.ENDED:
                this.state.firePlaybackEnded();
                this.setState('playing', false);
                break;
            case YT.PlayerState.PLAYING:
                this.numberOfTracksSkipped = 0;
                this.setState('playing', true);
                break;
            case YT.PlayerState.PAUSED:
                this.setState('playing', false);
                break;
        }
    };
    /**
     * Get youtube player vars.
     */
    YoutubeStrategy.prototype.getPlayerVars = function () {
        return {
            autoplay: 0,
            rel: 0,
            showinfo: 0,
            disablekb: 1,
            fs: 0,
            controls: 0,
            modestbranding: 1,
            iv_load_policy: 3,
            playsinline: 1,
        };
    };
    YoutubeStrategy = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__player_queue_service__["a" /* PlayerQueue */],
            __WEBPACK_IMPORTED_MODULE_4__player_state_service__["a" /* PlayerState */],
            __WEBPACK_IMPORTED_MODULE_2__shared_utils__["a" /* utils */],
            __WEBPACK_IMPORTED_MODULE_3__search_search_service__["a" /* Search */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__["a" /* Settings */]])
    ], YoutubeStrategy);
    return YoutubeStrategy;
}());



/***/ }),

/***/ "./src/app/web-player/player/track-plays.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TrackPlays; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__tracks_tracks_service__ = __webpack_require__("./src/app/web-player/tracks/tracks.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var TrackPlays = (function () {
    /**
     * TrackPlays Constructor.
     */
    function TrackPlays(tracks) {
        this.tracks = tracks;
        /**
         * Tracks current user has already played.
         */
        this.playedTracks = [];
    }
    /**
     * Increment specified track plays.
     */
    TrackPlays.prototype.increment = function (track) {
        var _this = this;
        if (!track || this.hasBeenPlayed(track))
            return;
        this.tracks.incrementPlays(track).subscribe(function () {
            track.plays++;
            _this.playedTracks.push(track.id);
        }, function () { });
    };
    /**
     * Clear last track, if it matches specified track.
     * This will allow this track plays to be incremented again.
     */
    TrackPlays.prototype.clearPlayedTrack = function (track) {
        if (!track)
            return;
        this.playedTracks.splice(this.playedTracks.indexOf(track.id), 1);
    };
    /**
     * Check if current user has already incremented plays of specified track.
     */
    TrackPlays.prototype.hasBeenPlayed = function (track) {
        return this.playedTracks.indexOf(track.id) > -1;
    };
    TrackPlays = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__tracks_tracks_service__["a" /* Tracks */]])
    ], TrackPlays);
    return TrackPlays;
}());



/***/ }),

/***/ "./src/app/web-player/playlists/crupdate-playlist-modal/crupdate-playlist-modal.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"backdrop\"></div>\n\n<form class=\"modal-content\" (ngSubmit)=\"confirm()\" ngNativeValidate>\n    <div class=\"modal-header\">\n        <h2 class=\"modal-title\">\n            <span *ngIf=\"!model.id\" trans>New Playlist</span>\n            <span *ngIf=\"model.id\" trans>Update Playlist</span>\n        </h2>\n        <button type=\"button\" (click)=\"close()\" class=\"close-button no-style icon-button\">\n            <svg-icon name=\"close\"></svg-icon>\n        </button>\n    </div>\n    \n    <div class=\"content\">\n        <div class=\"img-container\">\n            <img [src]=\"model.image\">\n            <button class=\"no-style upload-img-button\" type=\"button\" (click)=\"openImageUploadModal()\">\n                <svg-icon name=\"add-a-photo\"></svg-icon>\n            </button>\n        </div>\n\n        <div class=\"many-inputs\">\n            <div class=\"input-container name-input\">\n                <label for=\"playlist-name\" trans>Playlist Name</label>\n                <input type=\"text\" [(ngModel)]=\"model.name\" id=\"playlist-name\" name=\"name\" required min=\"1\" max=\"250\">\n                <div class=\"error\" *ngIf=\"errors.name\">{{errors.name}}</div>\n            </div>\n\n            <div class=\"input-container description-input\">\n                <label for=\"playlist-description\" trans>Playlist Description</label>\n                <textarea [(ngModel)]=\"model.description\" id=\"playlist-description\" name=\"description\" placeholder=\"Give your playlist a catchy description.\" trans-placeholder></textarea>\n                <div class=\"error\" *ngIf=\"errors.description\">{{errors.description}}</div>\n            </div>\n\n            <div class=\"visibility-checkbox\">\n                <input type=\"checkbox\" class=\"pretty-checkbox\" name=\"visibility\" id=\"playlist-visibility\" [(ngModel)]=\"model.public\">\n                <label for=\"playlist-visibility\" trans>Public</label>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"buttons right\">\n        <button (click)=\"close()\" type=\"button\" class=\"button cancel cancel-button\" trans>Close</button>\n        <button type=\"submit\" class=\"button primary submit-button\">\n            <span *ngIf=\"!model.id\" trans>Create</span>\n            <span *ngIf=\"model.id\" trans>Update</span>\n        </button>\n    </div>\n\n    <loading-indicator [isVisible]=\"loading\" class=\"overlay opacity-high\"></loading-indicator>\n</form>"

/***/ }),

/***/ "./src/app/web-player/playlists/crupdate-playlist-modal/crupdate-playlist-modal.component.scss":
/***/ (function(module, exports) {

module.exports = "crupdate-playlist-modal.modal > .modal-content {\n  width: 760px; }\n\ncrupdate-playlist-modal.modal .content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex; }\n\ncrupdate-playlist-modal.modal .content > .img-container {\n    width: 215px;\n    height: 215px;\n    -webkit-box-flex: 0;\n        -ms-flex: 0 0 215px;\n            flex: 0 0 215px;\n    position: relative;\n    margin-right: 15px; }\n\ncrupdate-playlist-modal.modal .content > .img-container:hover > img {\n      -webkit-filter: brightness(0.8);\n              filter: brightness(0.8); }\n\ncrupdate-playlist-modal.modal .content > .img-container > img {\n      width: 100%;\n      height: 100%;\n      -o-object-fit: cover;\n         object-fit: cover;\n      -webkit-transition: -webkit-filter 0.3s;\n      transition: -webkit-filter 0.3s;\n      transition: filter 0.3s;\n      transition: filter 0.3s, -webkit-filter 0.3s; }\n\ncrupdate-playlist-modal.modal .content > .img-container > .upload-img-button {\n      display: block;\n      position: absolute;\n      width: 50px;\n      height: 50px;\n      top: 50%;\n      left: 50%;\n      margin: -25px 0 0 -25px;\n      -webkit-transition: -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n      transition: -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n      transition: transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n      transition: transform 0.3s cubic-bezier(0, 0, 0, 2.41), -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n      border-radius: 50%; }\n\ncrupdate-playlist-modal.modal .content > .img-container > .upload-img-button:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n\ncrupdate-playlist-modal.modal .content > .img-container > .upload-img-button > svg-icon {\n        display: block;\n        width: 100%;\n        height: 100%; }\n\ncrupdate-playlist-modal.modal .content > .many-inputs {\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto; }\n\ncrupdate-playlist-modal.modal .content > .many-inputs > .description-input {\n      margin-bottom: 5px; }\n\ncrupdate-playlist-modal.modal .content > .many-inputs > .description-input > textarea {\n        height: 75px; }\n\n@media only screen and (max-width: 768px) {\n  crupdate-playlist-modal.modal .content {\n    display: block; }\n    crupdate-playlist-modal.modal .content > .img-container {\n      margin-bottom: 15px; }\n  crupdate-playlist-modal.modal > .modal-content {\n    width: 95%; } }\n"

/***/ }),

/***/ "./src/app/web-player/playlists/crupdate-playlist-modal/crupdate-playlist-modal.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CrupdatePlaylistModalComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_modal_base_modal__ = __webpack_require__("./src/app/shared/modal/base-modal.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Playlist__ = __webpack_require__("./src/app/shared/types/models/Playlist.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__playlists_service__ = __webpack_require__("./src/app/web-player/playlists/playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_modal_modal_service__ = __webpack_require__("./src/app/shared/modal/modal.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_upload_file_modal_upload_file_modal_component__ = __webpack_require__("./src/app/shared/upload-file-modal/upload-file-modal.component.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var CrupdatePlaylistModalComponent = (function (_super) {
    __extends(CrupdatePlaylistModalComponent, _super);
    /**
     * NewPlaylistModal Component.
     */
    function CrupdatePlaylistModalComponent(el, renderer, playlists, settings, modal) {
        var _this = _super.call(this, el, renderer) || this;
        _this.el = el;
        _this.renderer = renderer;
        _this.playlists = playlists;
        _this.settings = settings;
        _this.modal = modal;
        /**
         * New playlist model.
         */
        _this.model = new __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Playlist__["a" /* Playlist */]({ 'public': 1 });
        return _this;
    }
    /**
     * Show the modal.
     */
    CrupdatePlaylistModalComponent.prototype.show = function (params) {
        if (params.playlist)
            this.model = Object.assign({}, params.playlist);
        this.setDefaultImageUrl();
        _super.prototype.show.call(this, params);
    };
    /**
     * Close modal and emit crupdated playlist.
     */
    CrupdatePlaylistModalComponent.prototype.confirm = function () {
        var _this = this;
        this.loading = true;
        this.crupdatePlaylist().finally(function () {
            _this.loading = false;
        }).subscribe(function (playlist) {
            _super.prototype.done.call(_this, playlist);
        }, this.handleErrors.bind(this));
    };
    /**
     * Create new playlist or update existing one.
     */
    CrupdatePlaylistModalComponent.prototype.crupdatePlaylist = function () {
        var payload = {
            name: this.model.name,
            image: this.model.image,
            'public': this.model.public,
            description: this.model.description,
        };
        if (this.model.id) {
            return this.playlists.update(this.model.id, payload);
        }
        else {
            return this.playlists.create(payload);
        }
    };
    /**
     * Open modal for uploading playlist image.
     */
    CrupdatePlaylistModalComponent.prototype.openImageUploadModal = function () {
        var _this = this;
        var params = { uri: 'images/static/upload', httpParams: { type: 'playlist' } };
        this.modal.show(__WEBPACK_IMPORTED_MODULE_6__shared_upload_file_modal_upload_file_modal_component__["a" /* UploadFileModalComponent */], params).onDone.subscribe(function (url) {
            _this.model.image = url;
        });
    };
    /**
     * Set default image on model, if it does not already exist.
     */
    CrupdatePlaylistModalComponent.prototype.setDefaultImageUrl = function () {
        if (this.model.image)
            return;
        this.model.image = this.settings.getBaseUrl() + 'assets/images/default/artist_small.jpg';
    };
    CrupdatePlaylistModalComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'crupdate-playlist-modal',
            template: __webpack_require__("./src/app/web-player/playlists/crupdate-playlist-modal/crupdate-playlist-modal.component.html"),
            styles: [__webpack_require__("./src/app/web-player/playlists/crupdate-playlist-modal/crupdate-playlist-modal.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_3__playlists_service__["a" /* Playlists */],
            __WEBPACK_IMPORTED_MODULE_4__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_5__shared_modal_modal_service__["a" /* ModalService */]])
    ], CrupdatePlaylistModalComponent);
    return CrupdatePlaylistModalComponent;
}(__WEBPACK_IMPORTED_MODULE_1__shared_modal_base_modal__["a" /* BaseModalClass */]));



/***/ }),

/***/ "./src/app/web-player/playlists/playlist-context-menu/playlist-context-menu.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"header\" *ngIf=\"getImage()\">\n    <img [src]=\"getImage()\">\n    <div class=\"meta\">\n        <a class=\"primary-name hover-underline\" [routerLink]=\"urls.playlist(item)\">{{item.name}}</a>\n        <a class=\"secondary-name hover-underline\" [routerLink]=\"urls.user(item.editors[0])\"><span trans>By</span> {{item.editors[0]['display_name']}}</a>\n    </div>\n</div>\n\n<div class=\"context-menu-panel primary-panel\" [class.hidden]=\"!activePanelIs('primary')\">\n    <div class=\"panel-body\">\n        <div class=\"menu-item\" *ngIf=\"!userIsCreator() && !userIsFollowing()\" (click)=\"follow()\" trans>Follow</div>\n        <div class=\"menu-item\" *ngIf=\"!userIsCreator() && userIsFollowing()\" (click)=\"unfollow()\" trans>Unfollow</div>\n        <div class=\"menu-item\" *ngIf=\"userIsCreator()\" (click)=\"openEditModal()\" trans>Edit</div>\n        <div class=\"menu-item\" *ngIf=\"userIsCreator()\" (click)=\"maybeDeletePlaylist()\" trans>Delete</div>\n        <div class=\"menu-item\" *ngIf=\"userIsCreator() && !isPublic()\" (click)=\"makePublic()\" trans>Make Public</div>\n        <div class=\"menu-item\" *ngIf=\"userIsCreator() && isPublic()\" (click)=\"makePrivate()\" trans>Make Private</div>\n        <div class=\"menu-item\" (click)=\"copyLinkToClipboard()\" trans>Copy Link</div>\n        <div class=\"menu-item\" *ngIf=\"isPublic()\" (click)=\"openShareModal()\" trans>Share</div>\n    </div>\n</div>\n\n<context-menu-playlist-panel class=\"context-menu-panel\" *ngIf=\"activePanelIs('playlist')\" [tracks]=\"getTracks()\" (close$)=\"openPanel('primary')\"></context-menu-playlist-panel>"

/***/ }),

/***/ "./src/app/web-player/playlists/playlist-context-menu/playlist-context-menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlaylistContextMenuComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__context_menu_context_menu_component__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__playlists_service__ = __webpack_require__("./src/app/web-player/playlists/playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_modal_confirm_modal_confirm_modal_component__ = __webpack_require__("./src/app/shared/modal/confirm-modal/confirm-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__user_playlists_service__ = __webpack_require__("./src/app/web-player/playlists/user-playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__crupdate_playlist_modal_crupdate_playlist_modal_component__ = __webpack_require__("./src/app/web-player/playlists/crupdate-playlist-modal/crupdate-playlist-modal.component.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var PlaylistContextMenuComponent = (function (_super) {
    __extends(PlaylistContextMenuComponent, _super);
    /**
     * PlaylistContextMenuComponent Constructor.
     */
    function PlaylistContextMenuComponent(injector, playlists, userPlaylists) {
        var _this = _super.call(this, injector) || this;
        _this.injector = injector;
        _this.playlists = playlists;
        _this.userPlaylists = userPlaylists;
        return _this;
    }
    PlaylistContextMenuComponent.prototype.getImage = function () {
        return this.item.image || (this.params['extra'] && this.params['extra'].image);
    };
    /**
     * Copy fully qualified playlist url to clipboard.
     */
    PlaylistContextMenuComponent.prototype.copyLinkToClipboard = function () {
        _super.prototype.copyLinkToClipboard.call(this, 'playlist');
    };
    /**
     * Get tracks that should be used by context menu.
     */
    PlaylistContextMenuComponent.prototype.getTracks = function () {
        return [];
    };
    /**
     * Delete the playlist after user confirms.
     */
    PlaylistContextMenuComponent.prototype.maybeDeletePlaylist = function () {
        var _this = this;
        this.contextMenu.close();
        this.modal.show(__WEBPACK_IMPORTED_MODULE_3__shared_modal_confirm_modal_confirm_modal_component__["a" /* ConfirmModalComponent */], {
            title: 'Delete Playlist',
            body: 'Are you sure you want to delete this playlist?',
            ok: 'Delete'
        }).onDone.subscribe(function () {
            _this.contextMenu.close();
            _this.playlists.delete([_this.item.id]).subscribe();
            _this.maybeNavigateFromPlaylistRoute();
        });
    };
    /**
     * Open playlist edit modal.
     */
    PlaylistContextMenuComponent.prototype.openEditModal = function () {
        this.contextMenu.close();
        this.modal.show(__WEBPACK_IMPORTED_MODULE_5__crupdate_playlist_modal_crupdate_playlist_modal_component__["a" /* CrupdatePlaylistModalComponent */], { playlist: this.item });
    };
    /**
     * Check if current user is creator of playlist.
     */
    PlaylistContextMenuComponent.prototype.userIsCreator = function () {
        return this.userPlaylists.isCreator(this.item);
    };
    /**
     * Check if current user is following this playlist.
     */
    PlaylistContextMenuComponent.prototype.userIsFollowing = function () {
        return this.userPlaylists.following(this.item.id);
    };
    /**
     * Follow this playlist with current user.
     */
    PlaylistContextMenuComponent.prototype.follow = function () {
        this.userPlaylists.follow(this.item);
        this.contextMenu.close();
    };
    /**
     * Unfollow this playlist with current user.
     */
    PlaylistContextMenuComponent.prototype.unfollow = function () {
        this.userPlaylists.unfollow(this.item);
        this.contextMenu.close();
    };
    /**
     * Check if playlist is private.
     */
    PlaylistContextMenuComponent.prototype.isPublic = function () {
        return this.item.public;
    };
    /**
     * Make playlist public.
     */
    PlaylistContextMenuComponent.prototype.makePublic = function () {
        var _this = this;
        this.contextMenu.close();
        return this.playlists.update(this.item.id, { 'public': 1 }).subscribe(function () {
            _this.item.public = 1;
        });
    };
    /**
     * Make playlist private.
     */
    PlaylistContextMenuComponent.prototype.makePrivate = function () {
        var _this = this;
        this.contextMenu.close();
        return this.playlists.update(this.item.id, { 'public': 0 }).subscribe(function () {
            _this.item.public = 0;
        });
    };
    /**
     * Navigate from playlist route if current playlist's route is open.
     */
    PlaylistContextMenuComponent.prototype.maybeNavigateFromPlaylistRoute = function () {
        if (this.router.url.indexOf('playlists/' + this.item.id) > -1) {
            this.router.navigate(['/']);
        }
    };
    PlaylistContextMenuComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'playlist-context-menu',
            template: __webpack_require__("./src/app/web-player/playlists/playlist-context-menu/playlist-context-menu.component.html"),
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { 'class': 'context-menu' },
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injector"],
            __WEBPACK_IMPORTED_MODULE_2__playlists_service__["a" /* Playlists */],
            __WEBPACK_IMPORTED_MODULE_4__user_playlists_service__["a" /* UserPlaylists */]])
    ], PlaylistContextMenuComponent);
    return PlaylistContextMenuComponent;
}(__WEBPACK_IMPORTED_MODULE_1__context_menu_context_menu_component__["a" /* ContextMenuComponent */]));



/***/ }),

/***/ "./src/app/web-player/playlists/playlist-item/playlist-item.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"img-container\">\n    <img [src]=\"settings.getDefaultImage('album')\" [lazyLoad]=\"playlist.image\" [scrollTarget]=\"scrollContainer\" class=\"lazy-loaded\">\n    <playback-control-button (play)=\"play()\" (pause)=\"pause()\" [playing]=\"playing()\"></playback-control-button>\n</div>\n<div class=\"footer\">\n    <a class=\"playlist-name primary-text\" [routerLink]=\"urls.playlist(playlist)\">{{playlist.name}}</a>\n    <div class=\"creator-name secondary-text\">\n        <span trans>By</span>\n        <a [routerLink]=\"urls.user(getCreator())\" class=\"hover-underline\">{{getCreator()['display_name']}}</a>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/playlists/playlist-item/playlist-item.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/web-player/playlists/playlist-item/playlist-item.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlaylistItemComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_types_models_Playlist__ = __webpack_require__("./src/app/shared/types/models/Playlist.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__playlist_service__ = __webpack_require__("./src/app/web-player/playlists/playlist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_types_models_User__ = __webpack_require__("./src/app/shared/types/models/User.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var PlaylistItemComponent = (function () {
    /**
     * PlaylistItemComponent Constructor
     */
    function PlaylistItemComponent(urls, player, playlistService, settings) {
        this.urls = urls;
        this.player = player;
        this.playlistService = playlistService;
        this.settings = settings;
    }
    PlaylistItemComponent.prototype.ngOnDestroy = function () {
        this.playlistService.destroy();
    };
    /**
     * Check if playlist is currently playing.
     */
    PlaylistItemComponent.prototype.playing = function () {
        this.playlistService.playing(this.playlist);
    };
    /**
     * Play all playlist's tracks.
     */
    PlaylistItemComponent.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.player.stop();
                        this.player.state.buffering = true;
                        return [4 /*yield*/, this.playlistService.init(this.playlist.id)];
                    case 1:
                        _a.sent();
                        this.playlistService.play();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Pause the playlist.
     */
    PlaylistItemComponent.prototype.pause = function () {
        this.player.pause();
    };
    /**
     * Get creator of playlist.
     */
    PlaylistItemComponent.prototype.getCreator = function () {
        return this.creator || this.playlist.editors[0];
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", HTMLElement)
    ], PlaylistItemComponent.prototype, "scrollContainer", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3__shared_types_models_Playlist__["a" /* Playlist */])
    ], PlaylistItemComponent.prototype, "playlist", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_5__shared_types_models_User__["a" /* User */])
    ], PlaylistItemComponent.prototype, "creator", void 0);
    PlaylistItemComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'playlist-item',
            template: __webpack_require__("./src/app/web-player/playlists/playlist-item/playlist-item.component.html"),
            styles: [__webpack_require__("./src/app/web-player/playlists/playlist-item/playlist-item.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { 'class': 'media-grid-item', '[class.active]': 'playing()' },
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_2__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_4__playlist_service__["a" /* PlaylistService */],
            __WEBPACK_IMPORTED_MODULE_6__shared_settings_service__["a" /* Settings */]])
    ], PlaylistItemComponent);
    return PlaylistItemComponent;
}());



/***/ }),

/***/ "./src/app/web-player/playlists/playlist-track-context-menu/playlist-track-context-menu.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"header\" *ngIf=\"!multipleTracksSelected()\">\n    <img [src]=\"item.album.image\">\n    <div class=\"meta\">\n        <a class=\"primary-name hover-underline\" [routerLink]=\"urls.track(item)\">{{item.name}}</a>\n        <artists-links-list class=\"secondary-name\" [artists]=\"item.artists\"></artists-links-list>\n    </div>\n</div>\n\n<div class=\"context-menu-panel primary-panel\" [class.hidden]=\"!activePanelIs('primary')\">\n    <div class=\"panel-body\">\n        <ng-content></ng-content>\n        <div class=\"menu-item\" (click)=\"goToTrackRadio()\"  *ngIf=\"!multipleTracksSelected()\" trans>Go to Track Radio</div>\n        <div class=\"menu-item\" (click)=\"addToQueue()\" *ngIf=\"!inQueue() || multipleTracksSelected()\" trans>Add to Queue</div>\n        <div class=\"menu-item\" (click)=\"removeFromQueue()\" *ngIf=\"inQueue() && !multipleTracksSelected()\" trans>Remove from Queue</div>\n        <div class=\"menu-item\" (click)=\"removeFromPlaylist()\" trans>Remove from Playlist</div>\n        <div class=\"menu-item\" (click)=\"saveToLibrary()\" *ngIf=\"!inLibrary() || multipleTracksSelected()\" trans>Save to Your Music</div>\n        <div class=\"menu-item\" (click)=\"removeFromLibrary()\" *ngIf=\"inLibrary() && !multipleTracksSelected()\" trans>Remove from Your Music</div>\n        <div class=\"menu-item\" (click)=\"showLyricsModal()\"  *ngIf=\"!multipleTracksSelected()\" trans>Show Lyrics</div>\n        <div class=\"menu-item\" (click)=\"copyLinkToClipboard()\" *ngIf=\"!multipleTracksSelected()\" trans>Copy Track Link</div>\n        <div class=\"menu-item\" (click)=\"openShareModal()\" *ngIf=\"!multipleTracksSelected()\" trans>Share</div>\n        <a class=\"menu-item\"  routerLink=\"admin/tracks\" [queryParams]=\"{track_id: item.id}\" *ngIf=\"currentUser.hasPermission('tracks.update')\" trans>Edit</a>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/playlists/playlist-track-context-menu/playlist-track-context-menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlaylistTrackContextMenuComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__tracks_track_context_menu_track_context_menu_component__ = __webpack_require__("./src/app/web-player/tracks/track-context-menu/track-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__users_user_library_user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__playlist_service__ = __webpack_require__("./src/app/web-player/playlists/playlist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__playlists_service__ = __webpack_require__("./src/app/web-player/playlists/playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lyrics_lyrics_service__ = __webpack_require__("./src/app/web-player/lyrics/lyrics.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var PlaylistTrackContextMenuComponent = (function (_super) {
    __extends(PlaylistTrackContextMenuComponent, _super);
    /**
     * PlaylistTrackContextMenuComponent Constructor.
     */
    function PlaylistTrackContextMenuComponent(player, userLibrary, injector, playlist, playlists, lyrics) {
        var _this = _super.call(this, player, userLibrary, injector, lyrics) || this;
        _this.player = player;
        _this.userLibrary = userLibrary;
        _this.injector = injector;
        _this.playlist = playlist;
        _this.playlists = playlists;
        _this.lyrics = lyrics;
        return _this;
    }
    /**
     * Remove track from currently active playlist.
     */
    PlaylistTrackContextMenuComponent.prototype.removeFromPlaylist = function () {
        this.playlists.removeTracks(this.params.playlistId, this.getTracks()).subscribe();
        this.contextMenu.close();
    };
    PlaylistTrackContextMenuComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'playlist-track-context-menu',
            template: __webpack_require__("./src/app/web-player/playlists/playlist-track-context-menu/playlist-track-context-menu.component.html"),
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { 'class': 'context-menu' },
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_3__users_user_library_user_library_service__["a" /* UserLibrary */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Injector"],
            __WEBPACK_IMPORTED_MODULE_4__playlist_service__["a" /* PlaylistService */],
            __WEBPACK_IMPORTED_MODULE_5__playlists_service__["a" /* Playlists */],
            __WEBPACK_IMPORTED_MODULE_6__lyrics_lyrics_service__["a" /* Lyrics */]])
    ], PlaylistTrackContextMenuComponent);
    return PlaylistTrackContextMenuComponent;
}(__WEBPACK_IMPORTED_MODULE_1__tracks_track_context_menu_track_context_menu_component__["a" /* TrackContextMenuComponent */]));



/***/ }),

/***/ "./src/app/web-player/playlists/playlist.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlaylistService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__playlists_service__ = __webpack_require__("./src/app/web-player/playlists/playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__media_item_service__ = __webpack_require__("./src/app/web-player/media-item.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PlaylistService = (function (_super) {
    __extends(PlaylistService, _super);
    /**
     * PlaylistService Constructor.
     */
    function PlaylistService(playlists, player, settings) {
        var _this = _super.call(this, player) || this;
        _this.playlists = playlists;
        _this.player = player;
        _this.settings = settings;
        return _this;
    }
    PlaylistService.prototype.init = function (id, params) {
        var _this = this;
        if (params === void 0) { params = {}; }
        this.bindToPlaylistEvents();
        return _super.prototype.init.call(this, id, params).then(function (data) {
            _this.totalDuration = data.totalDuration;
            _this.tracksCount = data.playlist.tracks_count;
        });
    };
    /**
     * Get playlist tracks for player queue.
     */
    PlaylistService.prototype.getTracks = function (paginatedData) {
        return paginatedData || this.paginatedData;
    };
    /**
     * Get playlist creator.
     */
    PlaylistService.prototype.getCreator = function () {
        return this.item.editors[0];
    };
    /**
     * Get playlist image or first album image.
     */
    PlaylistService.prototype.getImage = function () {
        if (this.item.image)
            return this.item.image;
        if (this.getTracks().length)
            return this.getTracks()[0].album.image;
        return this.settings.getBaseUrl(true) + 'assets/images/default/artist_small.jpg';
    };
    /**
     * Load playlist from backend.
     */
    PlaylistService.prototype.loadItem = function (id) {
        var _this = this;
        return this.playlists.get(id).toPromise().then(function (response) {
            _this.setItem(response.playlist, response.tracks);
            return response;
        });
    };
    /**
     * Load next playlist tracks page.
     */
    PlaylistService.prototype.loadNextPage = function (id, page) {
        return this.playlists.loadMoreTracks(id, page);
    };
    /**
     * Add or remove tracks from playlist when events are fired.
     */
    PlaylistService.prototype.bindToPlaylistEvents = function () {
        var _this = this;
        //add tracks
        var sub1 = this.playlists.addedTracks$.subscribe(function (data) {
            if (data.id !== _this.item.id)
                return;
            _this.paginatedData = data.tracks.concat(_this.paginatedData);
        });
        //remove tracks
        var sub2 = this.playlists.removedTracks$.subscribe(function (data) {
            if (data.id !== _this.item.id)
                return;
            data.tracks.forEach(function (track) {
                var i = _this.paginatedData.findIndex(function (curr) { return curr.id === track.id; });
                _this.paginatedData.splice(i, 1);
            });
        });
        //update playlist
        var sub3 = this.playlists.updated$.subscribe(function (playlist) {
            _this.item = playlist;
        });
        this.subscriptions = this.subscriptions.concat([sub1, sub2, sub3]);
    };
    PlaylistService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__playlists_service__["a" /* Playlists */],
            __WEBPACK_IMPORTED_MODULE_1__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_4__shared_settings_service__["a" /* Settings */]])
    ], PlaylistService);
    return PlaylistService;
}(__WEBPACK_IMPORTED_MODULE_3__media_item_service__["a" /* MediaItem */]));



/***/ }),

/***/ "./src/app/web-player/playlists/playlist/playlist-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlaylistResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__playlists_service__ = __webpack_require__("./src/app/web-player/playlists/playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__playlist_service__ = __webpack_require__("./src/app/web-player/playlists/playlist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var PlaylistResolver = (function () {
    function PlaylistResolver(playlists, player, settings, router, state) {
        this.playlists = playlists;
        this.player = player;
        this.settings = settings;
        this.router = router;
        this.state = state;
    }
    PlaylistResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        var id = +route.paramMap.get('id');
        var playlist = new __WEBPACK_IMPORTED_MODULE_3__playlist_service__["a" /* PlaylistService */](this.playlists, this.player, this.settings);
        return playlist.init(id).then(function () {
            _this.state.loading = false;
            return playlist;
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    PlaylistResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__playlists_service__["a" /* Playlists */],
            __WEBPACK_IMPORTED_MODULE_4__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_6__web_player_state_service__["a" /* WebPlayerState */]])
    ], PlaylistResolver);
    return PlaylistResolver;
}());



/***/ }),

/***/ "./src/app/web-player/playlists/playlist/playlist.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar infinite-scroll (onInfiniteScroll)=\"playlist.loadMore()\" [infiniteScrollEnabled]=\"playlist.canLoadMore()\">\n    <div class=\"header\" [contextMenu]=\"{item: playlist.get(), type: 'playlist', extra: {image: playlist.getImage()}}\">\n        <img [src]=\"playlist.getImage()\">\n        <div class=\"meta\">\n            <div class=\"playlist-name\">{{playlist.get().name}}</div>\n            <a class=\"playlist-by\" [routerLink]=\"urls.user(playlist.getCreator())\">\n                <img [src]=\"playlist.getCreator().avatar\">\n                <span class=\"name\">{{playlist.getCreator()['display_name']}}</span>\n            </a>\n            <div class=\"description\">{{playlist.get().description}}</div>\n\n            <div class=\"duration-info\">\n                {{playlist.tracksCount}} <span trans>Songs</span>, {{totalDuration}}\n            </div>\n        </div>\n    </div>\n    <div class=\"main-buttons\">\n        <button class=\"no-style play-button\" *ngIf=\"!playlist.playing()\" (click)=\"playlist.play()\">\n            <svg-icon name=\"play-arrow\"></svg-icon>\n            <span trans>Play</span>\n        </button>\n        <button class=\"no-style play-button\" *ngIf=\"playlist.playing()\" (click)=\"playlist.pause()\">\n            <svg-icon name=\"pause\"></svg-icon>\n            <span trans>Pause</span>\n        </button>\n        <button class=\"no-style more-button\" (click)=\"openContextMenu($event)\" trans>More...</button>\n    </div>\n\n    <ad-host slot=\"ad_slot_1\" class=\"margin-bottom\"></ad-host>\n\n    <track-list\n            [tracks]=\"playlist.getTracks()\"\n            [contextMenuParams]=\"{type: 'playlist-track', extra: {playlistId: playlist.get().id}}\"\n            [showArtist]=\"true\"\n            [showAlbum]=\"true\"\n            reorder=\"track-list-row\"\n            (reorder)=\"reorderTracks($event)\"\n            (delete)=\"removeTracksFromPlaylist($event)\"\n    ></track-list>\n</div>"

/***/ }),

/***/ "./src/app/web-player/playlists/playlist/playlist.component.scss":
/***/ (function(module, exports) {

module.exports = "playlist {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto; }\n  playlist > .scroll-container {\n    padding: 25px; }\n  playlist .header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin-bottom: 20px; }\n  playlist .header > img {\n      width: 160px;\n      height: 160px; }\n  playlist .header > .meta {\n      margin-left: 15px; }\n  playlist .header > .meta > .playlist-name {\n        font-size: 4.2rem;\n        font-weight: 300;\n        line-height: 40px;\n        margin-bottom: 5px; }\n  playlist .header > .meta > .playlist-by {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        color: inherit;\n        font-size: 1.54rem;\n        margin-bottom: 20px; }\n  playlist .header > .meta > .playlist-by:hover > .name {\n          text-decoration: underline; }\n  playlist .header > .meta > .playlist-by > img {\n          width: 20px;\n          height: 20px;\n          -o-object-fit: cover;\n             object-fit: cover;\n          margin-right: 5px; }\n  playlist .header > .meta > .duration-info {\n        font-size: 1.5rem;\n        color: #9999a6;\n        margin-top: 20px; }\n  @media only screen and (max-width: 768px) {\n      playlist .header {\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: column;\n                flex-direction: column;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center; }\n        playlist .header > .meta {\n          margin: 10px 0 0; }\n          playlist .header > .meta > .playlist-name {\n            font-size: 2.5rem;\n            line-height: initial; } }\n  playlist .main-buttons {\n    position: relative;\n    margin-bottom: 30px; }\n  @media only screen and (max-width: 768px) {\n      playlist .main-buttons {\n        text-align: center; } }\n  playlist .main-buttons > button {\n      padding: 7px 0;\n      border: 2px solid transparent;\n      border-radius: 25px;\n      color: #fff;\n      text-transform: uppercase;\n      min-width: 110px; }\n  playlist .main-buttons > button.play-button {\n        background-color: #6eac00;\n        border-color: #6eac00;\n        margin-right: 10px; }\n  playlist .main-buttons > button.play-button > svg-icon {\n          width: 16px;\n          height: 16px;\n          display: inline-block;\n          vertical-align: middle; }\n  playlist .main-buttons > button.play-button:hover {\n          background-color: #78bb00; }\n  playlist .main-buttons > button.more-button {\n        background-color: #2a2a35;\n        border: 1px solid rgba(255, 255, 255, 0.1); }\n  playlist .main-buttons > button.more-button:hover {\n          background-color: #353543; }\n"

/***/ }),

/***/ "./src/app/web-player/playlists/playlist/playlist.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlaylistComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_formatted_duration_service__ = __webpack_require__("./src/app/web-player/player/formatted-duration.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__playlist_context_menu_playlist_context_menu_component__ = __webpack_require__("./src/app/web-player/playlists/playlist-context-menu/playlist-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__playlists_service__ = __webpack_require__("./src/app/web-player/playlists/playlists.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var PlaylistComponent = (function () {
    /**
     * PlaylistComponent Constructor.
     */
    function PlaylistComponent(route, urls, duration, contextMenu, playlists, changeDetector) {
        this.route = route;
        this.urls = urls;
        this.duration = duration;
        this.contextMenu = contextMenu;
        this.playlists = playlists;
        this.changeDetector = changeDetector;
    }
    PlaylistComponent.prototype.ngOnInit = function () {
        this.bindToRouterData();
    };
    PlaylistComponent.prototype.ngOnDestroy = function () {
        this.playlist.destroy();
    };
    /**
     * Reorder playlist tracks using specified order.
     */
    PlaylistComponent.prototype.reorderTracks = function (tracks) {
        var _this = this;
        this.playlists.changeTrackOrder(this.playlist.get().id, tracks).subscribe(function () {
            _this.playlist.getTracks().sort(function (a, b) {
                return tracks.indexOf(a.id) - tracks.indexOf(b.id);
            });
            _this.changeDetector.detectChanges();
        });
    };
    /**
     * Remove track from currently active playlist.
     */
    PlaylistComponent.prototype.removeTracksFromPlaylist = function (tracks) {
        this.playlists.removeTracks(this.playlist.get().id, tracks).subscribe();
    };
    /**
     * Open playlist context menu.
     */
    PlaylistComponent.prototype.openContextMenu = function (e) {
        e.stopPropagation();
        this.contextMenu.show(__WEBPACK_IMPORTED_MODULE_5__playlist_context_menu_playlist_context_menu_component__["a" /* PlaylistContextMenuComponent */], { item: this.playlist.get(), extra: { image: this.playlist.getImage() }, type: 'playlist' }, e.target);
    };
    /**
     * Set component playlist from resolver.
     */
    PlaylistComponent.prototype.bindToRouterData = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.playlist = data.playlist;
            _this.totalDuration = _this.duration.toVerboseString(_this.playlist.totalDuration);
        });
    };
    PlaylistComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'playlist',
            template: __webpack_require__("./src/app/web-player/playlists/playlist/playlist.component.html"),
            styles: [__webpack_require__("./src/app/web-player/playlists/playlist/playlist.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_3__player_formatted_duration_service__["a" /* FormattedDuration */],
            __WEBPACK_IMPORTED_MODULE_4__context_menu_context_menu_service__["a" /* ContextMenu */],
            __WEBPACK_IMPORTED_MODULE_6__playlists_service__["a" /* Playlists */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ChangeDetectorRef"]])
    ], PlaylistComponent);
    return PlaylistComponent;
}());



/***/ }),

/***/ "./src/app/web-player/playlists/playlists.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Playlists; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Playlists = (function () {
    /**
     * Playlists Service Constructor.
     */
    function Playlists(http) {
        this.http = http;
        /**
         * Fired when tracks are added to a playlist.
         */
        this.addedTracks$ = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Fired when tracks are removed from a playlist.
         */
        this.removedTracks$ = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Fired when playlist is deleted.
         */
        this.deleted$ = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Fired when existing playlist is updated.
         */
        this.updated$ = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    /**
     * Get all current user playlists.
     */
    Playlists.prototype.allUserPlaylists = function (id) {
        return this.http.get("user/" + id + "/playlists");
    };
    /**
     * Paginate all playlists.
     */
    Playlists.prototype.all = function () {
        return this.http.get('playlists');
    };
    /**
     * Get playlist matching specified id.
     */
    Playlists.prototype.get = function (id) {
        return this.http.get("playlists/" + id);
    };
    /**
     * Create a new playlist.
     */
    Playlists.prototype.create = function (params) {
        if (params === void 0) { params = {}; }
        return this.http.post('playlists', params);
    };
    /**
     * Update specified playlist.
     */
    Playlists.prototype.update = function (id, params) {
        var _this = this;
        if (params === void 0) { params = {}; }
        var request = this.http.put("playlists/" + id, params).share();
        request.subscribe(function (playlist) { return _this.updated$.emit(playlist); }, function () { });
        return request;
    };
    /**
     * Delete specified playlist.
     */
    Playlists.prototype.delete = function (ids) {
        var _this = this;
        var request = this.http.delete('playlists', { ids: ids }).share();
        request.subscribe(function () { return _this.deleted$.emit(ids); }, function () { });
        return request;
    };
    /**
     * Follow specified playlist with current user.
     */
    Playlists.prototype.follow = function (id) {
        return this.http.post("playlists/" + id + "/follow");
    };
    /**
     * Unfollow specified playlist with current user.
     */
    Playlists.prototype.unfollow = function (id) {
        return this.http.post("playlists/" + id + "/unfollow");
    };
    /**
     * Attach specified tracks to playlist.
     */
    Playlists.prototype.addTracks = function (id, tracks) {
        var ids = tracks.map(function (track) { return track.id; });
        this.addedTracks$.emit({ id: id, tracks: tracks });
        return this.http.post("playlists/" + id + "/tracks/add", { ids: ids });
    };
    /**
     * Detach specified track from playlist.
     */
    Playlists.prototype.removeTracks = function (id, tracks) {
        var ids = tracks.map(function (track) { return track.id; });
        this.removedTracks$.emit({ id: id, tracks: tracks });
        return this.http.post("playlists/" + id + "/tracks/remove", { ids: ids });
    };
    /**
     * Load more tracks for specified playlist.
     */
    Playlists.prototype.loadMoreTracks = function (id, page) {
        if (page === void 0) { page = 1; }
        return this.http.get("playlists/" + id + "/tracks", { page: page });
    };
    /**
     * Change the order of playlist tracks.
     */
    Playlists.prototype.changeTrackOrder = function (id, tracks) {
        return this.http.post("playlists/" + id + "/tracks/order", { ids: tracks });
    };
    Playlists = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__["a" /* AppHttpClient */]])
    ], Playlists);
    return Playlists;
}());



/***/ }),

/***/ "./src/app/web-player/playlists/user-playlists.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserPlaylists; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__playlists_service__ = __webpack_require__("./src/app/web-player/playlists/playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var UserPlaylists = (function () {
    /**
     * UserPlaylists Constructor.
     */
    function UserPlaylists(playlistsApi, currentUser) {
        this.playlistsApi = playlistsApi;
        this.currentUser = currentUser;
        /**
         * All user created and followed playlists.
         */
        this.playlists = [];
        this.bindToPlaylistEvents();
    }
    /**
     * Add specified playlists.
     */
    UserPlaylists.prototype.add = function (playlists) {
        var _this = this;
        if (!Array.isArray(playlists))
            playlists = [playlists];
        playlists = playlists.filter(function (playlist) {
            return !_this.playlists.find(function (curr) { return curr.id === playlist.id; });
        });
        this.playlists = playlists.concat(this.playlists);
    };
    /**
     * Remove specified playlist.
     */
    UserPlaylists.prototype.remove = function (playlist) {
        var i = this.playlists.findIndex(function (predicate) { return predicate.id === playlist.id; });
        this.playlists.splice(i, 1);
    };
    /**
     * Get all user playlists.
     */
    UserPlaylists.prototype.get = function () {
        return this.playlists;
    };
    /**
     * Set specified playlists on the service.
     */
    UserPlaylists.prototype.set = function (playlists) {
        if (!playlists)
            playlists = [];
        this.playlists = playlists.slice();
    };
    UserPlaylists.prototype.follow = function (playlist) {
        var _this = this;
        this.playlistsApi.follow(playlist.id).subscribe(function () {
            _this.add(playlist);
        });
    };
    UserPlaylists.prototype.unfollow = function (playlist) {
        var _this = this;
        this.playlistsApi.unfollow(playlist.id).subscribe(function () {
            _this.remove(playlist);
        });
    };
    /**
     * Check if current user is following specified playlist.
     */
    UserPlaylists.prototype.following = function (id) {
        var playlist = this.playlists.find(function (playlist) { return playlist.id === id; });
        //if user is playlist creator, then he is not following it
        return playlist && !this.isCreator(playlist);
    };
    /**
     * Check if current user is creator of specified playlist.
     */
    UserPlaylists.prototype.isCreator = function (playlist) {
        var _this = this;
        if (!playlist || !playlist.editors)
            return false;
        return playlist.editors.findIndex(function (user) { return user.id === _this.currentUser.get('id'); }) > -1;
    };
    /**
     * Reset user playlists service.
     */
    UserPlaylists.prototype.reset = function () {
        this.playlists = [];
    };
    UserPlaylists.prototype.bindToPlaylistEvents = function () {
        var _this = this;
        this.playlistsApi.deleted$.subscribe(function (ids) {
            ids.forEach(function (id) {
                var i = _this.playlists.findIndex(function (playlist) { return playlist.id === id; });
                _this.playlists.splice(i, 1);
            });
        });
    };
    UserPlaylists = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__playlists_service__["a" /* Playlists */], __WEBPACK_IMPORTED_MODULE_2__auth_current_user__["a" /* CurrentUser */]])
    ], UserPlaylists);
    return UserPlaylists;
}());



/***/ }),

/***/ "./src/app/web-player/queue-sidebar/queue-sidebar.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar #scrollContainer>\n    <div class=\"queue-item\" *ngFor=\"let track of queue.getAll(); index as index;\" [class.active]=\"trackIsPlaying(track)\" [contextMenu]=\"{item: track, type: 'track'}\">\n        <div class=\"img-container\" *ngIf=\"track.album\">\n            <img [src]=\"settings.getDefaultImage('album')\" [lazyLoad]=\"track.album.image\" [scrollTarget]=\"scrollContainer\" class=\"lazy-loaded\">\n            <playback-control-button [track]=\"track\" (play)=\"playTrack(track, index)\" (pause)=\"player.pause()\"></playback-control-button>\n        </div>\n        <div class=\"meta\">\n            <div class=\"track-name\">{{track.name}}</div>\n            <div class=\"artist-name\">{{track.artists}}</div>\n        </div>\n        <button class=\"no-style toggle-menu\" (click)=\"showContextMenu(track, $event)\"><svg-icon name=\"more-horiz\"></svg-icon></button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/queue-sidebar/queue-sidebar.component.scss":
/***/ (function(module, exports) {

module.exports = "queue-sidebar {\n  display: block;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 0 250px;\n          flex: 0 0 250px;\n  width: 250px;\n  max-width: 250px;\n  height: calc(100% - 207px);\n  overflow: auto;\n  background-color: #23232C;\n  border-left: 1px solid rgba(255, 255, 255, 0.05);\n  -webkit-transition: -webkit-box-flex 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition: -webkit-box-flex 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition: flex 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition: flex 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), -webkit-box-flex 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), -ms-flex 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); }\n  @media only screen and (max-width: 1199px) {\n    queue-sidebar {\n      position: absolute;\n      top: 0;\n      right: 0;\n      -webkit-box-shadow: 0 9px 11px -5px rgba(0, 0, 0, 0.2), 0 18px 28px 2px rgba(0, 0, 0, 0.14), 0 7px 34px 6px rgba(0, 0, 0, 0.12);\n              box-shadow: 0 9px 11px -5px rgba(0, 0, 0, 0.2), 0 18px 28px 2px rgba(0, 0, 0, 0.14), 0 7px 34px 6px rgba(0, 0, 0, 0.12); } }\n  queue-sidebar.hide {\n    width: 0;\n    -webkit-box-flex: 0;\n        -ms-flex: 0;\n            flex: 0; }\n  queue-sidebar.full-height {\n    height: 100%; }\n  queue-sidebar .queue-item {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    padding: 5px 8px;\n    margin-bottom: 5px;\n    background-color: #2f2f3b;\n    position: relative; }\n  queue-sidebar .queue-item.active {\n      background-color: #6eac00; }\n  queue-sidebar .queue-item.active > .meta > .track-name, queue-sidebar .queue-item.active > .meta > .artist-name {\n        color: #fff; }\n  queue-sidebar .queue-item.active playback-control-button {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex; }\n  queue-sidebar .queue-item:hover playback-control-button {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex; }\n  queue-sidebar .queue-item:hover > .toggle-menu {\n      display: block; }\n  queue-sidebar .queue-item > .img-container {\n      width: 35px;\n      height: 35px;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 35px;\n              flex: 0 0 35px;\n      border-radius: 50%;\n      overflow: hidden;\n      position: relative; }\n  queue-sidebar .queue-item > .img-container > img, queue-sidebar .queue-item > .img-container > playback-control-button {\n        width: 100%;\n        height: 100%;\n        -o-object-fit: cover;\n           object-fit: cover; }\n  queue-sidebar .queue-item > .img-container > playback-control-button {\n        position: absolute;\n        top: 0;\n        left: 0;\n        background-color: rgba(0, 0, 0, 0.5); }\n  queue-sidebar .queue-item > .meta {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      margin-left: 10px;\n      overflow: hidden; }\n  queue-sidebar .queue-item > .meta > .track-name, queue-sidebar .queue-item > .meta > .artist-name {\n        max-width: 190px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis; }\n  queue-sidebar .queue-item > .meta > .track-name {\n        font-size: 1.4rem;\n        color: #C2C2CA; }\n  queue-sidebar .queue-item > .meta > .artist-name {\n        font-size: 1.2rem;\n        color: #898B8C; }\n  queue-sidebar .queue-item > .toggle-menu {\n      display: none; }\n  queue-sidebar .queue-item > .toggle-menu > svg-icon {\n        display: block; }\n"

/***/ }),

/***/ "./src/app/web-player/queue-sidebar/queue-sidebar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return QueueSidebarComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__player_player_queue_service__ = __webpack_require__("./src/app/web-player/player/player-queue.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__queue_sidebar_service__ = __webpack_require__("./src/app/web-player/queue-sidebar/queue-sidebar.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__tracks_track_context_menu_track_context_menu_component__ = __webpack_require__("./src/app/web-player/tracks/track-context-menu/track-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var QueueSidebarComponent = (function () {
    /**
     * QueueSidebarComponent Constructor.
     */
    function QueueSidebarComponent(queue, player, sidebar, contextMenu, settings) {
        this.queue = queue;
        this.player = player;
        this.sidebar = sidebar;
        this.contextMenu = contextMenu;
        this.settings = settings;
    }
    QueueSidebarComponent.prototype.ngOnInit = function () {
        if (this.settings.get('player.hide_queue')) {
            this.sidebar.hide();
        }
    };
    /**
     * Play specified track.
     */
    QueueSidebarComponent.prototype.playTrack = function (track, index) {
        if (this.player.cued(track)) {
            this.player.play();
        }
        else {
            this.player.stop();
            this.queue.set(index);
            this.player.play();
        }
    };
    /**
     * Check if specified track is cued and playing.
     */
    QueueSidebarComponent.prototype.trackIsPlaying = function (track) {
        return this.player.isPlaying() && this.player.cued(track);
    };
    /**
     * Show context menu for specified track.
     */
    QueueSidebarComponent.prototype.showContextMenu = function (track, e) {
        e.stopPropagation();
        this.contextMenu.show(__WEBPACK_IMPORTED_MODULE_5__tracks_track_context_menu_track_context_menu_component__["a" /* TrackContextMenuComponent */], { item: track, type: 'track' }, e.target);
    };
    QueueSidebarComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'queue-sidebar',
            template: __webpack_require__("./src/app/web-player/queue-sidebar/queue-sidebar.component.html"),
            styles: [__webpack_require__("./src/app/web-player/queue-sidebar/queue-sidebar.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { '[class.hide]': '!sidebar.isVisible()' }
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__player_player_queue_service__["a" /* PlayerQueue */],
            __WEBPACK_IMPORTED_MODULE_2__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_3__queue_sidebar_service__["a" /* QueueSidebar */],
            __WEBPACK_IMPORTED_MODULE_4__context_menu_context_menu_service__["a" /* ContextMenu */],
            __WEBPACK_IMPORTED_MODULE_6__shared_settings_service__["a" /* Settings */]])
    ], QueueSidebarComponent);
    return QueueSidebarComponent;
}());



/***/ }),

/***/ "./src/app/web-player/queue-sidebar/queue-sidebar.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return QueueSidebar; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var QueueSidebar = (function () {
    function QueueSidebar() {
        /**
         * Whether queue sidebar is currently visible.
         */
        this.visible = true;
    }
    QueueSidebar.prototype.isVisible = function () {
        return this.visible;
    };
    QueueSidebar.prototype.show = function () {
        this.visible = true;
    };
    QueueSidebar.prototype.hide = function () {
        this.visible = false;
    };
    QueueSidebar.prototype.toggle = function () {
        this.visible = !this.visible;
    };
    QueueSidebar = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], QueueSidebar);
    return QueueSidebar;
}());



/***/ }),

/***/ "./src/app/web-player/radio-page/radio-page-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RadioPageResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__artists_artists_service__ = __webpack_require__("./src/app/web-player/artists/artists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__tracks_tracks_service__ = __webpack_require__("./src/app/web-player/tracks/tracks.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var RadioPageResolver = (function () {
    function RadioPageResolver(artists, tracks, router, state) {
        this.artists = artists;
        this.tracks = tracks;
        this.router = router;
        this.state = state;
    }
    RadioPageResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        var id = +route.paramMap.get('id'), request;
        if (route.data.type === 'artist') {
            request = this.artists.getRadioRecommendations(id);
        }
        else {
            request = this.tracks.getRadioRecommendations(id);
        }
        return request.toPromise().then(function (response) {
            _this.state.loading = false;
            if (response) {
                return response;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    RadioPageResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__artists_artists_service__["a" /* Artists */],
            __WEBPACK_IMPORTED_MODULE_4__tracks_tracks_service__["a" /* Tracks */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__["a" /* WebPlayerState */]])
    ], RadioPageResolver);
    return RadioPageResolver;
}());



/***/ }),

/***/ "./src/app/web-player/radio-page/radio-page.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar>\n    <div class=\"header\">\n        <img [src]=\"getImage()\">\n        <div class=\"meta\">\n            <div class=\"radio-name\">{{seed.name}}</div>\n            <div class=\"radio-type\">{{type}} <span trans>Radio</span></div>\n\n            <div class=\"main-buttons\">\n                <button class=\"no-style play-button\" *ngIf=\"!playing()\" (click)=\"play()\">\n                    <svg-icon name=\"play-arrow\"></svg-icon>\n                    <span trans>Play</span>\n                </button>\n                <button class=\"no-style play-button\" *ngIf=\"playing()\" (click)=\"pause()\">\n                    <svg-icon name=\"pause\"></svg-icon>\n                    <span trans>Pause</span>\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <track-list [tracks]=\"tracks\" [showArtist]=\"true\"></track-list>\n</div>"

/***/ }),

/***/ "./src/app/web-player/radio-page/radio-page.component.scss":
/***/ (function(module, exports) {

module.exports = "radio-page {\n  display: block;\n  width: 100%;\n  height: 100%;\n  min-width: 0; }\n  radio-page > .scroll-container {\n    padding: 25px; }\n  radio-page .header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin-bottom: 30px; }\n  radio-page .header > img {\n      width: 130px;\n      height: 130px;\n      -o-object-fit: cover;\n         object-fit: cover; }\n  radio-page .header > .meta {\n      margin-left: 15px; }\n  radio-page .header > .meta > .radio-name {\n        font-size: 4.2rem;\n        font-weight: 300;\n        line-height: 40px;\n        margin-bottom: 5px; }\n  radio-page .header > .meta > .radio-type {\n        color: #898B8C;\n        font-size: 1.54rem;\n        text-transform: capitalize; }\n  @media only screen and (max-width: 768px) {\n      radio-page .header {\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: column;\n                flex-direction: column;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center; }\n        radio-page .header > .meta {\n          margin: 10px 0 0;\n          text-align: center; }\n          radio-page .header > .meta > .radio-name {\n            font-size: 2.5rem;\n            line-height: initial; } }\n  radio-page .main-buttons {\n    position: relative;\n    margin-top: 25px; }\n  @media only screen and (max-width: 768px) {\n      radio-page .main-buttons {\n        text-align: center; } }\n  radio-page .main-buttons > .play-button {\n      padding: 7px 0;\n      border: 2px solid #6eac00;\n      border-radius: 25px;\n      color: #fff;\n      text-transform: uppercase;\n      min-width: 110px;\n      background-color: #6eac00;\n      margin-right: 10px; }\n  radio-page .main-buttons > .play-button:hover {\n        background-color: #78bb00; }\n  radio-page .main-buttons > .play-button > svg-icon {\n        width: 16px;\n        height: 16px;\n        display: inline-block;\n        vertical-align: middle; }\n"

/***/ }),

/***/ "./src/app/web-player/radio-page/radio-page.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RadioPageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Track__ = __webpack_require__("./src/app/shared/types/models/Track.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var RadioPageComponent = (function () {
    /**
     * RadioPageComponent Constructor.
     */
    function RadioPageComponent(route, player, i18n) {
        this.route = route;
        this.player = player;
        this.i18n = i18n;
    }
    RadioPageComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.seed = data.radio.seed;
            _this.type = _this.i18n.t(data.radio.type);
            _this.tracks = data.radio.recommendations.map(function (track) {
                return new __WEBPACK_IMPORTED_MODULE_2__shared_types_models_Track__["a" /* Track */](track);
            });
        });
    };
    /**
     * Get image for this radio.
     */
    RadioPageComponent.prototype.getImage = function () {
        return this.seed['image_small'] || this.seed['album'].image;
    };
    /**
     * Check if this radio is playing currently.
     */
    RadioPageComponent.prototype.playing = function () {
        return this.player.isPlaying() && this.isQueued();
    };
    /**
     * Play the radio.
     */
    RadioPageComponent.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!this.isQueued()) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.player.overrideQueue({ tracks: this.tracks, queuedItemId: this.getQueueId() })];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this.player.play();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Pause the player.
     */
    RadioPageComponent.prototype.pause = function () {
        this.player.pause();
    };
    /**
     * Get queue ID for this radio.
     */
    RadioPageComponent.prototype.getQueueId = function () {
        return 'radio.' + this.seed.id;
    };
    /**
     * Check if this radio is currently queued in player.
     */
    RadioPageComponent.prototype.isQueued = function () {
        return this.player.queue.itemIsQueued(this.getQueueId());
    };
    RadioPageComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'radio-page',
            template: __webpack_require__("./src/app/web-player/radio-page/radio-page.component.html"),
            styles: [__webpack_require__("./src/app/web-player/radio-page/radio-page.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_3__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_4__shared_translations_translations_service__["a" /* Translations */]])
    ], RadioPageComponent);
    return RadioPageComponent;
}());



/***/ }),

/***/ "./src/app/web-player/search/search-slideout-panel/search-slideout-panel.component.html":
/***/ (function(module, exports) {

module.exports = "<ng-container *ngIf=\"!panel.noResults\">\n    <a [routerLink]=\"['/search', panel.searchQuery.value || '']\" class=\"view-all-link\">\n        <div trans>View All Results...</div>\n        <svg-icon name=\"keyboard-arrow-right\"></svg-icon>\n    </a>\n\n    <div class=\"artist-results\" *ngIf=\"panel.results.artists.length\">\n        <div class=\"result-type\" trans>Artists</div>\n\n        <div class=\"artists\">\n            <div class=\"result-with-image\" *ngFor=\"let artist of panel.results.artists\" [contextMenu]=\"{item: artist, type: 'artist'}\">\n                <a [routerLink]=\"urls.artist(artist)\" class=\"img-container\"><img [src]=\"artist.image_small\"></a>\n                <div class=\"names\">\n                    <a class=\"primary hover-underline\" [routerLink]=\"urls.artist(artist)\">{{artist.name}}</a>\n                    <div class=\"secondary\" trans>Artist</div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"track-results\" *ngIf=\"panel.results.tracks.length\">\n        <div class=\"result-type\" trans>Songs</div>\n\n        <div class=\"tracks\">\n            <div class=\"result-with-image track\" *ngFor=\"let track of panel.results.tracks\" [contextMenu]=\"{item: track, type: 'track'}\" (click)=\"goToTrackPage(track)\">\n                <div class=\"img-container\">\n                    <playback-control-button [track]=\"track\" (play)=\"playTrack(track)\" (pause)=\"pausePlayer()\"></playback-control-button>\n                    <img *ngIf=\"track.album\" [src]=\"track.album.image\">\n                </div>\n                <div class=\"names\">\n                    <a class=\"primary hover-underline\" [routerLink]=\"urls.track(track)\">{{track.name}}</a>\n                    <artists-links-list class=\"secondary\" [artists]=\"track.artists\"></artists-links-list>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"album-results\" *ngIf=\"panel.results.albums.length\">\n        <div class=\"result-type\" trans>Albums</div>\n\n        <div class=\"albums\">\n            <div class=\"result-with-image\" *ngFor=\"let album of panel.results.albums\" [contextMenu]=\"{item: album, type: 'album'}\">\n                <a [routerLink]=\"urls.album(album)\" class=\"img-container\"><img [src]=\"album.image\"></a>\n                <div class=\"names\">\n                    <a class=\"primary hover-underline\" [routerLink]=\"urls.album(album)\">{{album.name}}</a>\n                    <a class=\"secondary hover-underline\" *ngIf=\"album.artist\" [routerLink]=\"urls.artist(album.artist)\">{{album.artist.name}}</a>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"playlist-results\" *ngIf=\"panel.results.playlists.length\">\n        <div class=\"result-type\" trans>Playlists</div>\n\n        <div class=\"playlists\">\n            <div class=\"result-with-image\" *ngFor=\"let playlist of panel.results.playlists\" [contextMenu]=\"{item: playlist, type: 'playlist'}\">\n                <a [routerLink]=\"urls.playlist(playlist)\" class=\"img-container\"><img [src]=\"playlist.image\"></a>\n                <div class=\"names\">\n                    <a class=\"primary hover-underline\" [routerLink]=\"urls.playlist(playlist)\">{{playlist.name}}</a>\n                    <span class=\"secondary\">\n                        <span trans>By</span> <a class=\"hover-underline\" [routerLink]=\"urls.user(playlist.editors[0])\">{{playlist.editors[0]['display_name']}}</a>\n                    </span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"user-results\" *ngIf=\"panel.results.users.length\">\n        <div class=\"result-type\" trans>Users</div>\n\n        <div class=\"users\">\n            <div class=\"result-with-image\" *ngFor=\"let user of panel.results.users\">\n                <a [routerLink]=\"urls.user(user)\" class=\"img-container\"><img [src]=\"user.avatar\"></a>\n                <div class=\"names\">\n                    <a class=\"primary hover-underline\" [routerLink]=\"urls.user(user)\">{{user['display_name']}}</a>\n                    <span class=\"secondary\">{{user.followers_count}} <span trans>Followers</span></span>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<no-results-message *ngIf=\"panel.noResults && !panel.searching\">\n    <span primary-text trans>No results found.</span>\n    <span secondary-text trans>Please check your spelling or try using different keywords.</span>\n</no-results-message>"

/***/ }),

/***/ "./src/app/web-player/search/search-slideout-panel/search-slideout-panel.component.scss":
/***/ (function(module, exports) {

module.exports = "search-slideout-panel {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 220px;\n  width: 365px;\n  height: 100%;\n  background-color: #1e1e26;\n  padding: 20px;\n  overflow: auto;\n  -webkit-transition: -webkit-transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition: -webkit-transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), -webkit-transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n  -webkit-transform: translate3d(-101%, 0, 0);\n          transform: translate3d(-101%, 0, 0);\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n  z-index: 4; }\n  search-slideout-panel.open {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); }\n  @media only screen and (max-width: 768px) {\n    search-slideout-panel {\n      display: none; } }\n  search-slideout-panel > .view-all-link {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    background-color: #272731;\n    border-radius: 3px;\n    padding: 15px;\n    margin-bottom: 25px;\n    font-weight: 500;\n    -webkit-transition: background-color .3s ease;\n    transition: background-color .3s ease;\n    color: inherit; }\n  search-slideout-panel > .view-all-link:hover {\n      background-color: #323240; }\n  search-slideout-panel > .view-all-link > svg-icon {\n      margin-left: auto; }\n  search-slideout-panel .result-type {\n    color: #898B8C;\n    font-size: 1.5rem;\n    font-weight: 400;\n    margin: 20px 0 15px; }\n  search-slideout-panel .result-with-image {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    margin-bottom: 10px; }\n  search-slideout-panel .result-with-image .img-container {\n      display: block;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 auto;\n              flex: 0 0 auto;\n      position: relative; }\n  search-slideout-panel .result-with-image .img-container > playback-control-button {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        visibility: hidden;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        margin: -17.5px 0 0 -17.5px;\n        border: 1px solid rgba(255, 255, 255, 0.6);\n        border-radius: 50%;\n        width: 35px;\n        height: 35px;\n        color: #fff;\n        -webkit-transition: -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n        transition: -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n        transition: transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n        transition: transform 0.3s cubic-bezier(0, 0, 0, 2.41), -webkit-transform 0.3s cubic-bezier(0, 0, 0, 2.41);\n        background-color: transparent;\n        z-index: 1; }\n  search-slideout-panel .result-with-image img {\n      width: 55px;\n      height: 55px;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 55px;\n              flex: 0 0 55px;\n      -o-object-fit: cover;\n         object-fit: cover;\n      -webkit-transition: -webkit-filter 0.3s;\n      transition: -webkit-filter 0.3s;\n      transition: filter 0.3s;\n      transition: filter 0.3s, -webkit-filter 0.3s; }\n  search-slideout-panel .result-with-image > .names {\n      margin-left: 10px;\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden; }\n  search-slideout-panel .result-with-image > .names > .secondary {\n        display: block;\n        color: #898B8C; }\n  search-slideout-panel .tracks > .track {\n    cursor: pointer;\n    width: 100%;\n    background-color: #272731;\n    padding: 7px;\n    border-radius: 4px;\n    margin-bottom: 10px; }\n  search-slideout-panel .tracks > .track:hover {\n      background-color: #292934; }\n  search-slideout-panel .tracks > .track .img-container:hover > img {\n      -webkit-filter: brightness(0.3);\n              filter: brightness(0.3); }\n  search-slideout-panel .tracks > .track .img-container:hover > playback-control-button {\n      visibility: visible;\n      -webkit-transform: scale(1.2);\n              transform: scale(1.2); }\n"

/***/ }),

/***/ "./src/app/web-player/search/search-slideout-panel/search-slideout-panel.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchSlideoutPanelComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__search_slideout_panel_service__ = __webpack_require__("./src/app/web-player/search/search-slideout-panel/search-slideout-panel.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var SearchSlideoutPanelComponent = (function () {
    /**
     * SearchSlideoutPanelComponent Constructor.
     */
    function SearchSlideoutPanelComponent(panel, urls, browserEvents, router, player) {
        this.panel = panel;
        this.urls = urls;
        this.browserEvents = browserEvents;
        this.router = router;
        this.player = player;
        /**
         * Active component subscriptions.
         */
        this.subscriptions = [];
    }
    SearchSlideoutPanelComponent.prototype.ngOnInit = function () {
        this.bindToRouter();
        this.bindToClickEvent();
    };
    SearchSlideoutPanelComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
        this.subscriptions = [];
    };
    /**
     * Play specified track.
     */
    SearchSlideoutPanelComponent.prototype.playTrack = function (track) {
        var _this = this;
        this.player.queue.prepend([track]);
        this.player.cueTrack(track).then(function () {
            _this.player.play();
        });
    };
    /**
     * Pause the player.
     */
    SearchSlideoutPanelComponent.prototype.pausePlayer = function () {
        this.player.pause();
    };
    /**
     * Go to specified track's page.
     */
    SearchSlideoutPanelComponent.prototype.goToTrackPage = function (track) {
        this.router.navigate(this.urls.track(track));
    };
    /**
     * Close search panel when navigation to different route occurs.
     */
    SearchSlideoutPanelComponent.prototype.bindToRouter = function () {
        var _this = this;
        var sub = this.router.events
            .filter(function (e) { return e instanceof __WEBPACK_IMPORTED_MODULE_4__angular_router__["d" /* NavigationStart */]; })
            .subscribe(function () { return _this.panel.close(); });
        this.subscriptions.push(sub);
    };
    /**
     * Close search panel when clicking outside it.
     */
    SearchSlideoutPanelComponent.prototype.bindToClickEvent = function () {
        var _this = this;
        var sub = this.browserEvents.globalClick$.subscribe(function (e) {
            if (!_this.panel.isOpen)
                return;
            var clickedInsidePanel = e.target.closest('search-slideout-panel .panel'), clickedInsideInput = e.target.closest('.search-bar-container'), clickedInsideControls = e.target.closest('player-controls');
            if (!clickedInsidePanel && !clickedInsideInput && !clickedInsideControls) {
                _this.panel.close();
            }
        });
        this.subscriptions.push(sub);
    };
    SearchSlideoutPanelComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'search-slideout-panel',
            template: __webpack_require__("./src/app/web-player/search/search-slideout-panel/search-slideout-panel.component.html"),
            styles: [__webpack_require__("./src/app/web-player/search/search-slideout-panel/search-slideout-panel.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { '[class.open]': 'panel.isOpen' }
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__search_slideout_panel_service__["a" /* SearchSlideoutPanel */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_3__shared_browser_events_service__["a" /* BrowserEvents */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_5__player_player_service__["a" /* Player */]])
    ], SearchSlideoutPanelComponent);
    return SearchSlideoutPanelComponent;
}());



/***/ }),

/***/ "./src/app/web-player/search/search-slideout-panel/search-slideout-panel.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchSlideoutPanel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__search_service__ = __webpack_require__("./src/app/web-player/search/search.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SearchSlideoutPanel = (function () {
    /**
     * SearchSlideoutPanel Service Constructor.
     */
    function SearchSlideoutPanel(search, router) {
        this.search = search;
        this.router = router;
        /**
         * Whether last search request returned any results.
         */
        this.noResults = false;
        /**
         * Whether search in currently in progress.
         */
        this.searching = false;
        /**
         * Whether search panel is currently open.
         */
        this.isOpen = false;
        /**
         * Input for search query.
         */
        this.searchQuery = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["a" /* FormControl */]();
        this.bindToSearchQuery();
        this.results = this.getEmptyResultSet();
    }
    /**
     * Close search panel.
     */
    SearchSlideoutPanel.prototype.close = function () {
        this.searchQuery.reset();
        this.isOpen = false;
        this.results = this.getEmptyResultSet();
    };
    /**
     * Open search panel.
     */
    SearchSlideoutPanel.prototype.open = function () {
        this.isOpen = true;
    };
    /**
     * Navigate to search page.
     */
    SearchSlideoutPanel.prototype.goToSearchPage = function () {
        if (!this.searchQuery.value)
            return;
        this.router.navigate(['/search', this.searchQuery.value]);
    };
    /**
     * Perform a search when user types into search input.
     */
    SearchSlideoutPanel.prototype.bindToSearchQuery = function () {
        var _this = this;
        this.searchQuery.valueChanges
            .debounceTime(400)
            .distinctUntilChanged()
            .switchMap(function (query) {
            _this.searching = true;
            if (!query)
                return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].of(_this.getEmptyResultSet());
            return _this.search.everything(query, { limit: 3 }).catch(function () {
                _this.searching = false;
                return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].of(_this.getEmptyResultSet());
            });
        }).subscribe(function (response) {
            _this.results = response;
            _this.noResults = !_this.responseHasResults(response);
            _this.searching = false;
            if (_this.searchQuery.value)
                _this.open();
        });
    };
    /**
     * Check if search matched any records.
     */
    SearchSlideoutPanel.prototype.responseHasResults = function (response) {
        for (var key in response) {
            if (response[key].length)
                return true;
        }
    };
    /**
     * Return empty result set for search response.
     */
    SearchSlideoutPanel.prototype.getEmptyResultSet = function () {
        return {
            albums: [],
            artists: [],
            tracks: [],
            playlists: [],
            users: [],
        };
    };
    SearchSlideoutPanel = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__search_service__["a" /* Search */], __WEBPACK_IMPORTED_MODULE_4__angular_router__["e" /* Router */]])
    ], SearchSlideoutPanel);
    return SearchSlideoutPanel;
}());



/***/ }),

/***/ "./src/app/web-player/search/search.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Search; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Search = (function () {
    /**
     * Search Service Constructor.
     */
    function Search(http) {
        this.http = http;
    }
    /**
     * Search for artists, albums, tracks, playlists and users.
     */
    Search.prototype.everything = function (query, params) {
        return this.http.get('search/' + encodeURIComponent(query), params);
    };
    /**
     * Search for video ID for specified artist and track.
     */
    Search.prototype.videoId = function (artists, track) {
        var artistName = this.encode(artists), trackName = this.encode(track);
        return this.http.get('search/audio/' + artistName + '/' + trackName);
    };
    Search.prototype.encode = function (string) {
        return encodeURIComponent(string.replace('/', '+'));
    };
    Search = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__["a" /* AppHttpClient */]])
    ], Search);
    return Search;
}());



/***/ }),

/***/ "./src/app/web-player/search/search/search-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__search_service__ = __webpack_require__("./src/app/web-player/search/search.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SearchResolver = (function () {
    function SearchResolver(search, router, state) {
        this.search = search;
        this.router = router;
        this.state = state;
        this.lastSearch = { query: '', results: {} };
    }
    SearchResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        var query = route.paramMap.get('query');
        if (this.lastSearch.query === query) {
            this.state.loading = false;
            return new Promise(function (resolve) { return resolve(_this.lastSearch.results); });
        }
        return this.search.everything(query, { limit: 20 }).toPromise().then(function (results) {
            _this.state.loading = false;
            if (results) {
                _this.lastSearch = { query: query, results: results };
                return results;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    SearchResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__search_service__["a" /* Search */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__["a" /* WebPlayerState */]])
    ], SearchResolver);
    return SearchResolver;
}());



/***/ }),

/***/ "./src/app/web-player/search/search/search-tab-valid.guard.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchTabValidGuard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var SearchTabValidGuard = (function () {
    function SearchTabValidGuard(router, urls) {
        this.router = router;
        this.urls = urls;
        this.validTabs = ['artists', 'albums', 'songs', 'users', 'playlists'];
    }
    SearchTabValidGuard.prototype.canActivate = function (next, state) {
        var valid = this.validTabs.indexOf(next.params.tab) > -1;
        if (!valid)
            this.router.navigate(this.urls.search(next.params.query));
        return valid;
    };
    SearchTabValidGuard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */], __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__["a" /* WebPlayerUrls */]])
    ], SearchTabValidGuard);
    return SearchTabValidGuard;
}());



/***/ }),

/***/ "./src/app/web-player/search/search/search.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar #scrollContainer>\n    <div class=\"input-container search-input-container\" *ngIf=\"state.isMobile\">\n        <input type=\"search\" trans-placeholder placeholder=\"Search...\" [formControl]=\"searchControl\">\n\n        <svg-icon name=\"search\" [class.hidden]=\"searching || searchControl.value\"></svg-icon>\n\n        <button type=\"button\" class=\"no-style\" (click)=\"clearSearch()\">\n            <svg-icon name=\"close\" [class.hidden]=\"searching || ! searchControl.value\"></svg-icon>\n        </button>\n\n        <loading-indicator [isVisible]=\"searching\"></loading-indicator>\n    </div>\n\n    <ad-host slot=\"ad_slot_1\" class=\"margin-top\"></ad-host>\n\n    <div class=\"main-header\" *ngIf=\"hasResults()\">\n        <div class=\"title\" *ngIf=\"!state.isMobile\">\n            <span trans>Search results for</span>\n            <span>« {{searchTerm}} »</span>\n        </div>\n        <div class=\"tab-nav\">\n            <a class=\"tab-nav-item\" [routerLink]=\"getRouterLink()\" [class.active]=\"activeTabIs('topResults')\" trans>Top Results</a>\n            <a class=\"tab-nav-item\" *ngIf=\"results.artists.length\" [routerLink]=\"getRouterLink('artists')\" [class.active]=\"activeTabIs('artists')\" trans>Artists</a>\n            <a class=\"tab-nav-item\" *ngIf=\"results.tracks.length\" [routerLink]=\"getRouterLink('songs')\" [class.active]=\"activeTabIs('songs')\" trans>Songs</a>\n            <a class=\"tab-nav-item\" *ngIf=\"results.albums.length\" [routerLink]=\"getRouterLink('albums')\" [class.active]=\"activeTabIs('albums')\" trans>Albums</a>\n            <a class=\"tab-nav-item\" *ngIf=\"results.playlists.length\" [routerLink]=\"getRouterLink('playlists')\" [class.active]=\"activeTabIs('playlists')\" trans>Playlists</a>\n            <a class=\"tab-nav-item\" *ngIf=\"results.users.length\" [routerLink]=\"getRouterLink('users')\" [class.active]=\"activeTabIs('users')\" trans>Users</a>\n        </div>\n    </div>\n\n    <section class=\"tabs\">\n        <div class=\"tab top-results-tab\" *ngIf=\"activeTabIs('topResults') && hasResults()\">\n            <track-list [tracks]=\"results.tracks.slice(0, 5)\" [showAlbum]=\"true\" [showArtist]=\"true\" *ngIf=\"results.tracks.length\"></track-list>\n\n            <div class=\"top-results-row\" *ngIf=\"results.artists.length\">\n                <div class=\"header\">\n                    <div class=\"title\" trans>Artists</div>\n                    <a class=\"link hover-underline\" [routerLink]=\"getRouterLink('artists')\" *ngIf=\"results.users.length > 5\">(See all {{results.artists.length}})</a>\n                </div>\n                <media-grid class=\"artists-row\">\n                    <artist-item *ngFor=\"let artist of results.artists.slice(0, 5)\" [artist]=\"artist\" [contextMenu]=\"{item: artist, type: 'artist'}\" [scrollContainer]=\"scrollContainer\"></artist-item>\n                </media-grid>\n            </div>\n\n            <div class=\"top-results-row\" *ngIf=\"results.albums.length\">\n                <div class=\"header\">\n                    <div class=\"title\" trans>Albums</div>\n                    <a class=\"link hover-underline\" [routerLink]=\"getRouterLink('albums')\" *ngIf=\"results.users.length > 5\">(See all {{results.albums.length}})</a>\n                </div>\n                <media-grid class=\"albums-row\">\n                    <album-item *ngFor=\"let album of results.albums.slice(0, 5)\" [album]=\"album\" [contextMenu]=\"{item: album, type: 'album'}\" [scrollContainer]=\"scrollContainer\"></album-item>\n                </media-grid>\n            </div>\n\n            <div class=\"top-results-row\" *ngIf=\"results.playlists.length\">\n                <div class=\"header\">\n                    <div class=\"title\" trans>Playlists</div>\n                    <a class=\"link hover-underline\" [routerLink]=\"getRouterLink('playlists')\" *ngIf=\"results.users.length > 5\">(See all {{results.playlists.length}})</a>\n                </div>\n                <media-grid class=\"playlists-row\">\n                    <playlist-item *ngFor=\"let playlist of results.playlists.slice(0, 5)\" [playlist]=\"playlist\" [contextMenu]=\"{item: playlist, type: 'playlist'}\" [scrollContainer]=\"scrollContainer\"></playlist-item>\n                </media-grid>\n            </div>\n\n            <div class=\"top-results-row\" *ngIf=\"results.users.length\">\n                <div class=\"header\">\n                    <div class=\"title\" trans>Users</div>\n                    <a class=\"link hover-underline\" [routerLink]=\"getRouterLink('users')\" *ngIf=\"results.users.length > 5\">(See all {{results.users.length}})</a>\n                </div>\n                <media-grid class=\"users-row\">\n                    <user-item *ngFor=\"let user of results.users.slice(0, 5)\" [user]=\"user\" [contextMenu]=\"{item: user, type: 'user'}\" [scrollContainer]=\"scrollContainer\"></user-item>\n                </media-grid>\n            </div>\n        </div>\n\n        <media-grid class=\"tab artists-tab\" *ngIf=\"activeTabIs('artists')\">\n            <artist-item *ngFor=\"let artist of results.artists\" [artist]=\"artist\" [contextMenu]=\"{item: artist, type: 'artist'}\" [scrollContainer]=\"scrollContainer\"></artist-item>\n        </media-grid>\n\n        <div class=\"tab songs-tab\" *ngIf=\"activeTabIs('songs')\">\n            <track-list [tracks]=\"results.tracks\"></track-list>\n        </div>\n\n        <media-grid class=\"tab albums-tab\" *ngIf=\"activeTabIs('albums')\">\n            <album-item *ngFor=\"let album of results.albums\" [album]=\"album\" [contextMenu]=\"{item: album, type: 'album'}\" [scrollContainer]=\"scrollContainer\"></album-item>\n        </media-grid>\n\n        <media-grid class=\"tab playlists-tab\" *ngIf=\"activeTabIs('playlists')\">\n            <playlist-item *ngFor=\"let playlist of results.playlists\" [playlist]=\"playlist\" [contextMenu]=\"{item: playlist, type: 'playlist'}\" [scrollContainer]=\"scrollContainer\"></playlist-item>\n        </media-grid>\n\n        <media-grid class=\"tab users-tab\" *ngIf=\"activeTabIs('users')\">\n            <user-item *ngFor=\"let user of results.users\" [user]=\"user\" [contextMenu]=\"{item: user, type: 'user'}\" [scrollContainer]=\"scrollContainer\"></user-item>\n        </media-grid>\n    </section>\n\n    <no-results-message *ngIf=\"!hasResults() && hasSearchTerm() && searchedOnce\">\n        <span primary-text><span trans>No results for</span> « {{searchControl.value}} »</span>\n        <span secondary-text trans>Please check your spelling or try using different keywords.</span>\n    </no-results-message>\n\n    <no-results-message *ngIf=\"state.isMobile && (!hasSearchTerm() || !searchedOnce)\">\n        <span primary-text><span trans>Search</span> {{settings.get('branding.site_name')}}</span>\n        <span secondary-text trans>Find artists, albums, songs, playlists and more.</span>\n    </no-results-message>\n\n    <ad-host slot=\"ad_slot_2\" class=\"margin-top margin-bottom\"></ad-host>\n</div>"

/***/ }),

/***/ "./src/app/web-player/search/search/search.component.scss":
/***/ (function(module, exports) {

module.exports = "search {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto; }\n  search .main-header {\n    padding: 25px; }\n  search .main-header > .title {\n      margin-bottom: 35px;\n      font-size: 2.8rem;\n      font-weight: 300; }\n  search .main-header > .tab-nav {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      border-bottom: 1px solid rgba(255, 255, 255, 0.05); }\n  search .main-header > .tab-nav > .tab-nav-item {\n        padding: 10px 15px;\n        border-bottom: 3px solid transparent;\n        color: inherit;\n        white-space: nowrap; }\n  search .main-header > .tab-nav > .tab-nav-item.active {\n          border-color: #6eac00; }\n  search .tabs {\n    padding: 0 25px; }\n  search .tabs media-grid {\n      padding: 0; }\n  search .top-results-row > .artists-row, search .top-results-row .albums-row {\n    margin: 0 -10px; }\n  search .top-results-row > .header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin-top: 35px;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.05); }\n  search .top-results-row > .header > .title {\n      font-size: 2.8rem;\n      font-weight: 300; }\n  search .top-results-row > .header > .link {\n      display: block;\n      color: #898B8C;\n      font-size: 1.6rem;\n      margin-left: auto;\n      -ms-flex-item-align: end;\n          align-self: flex-end;\n      padding-bottom: 3px; }\n  search no-results-message {\n    width: 100%;\n    height: 100%; }\n  search no-results-message > .text > .main {\n      font-size: 4.5rem; }\n  search no-results-message > .text > .secondary {\n      font-size: 2rem; }\n  @media only screen and (max-width: 768px) {\n      search no-results-message {\n        height: calc(100% - 60px); }\n        search no-results-message > .text > .main {\n          font-size: 3.6rem;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis; }\n        search no-results-message > .text > .secondary {\n          font-size: 1.6rem; } }\n  search .search-input-container {\n    position: relative;\n    padding: 15px 15px 0; }\n  search .search-input-container > input {\n      background-color: #2a2a35;\n      padding: 0 30px 0 10px;\n      border-radius: 5px;\n      border: none;\n      height: 45px;\n      color: inherit; }\n  search .search-input-container > input:active, search .search-input-container > input:focus {\n        outline-color: rgba(255, 255, 255, 0.05); }\n  search .search-input-container > svg-icon, search .search-input-container > button {\n      position: absolute;\n      top: 25px;\n      right: 20px; }\n  search .search-input-container > loading-indicator {\n      position: absolute;\n      top: 25px;\n      right: 25px;\n      width: 20px;\n      height: 20px;\n      background-color: transparent;\n      overflow: hidden; }\n  search .search-input-container > loading-indicator > .spinner {\n        width: 20px;\n        height: 20px; }\n  search .search-input-container > loading-indicator .rect {\n        width: 4px; }\n"

/***/ }),

/***/ "./src/app/web-player/search/search/search.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__search_service__ = __webpack_require__("./src/app/web-player/search/search.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var SearchComponent = (function () {
    /**
     * SearchComponent Constructor.
     */
    function SearchComponent(route, urls, search, state, settings) {
        this.route = route;
        this.urls = urls;
        this.search = search;
        this.state = state;
        this.settings = settings;
        /**
         * Whether search is currently in progress.
         */
        this.searching = false;
        /**
         * Whether search was already performed at least once.
         */
        this.searchedOnce = false;
        /**
         * Currently active search page tab.
         */
        this.activeTab = 'topResults';
        /**
         * Search input control.
         */
        this.searchControl = new __WEBPACK_IMPORTED_MODULE_3__angular_forms__["a" /* FormControl */]();
    }
    SearchComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.results = data.results;
        });
        this.route.params.subscribe(function (params) {
            _this.searchTerm = params.query;
            _this.searchControl.setValue(_this.searchTerm, { emitEvent: false });
            _this.activeTab = params.tab || 'topResults';
            if (_this.searchTerm)
                _this.searchedOnce = true;
        });
        this.bindToSearchQuery();
    };
    SearchComponent.prototype.activeTabIs = function (name) {
        return this.activeTab === name;
    };
    /**
     * Get router link for specified search tab.
     */
    SearchComponent.prototype.getRouterLink = function (tab) {
        return this.urls.search(this.searchControl.value, tab);
    };
    /**
     * Check if any results have been found.
     */
    SearchComponent.prototype.hasResults = function () {
        if (!this.results || !Object.keys(this.results))
            return false;
        for (var type in this.results) {
            if (this.results[type].length)
                return true;
        }
    };
    /**
     * Check if there's a search term.
     */
    SearchComponent.prototype.hasSearchTerm = function () {
        return this.searchTerm || this.searchControl.value;
    };
    /**
     * Clear current search and input.
     */
    SearchComponent.prototype.clearSearch = function () {
        this.searchControl.setValue(null);
        this.searchTerm = null;
    };
    /**
     * Perform a search when user types into search input.
     */
    SearchComponent.prototype.bindToSearchQuery = function () {
        var _this = this;
        this.searchControl.valueChanges
            .debounceTime(400)
            .distinctUntilChanged()
            .switchMap(function (query) {
            _this.searching = true;
            if (!query)
                return __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].of(_this.getEmptyResults());
            return _this.search.everything(query, { limit: 20 });
        }).catch(function () {
            return __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].of(_this.getEmptyResults());
        }).subscribe(function (response) {
            _this.results = response || _this.getEmptyResults();
            _this.searching = false;
            _this.searchedOnce = true;
        });
    };
    /**
     * Get empty search results set.
     */
    SearchComponent.prototype.getEmptyResults = function () {
        return {
            artists: [],
            albums: [],
            tracks: [],
            playlists: [],
            users: [],
        };
    };
    SearchComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'search',
            template: __webpack_require__("./src/app/web-player/search/search/search.component.html"),
            styles: [__webpack_require__("./src/app/web-player/search/search/search.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_5__search_service__["a" /* Search */],
            __WEBPACK_IMPORTED_MODULE_6__web_player_state_service__["a" /* WebPlayerState */],
            __WEBPACK_IMPORTED_MODULE_7__shared_settings_service__["a" /* Settings */]])
    ], SearchComponent);
    return SearchComponent;
}());



/***/ }),

/***/ "./src/app/web-player/tracks/top-tracks-page/top-tracks-page-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TopTracksPageResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tracks_service__ = __webpack_require__("./src/app/web-player/tracks/tracks.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var TopTracksPageResolver = (function () {
    function TopTracksPageResolver(tracks, router, state) {
        this.tracks = tracks;
        this.router = router;
        this.state = state;
    }
    TopTracksPageResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        return this.tracks.getTop().toPromise().then(function (tracks) {
            _this.state.loading = false;
            if (tracks) {
                return tracks;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    TopTracksPageResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__tracks_service__["a" /* Tracks */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__["a" /* WebPlayerState */]])
    ], TopTracksPageResolver);
    return TopTracksPageResolver;
}());



/***/ }),

/***/ "./src/app/web-player/tracks/top-tracks-page/top-tracks-page.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar>\n    <filterable-page-header [filterQuery]=\"filterQuery\" class=\"margin\">\n        <span trans>Top 50</span>\n    </filterable-page-header>\n\n    <ad-host slot=\"ad_slot_1\"></ad-host>\n\n    <track-list [tracks]=\"filteredItems\" [showAlbum]=\"true\" [showArtist]=\"true\"></track-list>\n\n    <no-results-message *ngIf=\"!filteredItems || ! filteredItems.length\">\n        <span primary-text trans>No charts found.</span>\n        <span secondary-text trans>Could not find charts. Please try again later.</span>\n    </no-results-message>\n\n    <ad-host slot=\"ad_slot_1\" class=\"margin-bottom\"></ad-host>\n</div>"

/***/ }),

/***/ "./src/app/web-player/tracks/top-tracks-page/top-tracks-page.component.scss":
/***/ (function(module, exports) {

module.exports = "top-tracks-page {\n  display: block;\n  width: 100%;\n  height: 100%;\n  min-width: 0; }\n  top-tracks-page track-list {\n    padding: 20px; }\n"

/***/ }),

/***/ "./src/app/web-player/tracks/top-tracks-page/top-tracks-page.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TopTracksPageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__filterable_page_filterable_page__ = __webpack_require__("./src/app/web-player/filterable-page/filterable-page.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TopTracksPageComponent = (function (_super) {
    __extends(TopTracksPageComponent, _super);
    /**
     * TopTracksPageComponent Constructor.
     */
    function TopTracksPageComponent(route) {
        var _this = _super.call(this, ['name', 'album.name', 'album.artist.name']) || this;
        _this.route = route;
        return _this;
    }
    TopTracksPageComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.setItems(data.tracks);
        });
    };
    TopTracksPageComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'top-tracks-page',
            template: __webpack_require__("./src/app/web-player/tracks/top-tracks-page/top-tracks-page.component.html"),
            styles: [__webpack_require__("./src/app/web-player/tracks/top-tracks-page/top-tracks-page.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */]])
    ], TopTracksPageComponent);
    return TopTracksPageComponent;
}(__WEBPACK_IMPORTED_MODULE_1__filterable_page_filterable_page__["a" /* FilterablePage */]));



/***/ }),

/***/ "./src/app/web-player/tracks/track-context-menu/track-context-menu.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"header\" *ngIf=\"!multipleTracksSelected()\">\n    <img [src]=\"getImage()\">\n    <div class=\"meta\">\n        <a class=\"primary-name hover-underline\" [routerLink]=\"urls.track(item)\">{{item.name}}</a>\n        <artists-links-list class=\"secondary-name\" [artists]=\"item.artists\"></artists-links-list>\n    </div>\n</div>\n\n<div class=\"context-menu-panel primary-panel\" [class.hidden]=\"!activePanelIs('primary')\">\n    <div class=\"panel-body\">\n        <ng-content></ng-content>\n        <div class=\"menu-item\" (click)=\"goToTrackRadio()\"  *ngIf=\"!multipleTracksSelected()\" trans>Go to Track Radio</div>\n        <div class=\"menu-item\" (click)=\"addToQueue()\" *ngIf=\"!inQueue() || multipleTracksSelected()\" trans>Add to Queue</div>\n        <div class=\"menu-item\" (click)=\"removeFromQueue()\" *ngIf=\"inQueue() && !multipleTracksSelected()\" trans>Remove from Queue</div>\n        <div class=\"menu-item\" (click)=\"openPanel('playlist')\"><span trans>Add to Playlist</span> <svg-icon name=\"keyboard-arrow-right\"></svg-icon></div>\n        <div class=\"menu-item\" (click)=\"saveToLibrary()\" *ngIf=\"!inLibrary() || multipleTracksSelected()\" trans>Save to Your Music</div>\n        <div class=\"menu-item\" (click)=\"removeFromLibrary()\" *ngIf=\"inLibrary() && !multipleTracksSelected()\" trans>Remove from Your Music</div>\n        <div class=\"menu-item\" (click)=\"showLyricsModal()\"  *ngIf=\"!multipleTracksSelected()\" trans>Show Lyrics</div>\n        <div class=\"menu-item\" (click)=\"copyLinkToClipboard()\" *ngIf=\"!multipleTracksSelected()\" trans>Copy Track Link</div>\n        <div class=\"menu-item\" (click)=\"openShareModal()\" *ngIf=\"!multipleTracksSelected()\" trans>Share</div>\n        <a class=\"menu-item\"  routerLink=\"admin/tracks\" [queryParams]=\"{track_id: item.id}\" *ngIf=\"currentUser.hasPermission('tracks.update')\" trans>Edit</a>\n    </div>\n</div>\n\n<context-menu-playlist-panel class=\"context-menu-panel\" [class.hidden]=\"!activePanelIs('playlist')\" [tracks]=\"getTracks()\" (close$)=\"openPanel('primary')\"></context-menu-playlist-panel>"

/***/ }),

/***/ "./src/app/web-player/tracks/track-context-menu/track-context-menu.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/web-player/tracks/track-context-menu/track-context-menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TrackContextMenuComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__context_menu_context_menu_component__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__users_user_library_user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lyrics_lyrics_service__ = __webpack_require__("./src/app/web-player/lyrics/lyrics.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lyrics_lyrics_modal_lyrics_modal_component__ = __webpack_require__("./src/app/web-player/lyrics/lyrics-modal/lyrics-modal.component.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TrackContextMenuComponent = (function (_super) {
    __extends(TrackContextMenuComponent, _super);
    /**
     * TrackContextMenuComponent Constructor.
     */
    function TrackContextMenuComponent(player, library, injector, lyrics) {
        var _this = _super.call(this, injector) || this;
        _this.player = player;
        _this.library = library;
        _this.injector = injector;
        _this.lyrics = lyrics;
        return _this;
    }
    /**
     * Check if this track is in player queue.
     */
    TrackContextMenuComponent.prototype.inQueue = function () {
        return this.player.queue.has(this.item);
    };
    /**
     * Remove track from player queue.
     */
    TrackContextMenuComponent.prototype.removeFromQueue = function () {
        this.player.queue.remove(this.item);
        this.contextMenu.close();
    };
    /**
     * Check if track is in user's library.
     */
    TrackContextMenuComponent.prototype.inLibrary = function () {
        return this.library.has(this.item);
    };
    /**
     * Remove track from user's library.
     */
    TrackContextMenuComponent.prototype.removeFromLibrary = function () {
        this.library.remove(this.getTracks());
        this.contextMenu.close();
    };
    /**
     * Copy fully qualified album url to clipboard.
     */
    TrackContextMenuComponent.prototype.copyLinkToClipboard = function () {
        _super.prototype.copyLinkToClipboard.call(this, 'track');
    };
    /**
     * Check if multiple tracks are selected in track list.
     */
    TrackContextMenuComponent.prototype.multipleTracksSelected = function () {
        return this.params.selectedTracks && this.params.selectedTracks.all().length > 1;
    };
    /**
     * Get tracks that should be used by context menu.
     */
    TrackContextMenuComponent.prototype.getTracks = function () {
        return this.getSelectedTracks() || [this.item];
    };
    /**
     * Go to track radio route.
     */
    TrackContextMenuComponent.prototype.goToTrackRadio = function () {
        this.contextMenu.close();
        this.router.navigate(this.urls.trackRadio(this.item));
    };
    /**
     * Fetch lyrics and show lyrics modal.
     */
    TrackContextMenuComponent.prototype.showLyricsModal = function () {
        var _this = this;
        this.state.loading = true;
        this.lyrics.get(this.item.id).finally(function () {
            _this.state.loading = false;
        }).subscribe(function (lyric) {
            _this.modal.show(__WEBPACK_IMPORTED_MODULE_5__lyrics_lyrics_modal_lyrics_modal_component__["a" /* LyricsModalComponent */], { lyrics: lyric.text });
        }, function () {
            _this.toast.show('Could not find lyrics for this song.');
        });
    };
    /**
     * Get image for context menu.
     */
    TrackContextMenuComponent.prototype.getImage = function () {
        if (!this.item.album)
            return this.settings.getDefaultImage('album');
        return this.item.album.image;
    };
    /**
     * Get currently selected tracks, if any.
     */
    TrackContextMenuComponent.prototype.getSelectedTracks = function () {
        if (!this.params.selectedTracks || this.params.selectedTracks.all().length <= 1)
            return;
        return this.params.selectedTracks.all();
    };
    TrackContextMenuComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'track-context-menu',
            template: __webpack_require__("./src/app/web-player/tracks/track-context-menu/track-context-menu.component.html"),
            styles: [__webpack_require__("./src/app/web-player/tracks/track-context-menu/track-context-menu.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { 'class': 'context-menu' },
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_3__users_user_library_user_library_service__["a" /* UserLibrary */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Injector"],
            __WEBPACK_IMPORTED_MODULE_4__lyrics_lyrics_service__["a" /* Lyrics */]])
    ], TrackContextMenuComponent);
    return TrackContextMenuComponent;
}(__WEBPACK_IMPORTED_MODULE_1__context_menu_context_menu_component__["a" /* ContextMenuComponent */]));



/***/ }),

/***/ "./src/app/web-player/tracks/track-list/playing-indicator/playing-indicator.component.html":
/***/ (function(module, exports) {

module.exports = "<svg-icon name=\"volume-up\"></svg-icon>"

/***/ }),

/***/ "./src/app/web-player/tracks/track-list/playing-indicator/playing-indicator.component.scss":
/***/ (function(module, exports) {

module.exports = "playing-indicator {\n  display: block;\n  width: 20px;\n  height: 20px; }\n  playing-indicator > svg-icon {\n    display: block;\n    width: inherit;\n    height: inherit; }\n"

/***/ }),

/***/ "./src/app/web-player/tracks/track-list/playing-indicator/playing-indicator.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlayingIndicatorComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var PlayingIndicatorComponent = (function () {
    function PlayingIndicatorComponent() {
    }
    PlayingIndicatorComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'playing-indicator',
            template: __webpack_require__("./src/app/web-player/tracks/track-list/playing-indicator/playing-indicator.component.html"),
            styles: [__webpack_require__("./src/app/web-player/tracks/track-list/playing-indicator/playing-indicator.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        })
    ], PlayingIndicatorComponent);
    return PlayingIndicatorComponent;
}());



/***/ }),

/***/ "./src/app/web-player/tracks/track-list/selected-tracks.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelectedTracks; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var SelectedTracks = (function () {
    function SelectedTracks() {
        /**
         * Current selected tracks.
         */
        this.tracks = [];
    }
    /**
     * Check if specified track is selected.
     */
    SelectedTracks.prototype.has = function (track) {
        return this.tracks.findIndex(function (curr) { return curr.id === track.id; }) > -1;
    };
    /**
     * Check if there are no selected tracks currently.
     */
    SelectedTracks.prototype.empty = function () {
        return this.tracks.length === 0;
    };
    /**
     * Add track if it is not selected already, otherwise remove it.
     */
    SelectedTracks.prototype.toggle = function (track) {
        if (this.has(track)) {
            this.remove(track);
        }
        else {
            this.add(track);
        }
    };
    /**
     * Select specified track.
     */
    SelectedTracks.prototype.add = function (track) {
        if (this.has(track))
            return;
        this.tracks.push(track);
    };
    /**
     * Remove selected track.
     */
    SelectedTracks.prototype.remove = function (track) {
        var i = this.tracks.findIndex(function (curr) { return curr.id === track.id; });
        this.tracks.splice(i, 1);
    };
    /**
     * Clear all selected tracks.
     */
    SelectedTracks.prototype.clear = function () {
        this.tracks = [];
    };
    /**
     * Return all selected tracks.
     */
    SelectedTracks.prototype.all = function () {
        return this.tracks;
    };
    SelectedTracks = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], SelectedTracks);
    return SelectedTracks;
}());



/***/ }),

/***/ "./src/app/web-player/tracks/track-list/track-list.component.html":
/***/ (function(module, exports) {

module.exports = "<ng-container *ngIf=\"!state.isMobile\">\n    <div class=\"track-list-row track-list-header\" *ngIf=\"showHeader\">\n        <div class=\"track-list-column track-number\">#</div>\n        <div class=\"track-list-column track-action\"></div>\n        <div class=\"track-list-column track-name\" trans>Song</div>\n        <div class=\"track-list-column toggle-menu\"></div>\n        <div class=\"track-list-column artist-name\" *ngIf=\"showArtist\" trans>Artist</div>\n        <div class=\"track-list-column album-name\" *ngIf=\"showAlbum\" trans>Album</div>\n        <div class=\"track-list-column added-at\" *ngIf=\"showAddedAt\"><svg-icon name=\"date-range\"></svg-icon></div>\n        <div class=\"track-list-column track-duration\"><svg-icon name=\"access-time\"></svg-icon></div>\n        <div class=\"track-list-column track-popularity\" *ngIf=\"showPopularity\"><svg-icon name=\"trending-up\"></svg-icon></div>\n    </div>\n\n    <div class=\"track-list-row track-list-item\"\n         *ngFor=\"let track of tracks; index as index;\"\n         [class.selected]=\"selectedTracks.has(track)\"\n         [attr.data-id]=\"track.id\"\n         [class.playing]=\"trackIsPlaying(track)\"\n         [contextMenu]=\"getContextMenuParams(track)\"\n    >\n        <div class=\"track-list-column track-number\">\n            <span class=\"number\">{{index+1}}</span>\n            <playback-control-button [track]=\"track\" (play)=\"playTrack(track, index)\" (pause)=\"player.pause()\"></playback-control-button>\n        </div>\n        <div class=\"track-list-column track-action\">\n            <library-track-toggle-button [track]=\"track\"></library-track-toggle-button>\n        </div>\n        <div class=\"track-list-column track-name\">{{track.name}}</div>\n        <div class=\"track-list-column toggle-menu\">\n            <button class=\"no-style\" (click)=\"showContextMenu(track, $event)\"><svg-icon name=\"more-horiz\"></svg-icon></button>\n        </div>\n        <artists-links-list class=\"track-list-column artist-name hover-underline\" *ngIf=\"showArtist && track.artists\" [artists]=\"track.artists\"></artists-links-list>\n        <a class=\"track-list-column album-name hover-underline\" *ngIf=\"showAlbum && track.album\" [routerLink]=\"urls.album(track.album, track.artists[0])\">{{track.album.name}}</a>\n        <div class=\"track-list-column added-at\" *ngIf=\"showAddedAt\">{{track['added_at']}}</div>\n        <div class=\"track-list-column track-duration\">{{track['formatted_duration']}}</div>\n        <div class=\"track-list-column track-popularity\" *ngIf=\"showPopularity\">\n            <div class=\"popularity-track\">\n                <div class=\"popularity-track-inner\" [style.width]=\"getTrackPopularity(track)\"></div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<ng-container *ngIf=\"state.isMobile\">\n    <div\n        class=\"mobile-track-list-row track-list-item\"\n        *ngFor=\"let track of tracks; index as index;\"\n        [class.playing]=\"trackIsPlaying(track)\"\n        [attr.data-id]=\"track.id\"\n        (click)=\"toggleTrackPlayback(track, index)\"\n    >\n        <div class=\"track-info\">\n            <div class=\"track-name\">{{track.name}}</div>\n            <div class=\"artist-name\">\n                <artists-links-list class=\"artist-name\" [artists]=\"track.artists\"></artists-links-list>\n                <div class=\"album-name\" *ngIf=\"track.album\"> &bull; {{track.album.name}}</div>\n            </div>\n        </div>\n        <button class=\"no-style options-button\" (click)=\"showContextMenu(track, $event)\">\n            <svg-icon name=\"more-vert\"></svg-icon>\n        </button>\n    </div>\n</ng-container>"

/***/ }),

/***/ "./src/app/web-player/tracks/track-list/track-list.component.scss":
/***/ (function(module, exports) {

module.exports = "track-list {\n  display: block;\n  width: 100%;\n  color: #898B8C; }\n  track-list.dragging .track-list-row * {\n    pointer-events: none; }\n  track-list > .track-list-row {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    height: 42px;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n    border-top: 2px solid transparent; }\n  track-list > .track-list-row:hover .track-number > .number, track-list > .track-list-row.playing .track-number > .number {\n      display: none; }\n  track-list > .track-list-row:hover .track-number > playback-control-button, track-list > .track-list-row.playing .track-number > playback-control-button {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex; }\n  track-list > .track-list-row:hover .toggle-menu {\n      visibility: visible;\n      pointer-events: initial; }\n  track-list > .track-list-row.playing {\n      color: #6eac00; }\n  track-list > .track-list-row.playing > .track-duration, track-list > .track-list-row.playing > .track-name, track-list > .track-list-row.playing > .artist-name, track-list > .track-list-row.playing > .album-name {\n        color: inherit; }\n  track-list > .track-list-row.selected {\n      background-color: #23232C; }\n  track-list > .track-list-row.track-list-header {\n      background-color: #2a2a35;\n      border-bottom-color: transparent; }\n  track-list > .track-list-row > .track-list-column {\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n          -ms-flex-flow: row nowrap;\n              flex-flow: row nowrap;\n      -webkit-box-flex: 1;\n          -ms-flex-positive: 1;\n              flex-grow: 1;\n      -ms-flex-preferred-size: 0;\n          flex-basis: 0; }\n  track-list > .track-list-row > .track-list-column > svg-icon {\n        width: 18px;\n        height: 18px;\n        vertical-align: middle; }\n  track-list > .track-list-row > .track-list-column > button {\n        vertical-align: middle; }\n  track-list > .track-list-row > .track-number, track-list > .track-list-row > .track-action, track-list > .track-list-row > .track-duration {\n      width: 65px;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 65px;\n              flex: 0 0 65px;\n      text-align: center; }\n  track-list > .track-list-row > .track-action {\n      color: #898B8C; }\n  track-list > .track-list-row > .added-at {\n      max-width: 120px;\n      margin-left: 20px; }\n  track-list > .track-list-row > .track-popularity {\n      width: 80px;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 80px;\n              flex: 0 0 80px;\n      padding: 0 15px;\n      text-align: center; }\n  track-list > .track-list-row > .track-popularity > .popularity-track {\n        height: 6px;\n        position: relative;\n        background-color: #353543; }\n  track-list > .track-list-row > .track-popularity > .popularity-track > .popularity-track-inner {\n          height: 100%;\n          width: 0;\n          background-color: #898B8C;\n          position: absolute;\n          top: 0;\n          left: 0; }\n  track-list > .track-list-row > .track-name, track-list > .track-list-row > .artist-name, track-list > .track-list-row > .album-name {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1;\n              flex: 1 1;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: #C2C2CA; }\n  track-list > .track-list-row > .toggle-menu {\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 60px;\n              flex: 0 0 60px;\n      width: 60px;\n      visibility: hidden;\n      pointer-events: none; }\n  track-list > .track-list-row > .toggle-menu > button {\n        display: block;\n        margin: 0 auto;\n        width: 24px;\n        height: 24px; }\n  track-list > .mobile-track-list-row {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    width: 100%;\n    margin-bottom: 20px; }\n  track-list > .mobile-track-list-row.playing > .track-info > .track-name {\n      color: #6eac00; }\n  track-list > .mobile-track-list-row > .track-info {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      min-width: 0;\n      pointer-events: none; }\n  track-list > .mobile-track-list-row > .track-info > .track-name {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        color: #C2C2CA; }\n  track-list > .mobile-track-list-row > .track-info > .artist-name {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-size: 1.3rem; }\n  track-list > .mobile-track-list-row > .track-info > .artist-name > artists-links-list, track-list > .mobile-track-list-row > .track-info > .artist-name > .album-name {\n          display: inline-block; }\n  track-list > .mobile-track-list-row > .options-button {\n      display: block;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 24px;\n              flex: 0 0 24px;\n      width: 24px;\n      margin-left: 10px; }\n"

/***/ }),

/***/ "./src/app/web-player/tracks/track-list/track-list.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TrackListComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_types_models_Track__ = __webpack_require__("./src/app/shared/types/models/Track.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_formatted_duration_service__ = __webpack_require__("./src/app/web-player/player/formatted-duration.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_types_models_Album__ = __webpack_require__("./src/app/shared/types/models/Album.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__web_player_utils__ = __webpack_require__("./src/app/web-player/web-player-utils.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__track_context_menu_track_context_menu_component__ = __webpack_require__("./src/app/web-player/tracks/track-context-menu/track-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__playlists_playlist_track_context_menu_playlist_track_context_menu_component__ = __webpack_require__("./src/app/web-player/playlists/playlist-track-context-menu/playlist-track-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__selected_tracks_service__ = __webpack_require__("./src/app/web-player/tracks/track-list/selected-tracks.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__shared_browser_events_service__ = __webpack_require__("./src/app/shared/browser-events.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};













var TrackListComponent = (function () {
    /**
     * TrackListComponent Constructor.
     */
    function TrackListComponent(player, duration, urls, contextMenu, zone, el, selectedTracks, browserEvents, state) {
        this.player = player;
        this.duration = duration;
        this.urls = urls;
        this.contextMenu = contextMenu;
        this.zone = zone;
        this.el = el;
        this.selectedTracks = selectedTracks;
        this.browserEvents = browserEvents;
        this.state = state;
        /**
         * Active component subscriptions.
         */
        this.subscriptions = [];
        /**
         * Tracks to render.
         */
        this.tracks = [];
        /**
         * Album tracks belong to.
         */
        this.album = new __WEBPACK_IMPORTED_MODULE_4__shared_types_models_Album__["a" /* Album */]();
        /**
         * Whether artist column should be displayed.
         */
        this.showArtist = false;
        /**
         * Whether album column should be displayed.
         */
        this.showAlbum = false;
        /**
         * Whether popularity column should be displayed.
         */
        this.showPopularity = true;
        /**
         * Whether added at column should be displayed.
         */
        this.showAddedAt = false;
        /**
         * Whether header should be displayed.
         */
        this.showHeader = true;
        /**
         * Whether player should be set to handle continuous
         * playback when track is played from this track list.
         */
        this.handleContinuousPlayback = true;
        /**
         * Params for context menu that should be opened for tracks.
         */
        this.contextMenuParams = { type: 'track', extra: {} };
        /**
         * Fired when delete button is pressed when tracks are selected.
         */
        this.delete = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /**
         * Fired when play button is pressed.
         */
        this.play = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    TrackListComponent.prototype.ngOnInit = function () {
        this.bindHammerEvents();
        this.bindKeyboardShortcuts();
        if (this.select) {
            this.selectedTracks.add(this.select);
        }
    };
    TrackListComponent.prototype.ngOnChanges = function () {
        this.formatTrackDurations();
    };
    TrackListComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
        this.subscriptions = [];
    };
    /**
     * Check if specified track is cued and playing.
     */
    TrackListComponent.prototype.trackIsPlaying = function (track) {
        return this.player.isPlaying() && this.player.cued(track);
    };
    /**
     * Add tracks from specified index to queue and start playback.
     */
    TrackListComponent.prototype.playTrack = function (track, index) {
        this.play.emit(track);
        //if there's an observer for play event, bail
        //and let the observer handle playback
        if (this.play.observers.length)
            return;
        this.player.handleContinuousPlayback = this.handleContinuousPlayback;
        if (this.player.cued(track)) {
            this.player.play();
        }
        else {
            this.playFrom(index);
        }
    };
    /**
     * Play or pause specified track.
     */
    TrackListComponent.prototype.toggleTrackPlayback = function (track, index) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (this.trackIsPlaying(track)) {
                    this.player.pause();
                }
                else {
                    this.playTrack(track, index);
                }
                return [2 /*return*/];
            });
        });
    };
    /**
     * Get formatted track popularity value.
     */
    TrackListComponent.prototype.getTrackPopularity = function (track) {
        if (!track.spotify_popularity) {
            track.spotify_popularity = 50;
        }
        return track.spotify_popularity + '%';
    };
    /**
     * Show context menu for specified track.
     */
    TrackListComponent.prototype.showContextMenu = function (track, e) {
        e.stopPropagation();
        e.preventDefault();
        this.contextMenu.show(this.getContextMenuComponent(), this.getContextMenuParams(track), e.target);
    };
    /**
     * Get params needed to open context menu for track.
     */
    TrackListComponent.prototype.getContextMenuParams = function (track) {
        return Object.assign({ item: track, type: this.contextMenuParams.type, selectedTracks: this.selectedTracks }, this.contextMenuParams.extra);
    };
    /**
     * Get context menu component based on specified type.
     */
    TrackListComponent.prototype.getContextMenuComponent = function () {
        if (this.contextMenuParams.type === 'playlist-track') {
            return __WEBPACK_IMPORTED_MODULE_9__playlists_playlist_track_context_menu_playlist_track_context_menu_component__["a" /* PlaylistTrackContextMenuComponent */];
        }
        else {
            return __WEBPACK_IMPORTED_MODULE_8__track_context_menu_track_context_menu_component__["a" /* TrackContextMenuComponent */];
        }
    };
    /**
     * Add tracks from specified index to player queue and start playback.
     */
    TrackListComponent.prototype.playFrom = function (index) {
        var _this = this;
        var tracks = this.tracks.slice(index, this.tracks.length);
        tracks = __WEBPACK_IMPORTED_MODULE_5__web_player_utils__["a" /* WpUtils */].assignAlbumToTracks(tracks, this.album);
        this.player.overrideQueue({ tracks: tracks, queuedItemId: this.queueItemId }).then(function () {
            _this.player.play();
        });
    };
    /**
     * Format duration of every track to human readable format.
     */
    TrackListComponent.prototype.formatTrackDurations = function () {
        var _this = this;
        this.tracks.forEach(function (track) {
            track['formatted_duration'] = _this.duration.fromMilliseconds(track.duration);
        });
    };
    /**
     * Bind handlers to needed hammer.js events.
     */
    TrackListComponent.prototype.bindHammerEvents = function () {
        var _this = this;
        var hammer, singleTap, doubleTap;
        this.zone.runOutsideAngular(function () {
            hammer = new Hammer.Manager(_this.el.nativeElement);
            singleTap = new Hammer.Tap({ event: 'singletap' });
            doubleTap = new Hammer.Tap({ event: 'doubletap', taps: 2 });
            hammer.add([doubleTap, singleTap]);
        });
        //select track on tap or multiple tracks via when ctrl is pressed
        hammer.on('singletap', function (e) {
            _this.zone.run(function () {
                var data = _this.getTrackFromEvent(e);
                if (!data)
                    return;
                if (!e.srcEvent.ctrlKey) {
                    _this.selectedTracks.clear();
                    _this.selectedTracks.add(data.track);
                }
                else {
                    _this.selectedTracks.toggle(data.track);
                }
            });
        });
        //play track on double tap
        hammer.on('doubletap', function (e) {
            _this.zone.run(function () {
                var data = _this.getTrackFromEvent(e);
                if (!data)
                    return;
                _this.playTrack(data.track, data.index);
            });
        });
        //deselect all tracks when clicked outside of track list.
        var sub = this.browserEvents.globalClick$.subscribe(function (e) {
            if (!e.target.closest('.track-list-row')) {
                _this.selectedTracks.clear();
            }
        });
        this.subscriptions.push(sub);
    };
    /**
     * Get track from specified hammer tap event.
     */
    TrackListComponent.prototype.getTrackFromEvent = function (e) {
        if (!e.target)
            return;
        var row = e.target.closest('.track-list-item');
        if (!row)
            return;
        var id = parseInt(row.getAttribute('data-id'));
        var i = this.tracks.findIndex(function (track) { return track.id === id; });
        return { track: this.tracks[i], index: i };
    };
    /**
     * Initiate tracks list shortcuts.
     */
    TrackListComponent.prototype.bindKeyboardShortcuts = function () {
        var _this = this;
        var sub = this.browserEvents.globalKeyDown$.subscribe(function (e) {
            //ctrl+a - select all tracks
            if (e.ctrlKey && e.keyCode === _this.browserEvents.keyCodes.letters.a) {
                _this.tracks.forEach(function (track) { return _this.selectedTracks.add(track); });
                e.preventDefault();
            }
            else if (e.keyCode === _this.browserEvents.keyCodes.delete && !_this.selectedTracks.empty()) {
                _this.delete.emit(_this.selectedTracks.all());
                _this.selectedTracks.clear();
                e.preventDefault();
            }
        });
        this.subscriptions.push(sub);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('trackListRow'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["QueryList"])
    ], TrackListComponent.prototype, "trackListRows", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Array)
    ], TrackListComponent.prototype, "tracks", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4__shared_types_models_Album__["a" /* Album */])
    ], TrackListComponent.prototype, "album", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], TrackListComponent.prototype, "showArtist", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], TrackListComponent.prototype, "showAlbum", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], TrackListComponent.prototype, "showPopularity", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], TrackListComponent.prototype, "showAddedAt", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], TrackListComponent.prototype, "showHeader", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], TrackListComponent.prototype, "handleContinuousPlayback", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], TrackListComponent.prototype, "queueItemId", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], TrackListComponent.prototype, "contextMenuParams", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__shared_types_models_Track__["a" /* Track */])
    ], TrackListComponent.prototype, "select", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], TrackListComponent.prototype, "delete", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], TrackListComponent.prototype, "play", void 0);
    TrackListComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'track-list',
            template: __webpack_require__("./src/app/web-player/tracks/track-list/track-list.component.html"),
            styles: [__webpack_require__("./src/app/web-player/tracks/track-list/track-list.component.scss")],
            providers: [__WEBPACK_IMPORTED_MODULE_10__selected_tracks_service__["a" /* SelectedTracks */]],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_3__player_formatted_duration_service__["a" /* FormattedDuration */],
            __WEBPACK_IMPORTED_MODULE_6__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_7__context_menu_context_menu_service__["a" /* ContextMenu */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["ElementRef"],
            __WEBPACK_IMPORTED_MODULE_10__selected_tracks_service__["a" /* SelectedTracks */],
            __WEBPACK_IMPORTED_MODULE_11__shared_browser_events_service__["a" /* BrowserEvents */],
            __WEBPACK_IMPORTED_MODULE_12__web_player_state_service__["a" /* WebPlayerState */]])
    ], TrackListComponent);
    return TrackListComponent;
}());



/***/ }),

/***/ "./src/app/web-player/tracks/track-page/track-page-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TrackPageResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tracks_service__ = __webpack_require__("./src/app/web-player/tracks/tracks.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var TrackPageResolver = (function () {
    function TrackPageResolver(tracks, router, state) {
        this.tracks = tracks;
        this.router = router;
        this.state = state;
    }
    TrackPageResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        var id = +route.paramMap.get('id');
        return this.tracks.get(id).toPromise().then(function (track) {
            _this.state.loading = false;
            if (track) {
                return track;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    TrackPageResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__tracks_service__["a" /* Tracks */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__["a" /* WebPlayerState */]])
    ], TrackPageResolver);
    return TrackPageResolver;
}());



/***/ }),

/***/ "./src/app/web-player/tracks/track-page/track-page.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar>\n    <div class=\"header\" [contextMenu]=\"{item: track, type: 'track'}\">\n        <img [src]=\"track.album.image\">\n        <div class=\"meta\">\n            <div class=\"track-name\">{{track.name}}</div>\n            <div class=\"artist-name\" >\n                <artists-links-list [artists]=\"track.artists\"></artists-links-list>\n            </div>\n\n            <div class=\"duration meta-item\">\n                <span class=\"name\" trans>Duration:</span>\n                <span class=\"value\">{{duration}}</span>\n            </div>\n            <div class=\"release-date meta-item\">\n                <span class=\"name\" trans>Release Date:</span>\n                <span class=\"value\">{{track.album.release_date}}</span>\n            </div>\n\n            <div class=\"main-buttons\">\n                <button class=\"no-style play-button\" *ngIf=\"!playing()\" (click)=\"play()\">\n                    <svg-icon name=\"play-arrow\"></svg-icon>\n                    <span trans>Play</span>\n                </button>\n                <button class=\"no-style play-button\" *ngIf=\"playing()\" (click)=\"pause()\" trans>\n                    <svg-icon name=\"pause\"></svg-icon>\n                    <span trans>Pause</span>\n                </button>\n                <button class=\"no-style more-button\" (click)=\"openContextMenu($event)\" trans>More...</button>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"album-header\">\n        <span trans>Featured in</span> <a class=\"hover-underline\" [routerLink]=\"urls.album(track.album)\"><strong>{{track.album.name}}</strong></a>\n    </div>\n\n    <track-list [tracks]=\"getAlbumTracks()\" [select]=\"track\"></track-list>\n</div>"

/***/ }),

/***/ "./src/app/web-player/tracks/track-page/track-page.component.scss":
/***/ (function(module, exports) {

module.exports = "track-page {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto; }\n  track-page > .scroll-container {\n    padding: 25px; }\n  track-page .header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin-bottom: 40px; }\n  track-page .header > img {\n      width: 225px;\n      height: 225px; }\n  track-page .header > .meta {\n      margin-left: 15px; }\n  track-page .header > .meta > .track-name {\n        font-size: 4.2rem;\n        font-weight: 300; }\n  track-page .header > .meta > .artist-name {\n        display: block;\n        font-size: 1.54rem;\n        margin-bottom: 20px;\n        color: inherit; }\n  track-page .header > .meta > .meta-item {\n        font-size: 1.5rem;\n        margin-bottom: 2px; }\n  track-page .header > .meta > .meta-item > .name {\n          display: inline-block;\n          min-width: 120px;\n          margin-right: 20px;\n          color: #9999a6; }\n  track-page .header > .meta > .meta-item > .value {\n          font-weight: 500; }\n  track-page .main-buttons {\n    position: relative;\n    margin-top: 20px; }\n  track-page .main-buttons > button {\n      padding: 7px 0;\n      border: 2px solid transparent;\n      border-radius: 25px;\n      color: #fff;\n      text-transform: uppercase;\n      min-width: 110px; }\n  track-page .main-buttons > button.play-button {\n        background-color: #6eac00;\n        border-color: #6eac00;\n        margin-right: 10px; }\n  track-page .main-buttons > button.play-button > svg-icon {\n          width: 16px;\n          height: 16px;\n          display: inline-block;\n          vertical-align: middle; }\n  track-page .main-buttons > button.play-button:hover {\n          background-color: #78bb00; }\n  track-page .main-buttons > button.more-button {\n        background-color: #2a2a35;\n        border: 1px solid rgba(255, 255, 255, 0.1); }\n  track-page .main-buttons > button.more-button:hover {\n          background-color: #353543; }\n  track-page .album-header {\n    font-size: 2rem;\n    font-weight: 300;\n    margin-bottom: 25px; }\n"

/***/ }),

/***/ "./src/app/web-player/tracks/track-page/track-page.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TrackPageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__track_context_menu_track_context_menu_component__ = __webpack_require__("./src/app/web-player/tracks/track-context-menu/track-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__player_formatted_duration_service__ = __webpack_require__("./src/app/web-player/player/formatted-duration.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__web_player_utils__ = __webpack_require__("./src/app/web-player/web-player-utils.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var TrackPageComponent = (function () {
    /**
     * TrackPageComponent Constructor.
     */
    function TrackPageComponent(route, urls, player, contextMenu, durationService) {
        this.route = route;
        this.urls = urls;
        this.player = player;
        this.contextMenu = contextMenu;
        this.durationService = durationService;
    }
    TrackPageComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.track = data.track;
            _this.duration = _this.durationService.fromMilliseconds(_this.track.duration);
        });
    };
    /**
     * Play the track.
     */
    TrackPageComponent.prototype.play = function () {
        var _this = this;
        if (this.player.cued(this.track)) {
            return this.player.play();
        }
        this.player.overrideQueue({ tracks: this.getAlbumTracks() }).then(function () {
            _this.player.queue.select(_this.track);
            _this.player.play();
        });
    };
    /**
     * Check if track is playing.
     */
    TrackPageComponent.prototype.playing = function () {
        return this.player.state.playing && this.player.cued(this.track);
    };
    /**
     * Pause the player.
     */
    TrackPageComponent.prototype.pause = function () {
        this.player.pause();
    };
    /**
     * Open track context menu.
     */
    TrackPageComponent.prototype.openContextMenu = function (e) {
        e.stopPropagation();
        this.contextMenu.show(__WEBPACK_IMPORTED_MODULE_5__track_context_menu_track_context_menu_component__["a" /* TrackContextMenuComponent */], { item: this.track, type: 'track' }, e.target);
    };
    /**
     * Assign album to all album tracks.
     */
    TrackPageComponent.prototype.getAlbumTracks = function () {
        return __WEBPACK_IMPORTED_MODULE_7__web_player_utils__["a" /* WpUtils */].assignAlbumToTracks(this.track.album.tracks, this.track.album);
    };
    TrackPageComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'track-page',
            template: __webpack_require__("./src/app/web-player/tracks/track-page/track-page.component.html"),
            styles: [__webpack_require__("./src/app/web-player/tracks/track-page/track-page.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_3__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_4__context_menu_context_menu_service__["a" /* ContextMenu */],
            __WEBPACK_IMPORTED_MODULE_6__player_formatted_duration_service__["a" /* FormattedDuration */]])
    ], TrackPageComponent);
    return TrackPageComponent;
}());



/***/ }),

/***/ "./src/app/web-player/tracks/tracks.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Tracks; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Tracks = (function () {
    function Tracks(http) {
        this.http = http;
    }
    /**
     * Get track by specified id.
     */
    Tracks.prototype.get = function (id) {
        return this.http.get("tracks/" + id);
    };
    /**
     * Get top 50 tracks.
     */
    Tracks.prototype.getTop = function () {
        return this.http.get('tracks/top');
    };
    /**
     * Get radio recommendations for specified track.
     */
    Tracks.prototype.getRadioRecommendations = function (id) {
        return this.http.get("radio/track/" + id);
    };
    /**
     * Create a new track.
     */
    Tracks.prototype.create = function (payload) {
        return this.http.post('tracks', payload);
    };
    /**
     * Update existing track.
     */
    Tracks.prototype.update = function (id, payload) {
        return this.http.put('tracks/' + id, payload);
    };
    /**
     * Delete specified tracks.
     */
    Tracks.prototype.delete = function (ids) {
        return this.http.delete('tracks', { ids: ids });
    };
    /**
     * Increment specified track plays.
     */
    Tracks.prototype.incrementPlays = function (track) {
        return this.http.post("tracks/" + track.id + "/plays/increment");
    };
    Tracks = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__["a" /* AppHttpClient */]])
    ], Tracks);
    return Tracks;
}());



/***/ }),

/***/ "./src/app/web-player/users/account-settings/account-settings-resolve.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountSettingsResolve; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__users_service__ = __webpack_require__("./src/app/web-player/users/users.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_value_lists_service__ = __webpack_require__("./src/app/shared/value-lists.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AccountSettingsResolve = (function () {
    function AccountSettingsResolve(users, router, currentUser, values) {
        this.users = users;
        this.router = router;
        this.currentUser = currentUser;
        this.values = values;
    }
    AccountSettingsResolve.prototype.resolve = function (route) {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].forkJoin(this.users.get(this.currentUser.get('id')), this.values.getValuesForSelects()).toPromise().then(function (response) {
            return { user: response[0], selects: response[1] };
        }, function () {
            _this.router.navigate(['/']);
            return false;
        });
    };
    AccountSettingsResolve = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__users_service__["a" /* Users */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__auth_current_user__["a" /* CurrentUser */],
            __WEBPACK_IMPORTED_MODULE_5__shared_value_lists_service__["a" /* ValueLists */]])
    ], AccountSettingsResolve);
    return AccountSettingsResolve;
}());



/***/ }),

/***/ "./src/app/web-player/users/account-settings/account-settings.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar>\n    <div class=\"content\">\n        <h1 class=\"header\" trans>Account Settings</h1>\n\n        <div class=\"panels\">\n            <form class=\"panel account-settings-panel\" (ngSubmit)=\"updateAccountSettings()\">\n                <div class=\"panel-header\" trans>Update Name or Profile Image</div>\n                <div class=\"panel-body\">\n                    <div class=\"input-container input-inline\">\n                        <label for=\"first_name\" trans>First Name</label>\n                        <input type=\"text\" id=\"first_name\" name=\"first_name\" [(ngModel)]=\"user.first_name\">\n                        <div class=\"error first-name-error\" *ngIf=\"errors.account.first_name\">{{errors.account.first_name}}</div>\n                    </div>\n\n                    <div class=\"input-container input-inline\">\n                        <label for=\"last_name\" trans>Last Name</label>\n                        <input type=\"text\" id=\"last_name\" name=\"last_name\" [(ngModel)]=\"user.last_name\">\n                        <div class=\"error last-name-error\" *ngIf=\"errors.account.last_name\">{{errors.account.last_name}}</div>\n                    </div>\n\n                    <div class=\"input-container input-inline avatar-input-container\">\n                        <label for=\"last_name\" trans>Profile image</label>\n                        <div class=\"avatar-input\">\n                            <img src=\"{{user.avatar}}\" alt=\"User avatar\">\n                            <div class=\"avatar-actions-container\">\n                                <div class=\"info\" trans>For best results, upload a high resolution image</div>\n                                <button type=\"button\" class=\"button flat avatar-upload-button\" (click)=\"openAvatarUploadDialog()\" trans>Upload Image</button>\n                                <button type=\"button\" class=\"no-style avatar-remove-button\" (click)=\"deleteAvatar()\" trans>Remove Image</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"panel-footer\">\n                    <button type=\"submit\" class=\"button primary submit-button\" trans>Save Changes</button>\n                </div>\n            </form>\n\n            <div class=\"panel social-login-panel\" *ngIf=\"settings.anySocialLoginEnabled()\">\n                <div class=\"panel-header\" trans>Manage Social Logins</div>\n                <div class=\"panel-body\">\n                    <div class=\"info\" trans>Enable or disable connected social services</div>\n                    <connect-social-accounts-panel [user]=\"user\"></connect-social-accounts-panel>\n                </div>\n            </div>\n\n            <form class=\"panel change-password-panel\" (ngSubmit)=\"changeUserPassword()\">\n                <div class=\"panel-header\" trans>Update Password</div>\n                <div class=\"panel-body\">\n                    <div class=\"input-container input-inline\" *ngIf=\"user.has_password\">\n                        <label for=\"current_password\" trans>Current Password</label>\n                        <input type=\"password\" id=\"current_password\" name=\"current_password\" [(ngModel)]=\"password.current_password\" required>\n                        <div class=\"error current-password-error\" *ngIf=\"errors.password.current_password\">{{errors.password.current_password}}</div>\n                    </div>\n\n                    <div class=\"input-container input-inline\">\n                        <label for=\"new_password\" trans>New Password</label>\n                        <input type=\"password\" id=\"new_password\" name=\"new_password\" [(ngModel)]=\"password.new_password\" required>\n                        <div class=\"error new-password-error\" *ngIf=\"errors.password.new_password\">{{errors.password.new_password}}</div>\n                    </div>\n\n                    <div class=\"input-container input-inline\">\n                        <label for=\"new_password_confirmation\" trans>Confirm Password</label>\n                        <input type=\"password\" id=\"new_password_confirmation\" name=\"new_password_confirmation\" [(ngModel)]=\"password.new_password_confirmation\" required>\n                        <div class=\"error new-password-confirmation-error\" *ngIf=\"errors.password.new_password_confirmation\">{{errors.password.new_password_confirmation}}</div>\n                    </div>\n                </div>\n                <div class=\"panel-footer\">\n                    <button type=\"submit\" class=\"button primary submit-button\" trans>Update</button>\n                </div>\n            </form>\n\n            <form class=\"panel preferences-panel\" (ngSubmit)=\"updateAccountSettings()\">\n                <div class=\"panel-header\" trans>Update Account Preferences</div>\n                <div class=\"panel-body\">\n                    <div class=\"input-container input-inline\">\n                        <label for=\"language\" trans>Language</label>\n                        <select name=\"language\" id=\"language\" [(ngModel)]=\"user.language\" (ngModelChange)=\"changeLanguage($event)\">\n                            <option value=\"{{language}}\" *ngFor=\"let language of selects.languages\">{{language}}</option>\n                        </select>\n                        <div class=\"error language-error\" *ngIf=\"errors.account.language\">{{errors.account.language}}</div>\n                    </div>\n\n                    <div class=\"input-container input-inline\">\n                        <label for=\"country\" trans>Country</label>\n                        <select name=\"country\" id=\"country\" [(ngModel)]=\"user.country\">\n                            <option value=\"{{country}}\" *ngFor=\"let country of selects.countries\">{{country}}</option>\n                        </select>\n                        <div class=\"error country-error\" *ngIf=\"errors.account.country\">{{errors.account.country}}</div>\n                    </div>\n\n                    <div class=\"input-container input-inline\">\n                        <label for=\"timezone\" trans>Timezone</label>\n                        <select name=\"timezone\" id=\"timezone\" [(ngModel)]=\"user.timezone\">\n                            <option value=\"{{timezone['value']}}\" *ngFor=\"let timezone of selects.timezones\">{{timezone.text}}</option>\n                        </select>\n                        <div class=\"error timezone-error\" *ngIf=\"errors.account.timezone\">{{errors.account.timezone}}</div>\n                    </div>\n                </div>\n                <div class=\"panel-footer\">\n                    <button type=\"submit\" class=\"button primary submit-button\" trans>Save Changes</button>\n                </div>\n            </form>\n        </div>\n\n        <div class=\"logout-button-container\">\n            <button class=\"button danger logout-button\" type=\"button\" (click)=\"auth.logOut()\">\n                <svg-icon name=\"exit-to-app\"></svg-icon>\n                <span>Logout</span>\n            </button>\n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/users/account-settings/account-settings.component.scss":
/***/ (function(module, exports) {

module.exports = "account-settings {\n  display: block;\n  height: 100%;\n  width: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n  background-color: inherit; }\n  account-settings > .scroll-container {\n    height: 100%;\n    position: relative;\n    overflow: auto; }\n  account-settings .content {\n    height: 100%;\n    max-width: 1280px;\n    padding: 0 15px;\n    margin: 0 auto; }\n  account-settings .content > .header {\n      font-size: 3.5rem;\n      margin: 25px 0;\n      font-weight: 300; }\n  account-settings .content .panels {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n      margin: -15px; }\n  account-settings .content .panel {\n      -webkit-box-shadow: none;\n              box-shadow: none;\n      border: 1px solid rgba(255, 255, 255, 0.05);\n      width: calc(50% - 30px);\n      margin: 15px;\n      padding: 15px;\n      background-color: #23232C; }\n  account-settings .content .panel.social-login-panel .info {\n        margin-bottom: 35px; }\n  account-settings .content .panel .panel-header {\n        background-color: transparent;\n        font-size: 1.8rem;\n        font-weight: 300;\n        padding: 0 0 10px 0; }\n  account-settings .content .panel .panel-body {\n        padding: 25px 0 0;\n        min-height: 268px; }\n  account-settings .content .panel .panel-footer {\n        background-color: transparent;\n        padding: 10px 0 0 0;\n        margin-top: 35px; }\n  account-settings .content .panel .input-inline {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        margin-bottom: 26px;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        position: relative; }\n  account-settings .content .panel .input-inline > label {\n          -webkit-box-flex: 0;\n              -ms-flex: 0 0 30%;\n                  flex: 0 0 30%;\n          min-width: 200px;\n          line-height: 42px;\n          vertical-align: middle; }\n  account-settings .content .panel .input-inline > input, account-settings .content .panel .input-inline select {\n          -webkit-box-flex: 1;\n              -ms-flex: 1 1 auto;\n                  flex: 1 1 auto;\n          height: 42px;\n          border-radius: 3px;\n          background-color: #353543;\n          border-color: transparent;\n          color: inherit; }\n  account-settings .content .panel .input-inline > .error {\n          color: #F44336;\n          font-size: 1.3rem;\n          position: absolute;\n          bottom: -20px;\n          right: 0; }\n  account-settings .content .panel .avatar-input {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex; }\n  account-settings .content .panel .avatar-input > img {\n          -webkit-box-flex: 0;\n              -ms-flex: 0 0 90px;\n                  flex: 0 0 90px;\n          width: 90px;\n          height: 90px;\n          -o-object-fit: cover;\n             object-fit: cover; }\n  account-settings .content .panel .avatar-input > .avatar-actions-container {\n          -webkit-box-flex: 1;\n              -ms-flex: 1 1 auto;\n                  flex: 1 1 auto;\n          margin-left: 15px;\n          max-width: 130px; }\n  account-settings .content .panel .avatar-input > .avatar-actions-container > .info {\n            color: #898B8C;\n            font-size: 1.2rem;\n            margin-bottom: 10px; }\n  account-settings .content .panel .avatar-input > .avatar-actions-container > button {\n            display: block;\n            margin-bottom: 10px; }\n  account-settings .content .panel .avatar-input > .avatar-actions-container > .avatar-upload-button {\n            background-color: #414151;\n            color: #C2C2CA; }\n  account-settings .content .panel .avatar-input > .avatar-actions-container > .avatar-remove-button {\n            color: #6eac00;\n            font-size: 1.3rem; }\n  account-settings .content .panel .avatar-input > .avatar-actions-container > .avatar-remove-button:hover {\n              text-decoration: underline; }\n  account-settings .content .logout-button-container {\n      padding: 20px 0 15px;\n      display: none;\n      text-align: right; }\n  account-settings .content .logout-button-container .logout-button > svg-icon {\n        display: inline-block;\n        vertical-align: middle; }\n  @media only screen and (max-width: 768px) {\n      account-settings .content .logout-button-container {\n        display: block; }\n      account-settings .content .panels {\n        display: block; }\n        account-settings .content .panels .panel {\n          width: auto; }\n        account-settings .content .panels .input-inline {\n          display: block; }\n          account-settings .content .panels .input-inline > input, account-settings .content .panels .input-inline > select {\n            width: 100%; } }\n"

/***/ }),

/***/ "./src/app/web-player/users/account-settings/account-settings.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountSettingsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_translations_translations_service__ = __webpack_require__("./src/app/shared/translations/translations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_types_models_User__ = __webpack_require__("./src/app/shared/types/models/User.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_uploads_service__ = __webpack_require__("./src/app/shared/uploads.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__users_service__ = __webpack_require__("./src/app/web-player/users/users.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__shared_translations_localizations_service__ = __webpack_require__("./src/app/shared/translations/localizations.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__auth_auth_service__ = __webpack_require__("./src/app/auth/auth.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var AccountSettingsComponent = (function () {
    /**
     * AccountSettingsComponent Constructor.
     */
    function AccountSettingsComponent(settings, route, users, currentUser, toast, uploads, i18n, localizations, auth) {
        this.settings = settings;
        this.route = route;
        this.users = users;
        this.currentUser = currentUser;
        this.toast = toast;
        this.uploads = uploads;
        this.i18n = i18n;
        this.localizations = localizations;
        this.auth = auth;
        /**
         * User model.
         */
        this.user = new __WEBPACK_IMPORTED_MODULE_4__shared_types_models_User__["a" /* User */]();
        /**
         * Value lists for selects in the view.
         */
        this.selects = {
            timezones: [],
            countries: [],
            languages: [],
        };
        /**
         * Model for user password change.
         */
        this.password = {};
        /**
         * Errors returned from backend.
         */
        this.errors = { password: {}, account: {} };
    }
    AccountSettingsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.user = data['resolves']['user'];
            _this.selects.timezones = data['resolves']['selects']['timezones'];
            _this.selects.countries = data['resolves']['selects']['countries'];
            _this.selects.languages = data['resolves']['selects']['languages'];
        });
    };
    /**
     * Update user account settings.
     */
    AccountSettingsComponent.prototype.updateAccountSettings = function () {
        var _this = this;
        this.users.update(this.user.id, this.getAccountSettingsPayload()).subscribe(function () {
            _this.toast.show('Account settings updated');
            _this.errors.account = {};
        }, function (response) { return _this.errors.account = response.messages; });
    };
    /**
     * Open file upload dialog and upload selected file as user avatar.
     */
    AccountSettingsComponent.prototype.openAvatarUploadDialog = function () {
        var _this = this;
        this.uploads.openUploadDialog().then(function (files) {
            if (_this.uploads.filesAreInvalid(files, true))
                return;
            _this.users.uploadAvatar(_this.user.id, files).subscribe(function (user) {
                _this.user.avatar = user.avatar;
                _this.currentUser.set('avatar', user.avatar);
                _this.toast.show('Avatar updated');
            }, function (response) {
                var key = Object.keys(response.messages)[0];
                _this.toast.show(response.messages[key]);
            });
        });
    };
    /**
     * Delete user avatar.
     */
    AccountSettingsComponent.prototype.deleteAvatar = function () {
        var _this = this;
        this.users.deleteAvatar(this.user.id).subscribe(function (user) {
            _this.user.avatar = user.avatar;
            _this.currentUser.set('avatar', user.avatar);
            _this.toast.show('Avatar removed');
        });
    };
    /**
     * Change user password.
     */
    AccountSettingsComponent.prototype.changeUserPassword = function () {
        var _this = this;
        this.users.changePassword(this.user.id, this.password)
            .subscribe(function () {
            _this.toast.show('Password updated');
            _this.errors.password = {};
            _this.password = {};
            _this.user.has_password = true;
        }, function (response) { return _this.errors.password = response.messages; });
    };
    /**
     * Change currently active language.
     */
    AccountSettingsComponent.prototype.changeLanguage = function (name) {
        var _this = this;
        this.localizations.get(name).subscribe(function (localization) {
            _this.i18n.setLocalization(localization);
        });
    };
    /**
     * Return payload to send to backend when updating account settings.
     */
    AccountSettingsComponent.prototype.getAccountSettingsPayload = function () {
        return {
            first_name: this.user.first_name,
            last_name: this.user.last_name,
            language: this.user.language,
            timezone: this.user.timezone,
            country: this.user.country,
            avatar: this.user.avatar,
        };
    };
    AccountSettingsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'account-settings',
            template: __webpack_require__("./src/app/web-player/users/account-settings/account-settings.component.html"),
            styles: [__webpack_require__("./src/app/web-player/users/account-settings/account-settings.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_7__users_service__["a" /* Users */],
            __WEBPACK_IMPORTED_MODULE_8__auth_current_user__["a" /* CurrentUser */],
            __WEBPACK_IMPORTED_MODULE_2__shared_toast_toast_service__["a" /* ToastService */],
            __WEBPACK_IMPORTED_MODULE_6__shared_uploads_service__["a" /* Uploads */],
            __WEBPACK_IMPORTED_MODULE_3__shared_translations_translations_service__["a" /* Translations */],
            __WEBPACK_IMPORTED_MODULE_9__shared_translations_localizations_service__["a" /* Localizations */],
            __WEBPACK_IMPORTED_MODULE_10__auth_auth_service__["a" /* AuthService */]])
    ], AccountSettingsComponent);
    return AccountSettingsComponent;
}());



/***/ }),

/***/ "./src/app/web-player/users/account-settings/connect-social-accounts-panel/connect-social-accounts-panel.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"social-login-row google-row\" *ngIf=\"settings.get('social.google.enable')\">\n    <img src=\"{{settings.get('base_url')+'/assets/images/social-icons/google-plus.png'}}\">\n    <div class=\"name\" trans>Google+ Account</div>\n    <ng-container *ngIf=\"getSocialAccountUsername('google') as username; else googleBlock\">\n        <span class=\"social-account-username\">{{username}}</span>\n        <button class=\"button primary disable-button\" (click)=\"disconnectSocialAccount('google')\" trans>Disable</button>\n    </ng-container>\n    <ng-template #googleBlock><button class=\"button primary enable-button\" (click)=\"connectSocialAccount('google')\" trans>Enable</button></ng-template>\n</div>\n<div class=\"social-login-row facebook-row\" *ngIf=\"settings.get('social.facebook.enable')\">\n    <img src=\"{{settings.get('base_url')+'/assets/images/social-icons/facebook.png'}}\">\n    <div class=\"name\" trans>Facebook Account</div>\n    <ng-container *ngIf=\"getSocialAccountUsername('facebook') as username; else facebookBlock\">\n        <span class=\"social-account-username\">{{username}}</span>\n        <button class=\"button primary disable-button\" (click)=\"disconnectSocialAccount('facebook')\" trans>Disable</button>\n    </ng-container>\n    <ng-template #facebookBlock><button class=\"button primary enable-button\" (click)=\"connectSocialAccount('facebook')\" trans>Enable</button></ng-template>\n</div>\n<div class=\"social-login-row twitter-row last\" *ngIf=\"settings.get('social.twitter.enable')\">\n    <img src=\"{{settings.get('base_url')+'/assets/images/social-icons/twitter.png'}}\">\n    <div class=\"name\" trans>Twitter Account</div>\n    <ng-container *ngIf=\"getSocialAccountUsername('twitter') as username; else twitterBlock\">\n        <span class=\"social-account-username\">{{username}}</span>\n        <button class=\"button primary disable-button\" (click)=\"disconnectSocialAccount('twitter')\" trans>Disable</button>\n    </ng-container>\n    <ng-template #twitterBlock><button class=\"button primary enable-button\" (click)=\"connectSocialAccount('twitter')\" trans>Enable</button></ng-template>\n</div>\n"

/***/ }),

/***/ "./src/app/web-player/users/account-settings/connect-social-accounts-panel/connect-social-accounts-panel.component.scss":
/***/ (function(module, exports) {

module.exports = "connect-social-accounts-panel {\n  display: block; }\n  connect-social-accounts-panel .social-login-row {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    margin-bottom: 15px;\n    padding-bottom: 15px;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.05); }\n  connect-social-accounts-panel .social-login-row.last {\n      border-bottom: none;\n      margin-bottom: 0; }\n  connect-social-accounts-panel .social-login-row > img {\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 40px;\n              flex: 0 0 40px;\n      width: 40px;\n      height: 40px; }\n  connect-social-accounts-panel .social-login-row > .name {\n      display: inline-block;\n      margin-left: 15px;\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto; }\n  connect-social-accounts-panel .social-login-row > .button {\n      margin-left: auto; }\n  connect-social-accounts-panel .social-login-row > .button.disable-button {\n        background-color: #ea6153;\n        border-color: #ea6153; }\n  connect-social-accounts-panel .social-login-row > .social-account-username {\n      margin-left: auto;\n      margin-right: 10px;\n      color: #6eac00; }\n"

/***/ }),

/***/ "./src/app/web-player/users/account-settings/connect-social-accounts-panel/connect-social-accounts-panel.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnectSocialAccountsPanelComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_toast_toast_service__ = __webpack_require__("./src/app/shared/toast/toast.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_types_models_User__ = __webpack_require__("./src/app/shared/types/models/User.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_social_auth_service__ = __webpack_require__("./src/app/auth/social-auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ConnectSocialAccountsPanelComponent = (function () {
    /**
     * ConnectSocialAccountsPanelComponent Constructor.
     */
    function ConnectSocialAccountsPanelComponent(social, toast, settings) {
        this.social = social;
        this.toast = toast;
        this.settings = settings;
        /**
         * User model.
         */
        this.user = new __WEBPACK_IMPORTED_MODULE_2__shared_types_models_User__["a" /* User */]();
    }
    /**
     * Connect specified social account to user.
     */
    ConnectSocialAccountsPanelComponent.prototype.connectSocialAccount = function (name) {
        var _this = this;
        this.social.connect(name).then(function (user) {
            _this.user.social_profiles = user.social_profiles;
            _this.toast.show('Connected: ' + name);
        });
    };
    /**
     * Disconnect specified social account from user.
     */
    ConnectSocialAccountsPanelComponent.prototype.disconnectSocialAccount = function (name) {
        var _this = this;
        this.social.disconnect(name).subscribe(function () {
            _this.toast.show('Disconnected: ' + name);
            var i = _this.user.social_profiles.findIndex(function (s) { return s.service_name === name; });
            _this.user.social_profiles.splice(i, 1);
        });
    };
    /**
     * Get username from specified social account model.
     */
    ConnectSocialAccountsPanelComponent.prototype.getSocialAccountUsername = function (name) {
        if (!this.user.social_profiles)
            return;
        var account = this.user.social_profiles
            .find(function (social) { return social.service_name === name; });
        return account && account.username;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", Object)
    ], ConnectSocialAccountsPanelComponent.prototype, "user", void 0);
    ConnectSocialAccountsPanelComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'connect-social-accounts-panel',
            template: __webpack_require__("./src/app/web-player/users/account-settings/connect-social-accounts-panel/connect-social-accounts-panel.component.html"),
            styles: [__webpack_require__("./src/app/web-player/users/account-settings/connect-social-accounts-panel/connect-social-accounts-panel.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__auth_social_auth_service__["a" /* SocialAuthService */],
            __WEBPACK_IMPORTED_MODULE_1__shared_toast_toast_service__["a" /* ToastService */],
            __WEBPACK_IMPORTED_MODULE_4__shared_settings_service__["a" /* Settings */]])
    ], ConnectSocialAccountsPanelComponent);
    return ConnectSocialAccountsPanelComponent;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-item/user-item.component.html":
/***/ (function(module, exports) {

module.exports = "<a class=\"img-container\" [routerLink]=\"urls.user(user)\">\n    <img [src]=\"settings.getDefaultImage('artist')\" [lazyLoad]=\"user.avatar\" [scrollTarget]=\"scrollContainer\" class=\"lazy-loaded\">\n</a>\n<div class=\"footer\">\n    <a class=\"user-name primary-text\" [routerLink]=\"urls.user(user)\">{{user['display_name']}}</a>\n    <div class=\"followers secondary-text\">{{user['followers_count']}} <span trans>Followers</span></div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/users/user-item/user-item.component.scss":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/web-player/users/user-item/user-item.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserItemComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_types_models_User__ = __webpack_require__("./src/app/shared/types/models/User.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var UserItemComponent = (function () {
    /**
     * UserItemComponent Constructor
     */
    function UserItemComponent(urls, settings) {
        this.urls = urls;
        this.settings = settings;
    }
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", HTMLElement)
    ], UserItemComponent.prototype, "scrollContainer", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__shared_types_models_User__["a" /* User */])
    ], UserItemComponent.prototype, "user", void 0);
    UserItemComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'user-item',
            template: __webpack_require__("./src/app/web-player/users/user-item/user-item.component.html"),
            styles: [__webpack_require__("./src/app/web-player/users/user-item/user-item.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { 'class': 'media-grid-item' },
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_3__shared_settings_service__["a" /* Settings */]])
    ], UserItemComponent);
    return UserItemComponent;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-library/library-albums/library-albums-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LibraryAlbumsResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LibraryAlbumsResolver = (function () {
    function LibraryAlbumsResolver(library, router, state) {
        this.library = library;
        this.router = router;
        this.state = state;
    }
    LibraryAlbumsResolver.prototype.resolve = function (route) {
        var _this = this;
        this.state.loading = true;
        return this.library.fetchAlbums().toPromise().then(function (response) {
            _this.state.loading = false;
            if (response) {
                return response;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    LibraryAlbumsResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__user_library_service__["a" /* UserLibrary */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__["a" /* WebPlayerState */]])
    ], LibraryAlbumsResolver);
    return LibraryAlbumsResolver;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-library/library-albums/library-albums.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar #scrollContainer>\n    <filterable-page-header class=\"margin\" [filterQuery]=\"filterQuery\">\n        <sorting-header [name]=\"order\">\n            <div class=\"dropdown-item\" #menuItem (click)=\"sort('added_at')\" trans>Date Added</div>\n            <div class=\"dropdown-item\" #menuItem (click)=\"sort('name')\" trans>Name</div>\n            <div class=\"dropdown-item\" #menuItem (click)=\"sort('artist.name')\" trans>Artist Name</div>\n        </sorting-header>\n    </filterable-page-header>\n\n    <ad-host slot=\"ad_slot_1\" class=\"margin-bottom\"></ad-host>\n\n    <media-grid>\n        <album-item *ngFor=\"let album of filteredItems\" [album]=\"album\" [contextMenu]=\"{item: album, type: 'album'}\" [scrollContainer]=\"scrollContainer\"></album-item>\n    </media-grid>\n\n    <no-results-message *ngIf=\"! filteredItems || ! filteredItems.length\">\n        <span primary-text trans>Nothing to display.</span>\n        <span secondary-text trans>You have not added any albums to your library yet.</span>\n    </no-results-message>\n</div>"

/***/ }),

/***/ "./src/app/web-player/users/user-library/library-albums/library-albums.component.scss":
/***/ (function(module, exports) {

module.exports = "library-albums {\n  display: block;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n  width: 100%;\n  height: 100%; }\n"

/***/ }),

/***/ "./src/app/web-player/users/user-library/library-albums/library-albums.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LibraryAlbumsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__filterable_page_filterable_page__ = __webpack_require__("./src/app/web-player/filterable-page/filterable-page.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LibraryAlbumsComponent = (function (_super) {
    __extends(LibraryAlbumsComponent, _super);
    /**
     * LibraryAlbumsComponent Constructor.
     */
    function LibraryAlbumsComponent(route, urls) {
        var _this = _super.call(this, ['name', 'artist.name']) || this;
        _this.route = route;
        _this.urls = urls;
        /**
         * Current order for library albums.
         */
        _this.order = 'date added';
        return _this;
    }
    LibraryAlbumsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.setItems(data.albums);
        });
    };
    LibraryAlbumsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'library-albums',
            template: __webpack_require__("./src/app/web-player/users/user-library/library-albums/library-albums.component.html"),
            styles: [__webpack_require__("./src/app/web-player/users/user-library/library-albums/library-albums.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */], __WEBPACK_IMPORTED_MODULE_3__web_player_urls_service__["a" /* WebPlayerUrls */]])
    ], LibraryAlbumsComponent);
    return LibraryAlbumsComponent;
}(__WEBPACK_IMPORTED_MODULE_2__filterable_page_filterable_page__["a" /* FilterablePage */]));



/***/ }),

/***/ "./src/app/web-player/users/user-library/library-artists/library-artists-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LibraryArtistsResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LibraryArtistsResolver = (function () {
    function LibraryArtistsResolver(library, router, state) {
        this.library = library;
        this.router = router;
        this.state = state;
    }
    LibraryArtistsResolver.prototype.resolve = function (route) {
        var _this = this;
        this.state.loading = true;
        return this.library.fetchArtists().toPromise().then(function (response) {
            _this.state.loading = false;
            if (response) {
                return response;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    LibraryArtistsResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__user_library_service__["a" /* UserLibrary */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__["a" /* WebPlayerState */]])
    ], LibraryArtistsResolver);
    return LibraryArtistsResolver;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-library/library-artists/library-artists.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar #scrollContainer>\n    <filterable-page-header class=\"margin\" [filterQuery]=\"filterQuery\">\n        <sorting-header [name]=\"order\">\n            <div class=\"dropdown-item\" #menuItem (click)=\"sort('added_at', 'desc', 'Date Added')\" trans>Date Added</div>\n            <div class=\"dropdown-item\" #menuItem (click)=\"sort('name', 'asc', 'Name')\" trans>Name</div>\n            <div class=\"dropdown-item\" #menuItem (click)=\"sort('number_of_songs', 'desc', 'Number of Songs')\" trans>Number of Songs</div>\n        </sorting-header>\n    </filterable-page-header>\n\n    <ad-host slot=\"ad_slot_1\" class=\"margin-bottom\"></ad-host>\n\n    <media-grid>\n        <artist-item *ngFor=\"let artist of filteredItems\" [artist]=\"artist\" [scrollContainer]=\"scrollContainer\">\n            <div class=\"secondary-text\">\n                {{artist['number_of_tracks']}}\n                <span trans>Songs</span>\n            </div>\n        </artist-item>\n    </media-grid>\n\n    <no-results-message *ngIf=\"! filteredItems || ! filteredItems.length\">\n        <span primary-text trans>Nothing to display.</span>\n        <span secondary-text trans>You have not added any artists to your library yet.</span>\n    </no-results-message>\n</div>"

/***/ }),

/***/ "./src/app/web-player/users/user-library/library-artists/library-artists.component.scss":
/***/ (function(module, exports) {

module.exports = "library-artists {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto; }\n"

/***/ }),

/***/ "./src/app/web-player/users/user-library/library-artists/library-artists.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LibraryArtistsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__filterable_page_filterable_page__ = __webpack_require__("./src/app/web-player/filterable-page/filterable-page.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LibraryArtistsComponent = (function (_super) {
    __extends(LibraryArtistsComponent, _super);
    /**
     * LibraryArtistsComponent Constructor.
     */
    function LibraryArtistsComponent(route, urls) {
        var _this = _super.call(this, ['name']) || this;
        _this.route = route;
        _this.urls = urls;
        /**
         * Current order for library albums.
         */
        _this.order = 'Date Added';
        return _this;
    }
    LibraryArtistsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.setItems(data.artists);
        });
    };
    LibraryArtistsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'library-artists',
            template: __webpack_require__("./src/app/web-player/users/user-library/library-artists/library-artists.component.html"),
            styles: [__webpack_require__("./src/app/web-player/users/user-library/library-artists/library-artists.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */], __WEBPACK_IMPORTED_MODULE_3__web_player_urls_service__["a" /* WebPlayerUrls */]])
    ], LibraryArtistsComponent);
    return LibraryArtistsComponent;
}(__WEBPACK_IMPORTED_MODULE_1__filterable_page_filterable_page__["a" /* FilterablePage */]));



/***/ }),

/***/ "./src/app/web-player/users/user-library/library-playlists/library-playlists-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LibraryPlaylistsResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__playlists_playlists_service__ = __webpack_require__("./src/app/web-player/playlists/playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var LibraryPlaylistsResolver = (function () {
    function LibraryPlaylistsResolver(playlists, router, state, user) {
        this.playlists = playlists;
        this.router = router;
        this.state = state;
        this.user = user;
    }
    LibraryPlaylistsResolver.prototype.resolve = function (route) {
        var _this = this;
        this.state.loading = true;
        return this.playlists.allUserPlaylists(this.user.get('id')).toPromise().then(function (response) {
            _this.state.loading = false;
            if (response) {
                return response;
            }
            else {
                _this.router.navigate(['/library']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/library']);
        });
    };
    LibraryPlaylistsResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__playlists_playlists_service__["a" /* Playlists */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__["a" /* WebPlayerState */],
            __WEBPACK_IMPORTED_MODULE_4__auth_current_user__["a" /* CurrentUser */]])
    ], LibraryPlaylistsResolver);
    return LibraryPlaylistsResolver;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-library/library-playlists/library-playlists.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"playlists\">\n    <div class=\"playlist\" *ngFor=\"let playlist of playlists\">\n        <a [routerLink]=\"urls.playlist(playlist)\">\n            <img [src]=\"getImage(playlist)\">\n            <div class=\"name\">\n                <div>{{playlist.name}}</div>\n                <div class=\"tracks-count\">{{playlist['tracks_count']}} <span trans>Songs</span></div>\n            </div>\n        </a>\n        <button class=\"no-style options-button\" (click)=\"showContextMenu(playlist, $event)\">\n            <svg-icon name=\"more-vert\"></svg-icon>\n        </button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/web-player/users/user-library/library-playlists/library-playlists.component.scss":
/***/ (function(module, exports) {

module.exports = "library-playlists {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n  min-width: 0;\n  padding: 20px;\n  overflow: auto; }\n  library-playlists .playlist {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    margin-bottom: 15px; }\n  library-playlists .playlist > a {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      color: inherit;\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto; }\n  library-playlists .playlist > a > img {\n        display: inline-block;\n        width: 45px;\n        height: 45px;\n        -o-object-fit: cover;\n           object-fit: cover;\n        margin-right: 8px; }\n  library-playlists .playlist > a .tracks-count {\n        font-size: 1.2rem;\n        color: #898B8C; }\n  library-playlists .playlist > .options-button {\n      display: block;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 24px;\n              flex: 0 0 24px;\n      width: 24px;\n      margin-left: 10px;\n      color: #898B8C; }\n"

/***/ }),

/***/ "./src/app/web-player/users/user-library/library-playlists/library-playlists.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LibraryPlaylistsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__playlists_playlist_context_menu_playlist_context_menu_component__ = __webpack_require__("./src/app/web-player/playlists/playlist-context-menu/playlist-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var LibraryPlaylistsComponent = (function () {
    /**
     * LibraryPlaylistsComponent Constructor.
     */
    function LibraryPlaylistsComponent(urls, settings, contextMenu, route) {
        this.urls = urls;
        this.settings = settings;
        this.contextMenu = contextMenu;
        this.route = route;
        /**
         * All current user playlists.
         */
        this.playlists = [];
    }
    LibraryPlaylistsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.playlists = data.playlists;
        });
    };
    /**
     * Get playlist image.
     */
    LibraryPlaylistsComponent.prototype.getImage = function (playlist) {
        if (playlist.image)
            return playlist.image;
        if (playlist.tracks && playlist.tracks.length)
            return playlist.tracks[0].album.image;
        return this.settings.getDefaultImage('artist');
    };
    /**
     * Open playlist context menu.
     */
    LibraryPlaylistsComponent.prototype.showContextMenu = function (playlist, e) {
        e.stopPropagation();
        this.contextMenu.show(__WEBPACK_IMPORTED_MODULE_4__playlists_playlist_context_menu_playlist_context_menu_component__["a" /* PlaylistContextMenuComponent */], { item: playlist, extra: { image: this.getImage(playlist) }, type: 'playlist' }, e.target);
    };
    LibraryPlaylistsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'library-playlists',
            template: __webpack_require__("./src/app/web-player/users/user-library/library-playlists/library-playlists.component.html"),
            styles: [__webpack_require__("./src/app/web-player/users/user-library/library-playlists/library-playlists.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_2__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_3__context_menu_context_menu_service__["a" /* ContextMenu */],
            __WEBPACK_IMPORTED_MODULE_5__angular_router__["a" /* ActivatedRoute */]])
    ], LibraryPlaylistsComponent);
    return LibraryPlaylistsComponent;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-library/library-track-toggle-button/library-track-toggle-button.component.html":
/***/ (function(module, exports) {

module.exports = "<button class=\"no-style\" (click)=\"library.add(track)\" *ngIf=\"!library.has(track)\">\n    <svg-icon name=\"add\" class=\"block\"></svg-icon>\n</button>\n\n<button class=\"no-style remove-button\" (click)=\"library.remove(track)\" *ngIf=\"library.has(track)\">\n    <svg-icon name=\"check\" class=\"check-icon\"></svg-icon>\n    <svg-icon name=\"clear\" class=\"remove-icon\"></svg-icon>\n</button>\n"

/***/ }),

/***/ "./src/app/web-player/users/user-library/library-track-toggle-button/library-track-toggle-button.component.scss":
/***/ (function(module, exports) {

module.exports = "library-track-toggle-button {\n  display: block;\n  width: 24px;\n  height: 24px;\n  margin: 0 auto; }\n  library-track-toggle-button > button {\n    display: block; }\n  library-track-toggle-button > button.remove-button:hover > .check-icon {\n      display: none; }\n  library-track-toggle-button > button.remove-button:hover > .remove-icon {\n      display: block; }\n  library-track-toggle-button > button > svg-icon {\n      display: block; }\n  library-track-toggle-button > button > svg-icon.remove-icon {\n        display: none; }\n"

/***/ }),

/***/ "./src/app/web-player/users/user-library/library-track-toggle-button/library-track-toggle-button.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LibraryTrackToggleButtonComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_types_models_Track__ = __webpack_require__("./src/app/shared/types/models/Track.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var LibraryTrackToggleButtonComponent = (function () {
    function LibraryTrackToggleButtonComponent(library) {
        this.library = library;
    }
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__shared_types_models_Track__["a" /* Track */])
    ], LibraryTrackToggleButtonComponent.prototype, "track", void 0);
    LibraryTrackToggleButtonComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'library-track-toggle-button',
            template: __webpack_require__("./src/app/web-player/users/user-library/library-track-toggle-button/library-track-toggle-button.component.html"),
            styles: [__webpack_require__("./src/app/web-player/users/user-library/library-track-toggle-button/library-track-toggle-button.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__user_library_service__["a" /* UserLibrary */]])
    ], LibraryTrackToggleButtonComponent);
    return LibraryTrackToggleButtonComponent;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-library/library-tracks.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LibraryTracks; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__filterable_page_filterable_page__ = __webpack_require__("./src/app/web-player/filterable-page/filterable-page.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var LibraryTracks = (function (_super) {
    __extends(LibraryTracks, _super);
    /**
     * LibraryTracks Service Constructor.
     */
    function LibraryTracks(http, player) {
        var _this = _super.call(this) || this;
        _this.http = http;
        _this.player = player;
        /**
         * Ids of all tracks in user library.
         */
        _this.trackIds = [];
        /**
         * Current track order.
         */
        _this.order = 'date added';
        /**
         * Current replies infinite load page.
         */
        _this.currentPage = 1;
        /**
         * Last replies infinite load page.
         */
        _this.lastPage = 2;
        /**
         * Whether library tracks are being loaded currently.
         */
        _this.loading = false;
        /**
         * Whether at least one page of library tracks has already been fetched.
         */
        _this.alreadyFetched = false;
        _this.bindToPlaybackEndEvent();
        return _this;
    }
    /**
     * Get all currently loaded user library tracks.
     */
    LibraryTracks.prototype.get = function () {
        return this.filteredItems;
    };
    /**
     * Check if user has specified track in library.
     */
    LibraryTracks.prototype.has = function (track) {
        return this.trackIds.indexOf(track.id) > -1;
    };
    /**
     * Sort tracks using specified order.
     */
    LibraryTracks.prototype.sort = function (order) {
        var _this = this;
        this.order = order;
        this.loadTracks({ page: 1 }).subscribe(function (response) {
            _this.setPaginationResponse(response);
        });
    };
    /**
     * Add specified tracks to library.
     */
    LibraryTracks.prototype.add = function (tracks) {
        var _this = this;
        if (!Array.isArray(tracks))
            tracks = [tracks];
        var ids = tracks.map(function (track) { return track.id; });
        this.http.post('user/library/tracks/add', { ids: ids }).subscribe(function () {
            _this.prependItems(tracks);
            _this.trackIds = _this.trackIds.concat(ids);
        }, function () { });
    };
    /**
     * Remove specified tracks from library.
     */
    LibraryTracks.prototype.remove = function (tracks) {
        var _this = this;
        if (!Array.isArray(tracks))
            tracks = [tracks];
        var ids = tracks.map(function (track) { return track.id; });
        this.http.post('user/library/tracks/remove', { ids: ids }).subscribe(function () {
            tracks.forEach(function (track) {
                _this.removeItems(tracks);
                _this.trackIds.splice(_this.trackIds.findIndex(function (id) { return track.id === id; }), 1);
            });
        }, function () { });
    };
    /**
     * Check if more tracks can be loaded via infinite load.
     */
    LibraryTracks.prototype.canLoadMoreTracks = function () {
        return !this.loading && !this.filterQuery.value && this.currentPage < this.lastPage;
    };
    /**
     * Load next infinite load page.
     */
    LibraryTracks.prototype.loadMore = function () {
        var _this = this;
        this.loading = true;
        var request = this.loadTracks({ page: this.currentPage + 1 });
        request.subscribe(function (response) {
            _this.appendItems(response.data);
        });
        return request;
    };
    /**
     * Set ids of all tracks in user's library.
     */
    LibraryTracks.prototype.setTrackIds = function (ids) {
        if (!ids)
            ids = [];
        this.trackIds = ids.slice();
    };
    /**
     * Reset user library tracks service to initial state.
     */
    LibraryTracks.prototype.reset = function () {
        this.trackIds = [];
        this.order = 'date added';
        this.currentPage = 1;
        this.lastPage = 2;
        this.loading = false;
        this.alreadyFetched = false;
    };
    /**
     * Set specified tracks and sync with player queue.
     */
    LibraryTracks.prototype.setItems = function (tracks) {
        _super.prototype.setItems.call(this, tracks);
        this.player.overrideQueue({ tracks: tracks });
    };
    /**
     * append specified tracks and sync with player queue.
     */
    LibraryTracks.prototype.appendItems = function (tracks) {
        _super.prototype.appendItems.call(this, tracks);
        this.player.getQueue().append(tracks);
    };
    /**
     * Set specified filtered tracks (via search) and sync with player queue.
     */
    LibraryTracks.prototype.setFilteredItems = function (tracks) {
        _super.prototype.setFilteredItems.call(this, tracks);
        this.player.overrideQueue({ tracks: tracks });
    };
    /**
     * Filter library tracks by specified query.
     */
    LibraryTracks.prototype.filter = function (query) {
        return this.fetch({ query: query }).map(function (response) { return response.data; });
    };
    /**
     * Load tracks based on specified params.
     */
    LibraryTracks.prototype.loadTracks = function (params) {
        var _this = this;
        if (params === void 0) { params = {}; }
        this.loading = true;
        params.order = this.order.replace(' ', '_');
        var request = this.fetch(params).share();
        request.subscribe(function (response) {
            _this.currentPage = response.current_page;
            _this.lastPage = response.last_page;
            _this.loading = false;
        }, function () { });
        return request;
    };
    /**
     * Get tracks in user's library.
     */
    LibraryTracks.prototype.fetch = function (params) {
        if (params === void 0) { params = { page: 1 }; }
        this.alreadyFetched = true;
        return this.http.get('user/library/tracks', params);
    };
    /**
     * init or reset the service using specified pagination response.
     */
    LibraryTracks.prototype.setPaginationResponse = function (response) {
        if (!response)
            return;
        this.currentPage = response.current_page;
        this.lastPage = response.last_page;
        this.setItems(response.data);
    };
    /**
     * Lazy load more tracks from user library for
     * continuous playback after current track ends.
     */
    LibraryTracks.prototype.bindToPlaybackEndEvent = function () {
        var _this = this;
        this.player.state.onChange$.subscribe(function (type) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (type !== 'PLAYBACK_ENDED')
                            return [2 /*return*/];
                        //if player is not playing user library currently, bail
                        if (!this.player.queue.itemIsQueued('library-tracks'))
                            return [2 /*return*/];
                        if (!(this.player.getQueue().isLast() && this.canLoadMoreTracks())) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.loadMore().toPromise()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this.player.playNext();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    LibraryTracks = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__["a" /* AppHttpClient */], __WEBPACK_IMPORTED_MODULE_3__player_player_service__["a" /* Player */]])
    ], LibraryTracks);
    return LibraryTracks;
}(__WEBPACK_IMPORTED_MODULE_2__filterable_page_filterable_page__["a" /* FilterablePage */]));



/***/ }),

/***/ "./src/app/web-player/users/user-library/library-tracks/library-tracks-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LibraryTracksResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LibraryTracksResolver = (function () {
    function LibraryTracksResolver(library, router, state) {
        this.library = library;
        this.router = router;
        this.state = state;
    }
    LibraryTracksResolver.prototype.resolve = function (route) {
        var _this = this;
        this.state.loading = true;
        if (this.library.tracks.alreadyFetched) {
            this.state.loading = false;
            return new Promise(function (resolve) { return resolve(); });
        }
        return this.library.tracks.fetch().toPromise().then(function (response) {
            _this.state.loading = false;
            if (response) {
                return response;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    LibraryTracksResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__user_library_service__["a" /* UserLibrary */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__web_player_state_service__["a" /* WebPlayerState */]])
    ], LibraryTracksResolver);
    return LibraryTracksResolver;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-library/library-tracks/library-tracks.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar infinite-scroll (onInfiniteScroll)=\"loadMore()\" [infiniteScrollEnabled]=\"canLoadMore()\">\n\n    <filterable-page-header [filterQuery]=\"library.tracks.filterQuery\">\n        <sorting-header [name]=\"library.tracks.order\">\n            <div class=\"dropdown-item\" #menuItem (click)=\"library.tracks.sort('name')\" trans>Name</div>\n            <div class=\"dropdown-item\" #menuItem (click)=\"library.tracks.sort('date added')\" trans>Date Added</div>\n            <div class=\"dropdown-item\" #menuItem (click)=\"library.tracks.sort('duration')\" trans>Duration</div>\n            <div class=\"dropdown-item\" #menuItem (click)=\"library.tracks.sort('album name')\" trans>Album Name</div>\n            <div class=\"dropdown-item\" #menuItem (click)=\"library.tracks.sort('artist name')\" trans>Artist Name</div>\n        </sorting-header>\n    </filterable-page-header>\n\n    <ad-host slot=\"ad_slot_1\" class=\"margin-bottom\"></ad-host>\n\n    <track-list\n        [tracks]=\"library.tracks.get()\"\n        [showArtist]=\"true\"\n        [showPopularity]=\"false\"\n        [showAddedAt]=\"true\"\n        [showAlbum]=\"true\"\n        [handleContinuousPlayback]=\"false\"\n        [queueItemId]=\"'library-tracks'\"\n    ></track-list>\n\n    <no-results-message *ngIf=\"!library.tracks.get().length\">\n        <span primary-text trans>Nothing to display.</span>\n        <span secondary-text trans>You have not added any songs to your library yet.</span>\n    </no-results-message>\n</div>\n\n"

/***/ }),

/***/ "./src/app/web-player/users/user-library/library-tracks/library-tracks.component.scss":
/***/ (function(module, exports) {

module.exports = "library-tracks {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n  min-width: 0; }\n  library-tracks > .scroll-container {\n    padding: 20px; }\n  library-tracks filterable-page-header {\n    margin-bottom: 15px; }\n  library-tracks no-results-message {\n    margin-top: 25px; }\n"

/***/ }),

/***/ "./src/app/web-player/users/user-library/library-tracks/library-tracks.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LibraryTracksComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var LibraryTracksComponent = (function () {
    /**
     * LibraryTracksComponent Constructor.
     */
    function LibraryTracksComponent(library, route) {
        this.library = library;
        this.route = route;
    }
    LibraryTracksComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.data.subscribe(function (data) {
            _this.library.tracks.setPaginationResponse(data.pagination);
        });
    };
    /**
     * Load more tracks from user library.
     */
    LibraryTracksComponent.prototype.loadMore = function () {
        this.library.tracks.loadMore();
    };
    /**
     * Check if more tracks can be loaded via infinite load.
     */
    LibraryTracksComponent.prototype.canLoadMore = function () {
        return this.library.tracks.canLoadMoreTracks();
    };
    LibraryTracksComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'library-tracks',
            template: __webpack_require__("./src/app/web-player/users/user-library/library-tracks/library-tracks.component.html"),
            styles: [__webpack_require__("./src/app/web-player/users/user-library/library-tracks/library-tracks.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__user_library_service__["a" /* UserLibrary */], __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */]])
    ], LibraryTracksComponent);
    return LibraryTracksComponent;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-library/user-library.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"nav\" *ngIf=\"state.isMobile\">\n    <a routerLink=\"songs\" class=\"nav-item\" routerLinkActive=\"active\">\n        <svg-icon name=\"audiotrack\"></svg-icon>\n        <span class=\"name\" trans>Songs</span>\n    </a>\n    <a routerLink=\"playlists\" class=\"nav-item\" routerLinkActive=\"active\">\n        <svg-icon name=\"queue-music\"></svg-icon>\n        <span class=\"name\" trans>Playlists</span>\n    </a>\n    <a routerLink=\"artists\" class=\"nav-item\" routerLinkActive=\"active\">\n        <svg-icon name=\"mic\"></svg-icon>\n        <span class=\"name\" trans>Artists</span>\n    </a>\n    <a routerLink=\"albums\" class=\"nav-item\" routerLinkActive=\"active\">\n        <svg-icon name=\"album\"></svg-icon>\n        <span class=\"name\" trans>Albums</span>\n    </a>\n</div>\n\n<router-outlet></router-outlet>"

/***/ }),

/***/ "./src/app/web-player/users/user-library/user-library.component.scss":
/***/ (function(module, exports) {

module.exports = "user-library {\n  display: block;\n  min-width: 0;\n  width: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto; }\n  user-library > .nav {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 10px 0;\n    color: #898B8C;\n    background-color: #2a2a35;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.05); }\n  user-library > .nav > .nav-item {\n      display: block;\n      -webkit-box-flex: 1;\n          -ms-flex: 1 1 auto;\n              flex: 1 1 auto;\n      text-align: center;\n      color: inherit;\n      font-size: 1.1rem; }\n  user-library > .nav > .nav-item.active {\n        color: #fff; }\n  user-library > .nav > .nav-item > svg-icon {\n        display: block;\n        margin: 0 auto 5px;\n        width: 28px;\n        height: 28px; }\n"

/***/ }),

/***/ "./src/app/web-player/users/user-library/user-library.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserLibraryComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UserLibraryComponent = (function () {
    function UserLibraryComponent(state) {
        this.state = state;
    }
    UserLibraryComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'user-library',
            template: __webpack_require__("./src/app/web-player/users/user-library/user-library.component.html"),
            styles: [__webpack_require__("./src/app/web-player/users/user-library/user-library.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__web_player_state_service__["a" /* WebPlayerState */]])
    ], UserLibraryComponent);
    return UserLibraryComponent;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-library/user-library.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserLibrary; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__library_tracks_service__ = __webpack_require__("./src/app/web-player/users/user-library/library-tracks.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var UserLibrary = (function () {
    /**
     * UserLibrary Service Constructor.
     */
    function UserLibrary(http, tracks) {
        this.http = http;
        this.tracks = tracks;
    }
    /**
     * Set ids of all tracks in user's library.
     */
    UserLibrary.prototype.setTrackIds = function (ids) {
        this.tracks.setTrackIds(ids);
    };
    /**
     * Add specified tracks to library.
     */
    UserLibrary.prototype.add = function (tracks) {
        this.tracks.add(tracks);
    };
    /**
     * Check if user has specified tracks in library.
     */
    UserLibrary.prototype.has = function (track) {
        return this.tracks.has(track);
    };
    /**
     * Remove specified tracks from user library.
     */
    UserLibrary.prototype.remove = function (tracks) {
        this.tracks.remove(tracks);
    };
    /**
     * Fetch all albums in user library.
     */
    UserLibrary.prototype.fetchAlbums = function () {
        return this.http.get('user/library/albums');
    };
    /**
     * Fetch all artists in user library.
     */
    UserLibrary.prototype.fetchArtists = function () {
        return this.http.get('user/library/artists');
    };
    /**
     * Reset user library service to initial state.
     */
    UserLibrary.prototype.reset = function () {
        this.tracks.reset();
    };
    UserLibrary = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__["a" /* AppHttpClient */], __WEBPACK_IMPORTED_MODULE_2__library_tracks_service__["a" /* LibraryTracks */]])
    ], UserLibrary);
    return UserLibrary;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-profile-page/user-profile-page-resolver.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserProfilePageResolver; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__users_service__ = __webpack_require__("./src/app/web-player/users/users.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var UserProfilePageResolver = (function () {
    function UserProfilePageResolver(users, router, state) {
        this.users = users;
        this.router = router;
        this.state = state;
    }
    UserProfilePageResolver.prototype.resolve = function (route, state) {
        var _this = this;
        this.state.loading = true;
        var id = +route.paramMap.get('id');
        return this.users.get(id).toPromise().then(function (user) {
            _this.state.loading = false;
            if (user) {
                return user;
            }
            else {
                _this.router.navigate(['/']);
                return null;
            }
        }).catch(function () {
            _this.state.loading = false;
            _this.router.navigate(['/']);
        });
    };
    UserProfilePageResolver = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__users_service__["a" /* Users */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__web_player_state_service__["a" /* WebPlayerState */]])
    ], UserProfilePageResolver);
    return UserProfilePageResolver;
}());



/***/ }),

/***/ "./src/app/web-player/users/user-profile-page/user-profile-page.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"scroll-container\" customScrollbar #scrollContainer>\n    <header class=\"profile-header\" [style.background-image]=\"'url(' + getProfileBackground() + ')'\">\n        <img class=\"avatar\" [src]=\"user.avatar\">\n        <div class=\"meta\">\n            <div class=\"name\">{{user['display_name']}}</div>\n            <ng-container *ngIf=\"user.id !== currentUser.get('id')\">\n                <button class=\"no-style\" (click)=\"follow(user)\" *ngIf=\"!currentUserIsFollowing(user)\" trans>Follow</button>\n                <button class=\"no-style\" (click)=\"unfollow(user)\" *ngIf=\"currentUserIsFollowing(user)\" trans>Unfollow</button>\n            </ng-container>\n        </div>\n    </header>\n\n    <div class=\"nav-links\">\n        <a class=\"nav-link\" [routerLink]=\"urls.user(user, 'playlists')\" [class.active]=\"activeTabIs('playlists')\" trans>Public Playlists</a>\n        <a class=\"nav-link\" [routerLink]=\"urls.user(user, 'following')\" [class.active]=\"activeTabIs('following')\" trans>Following</a>\n        <a class=\"nav-link\" [routerLink]=\"urls.user(user, 'followers')\" [class.active]=\"activeTabIs('followers')\" trans>Followers</a>\n    </div>\n\n    <ad-host slot=\"ad_slot_1\" class=\"margin-top\"></ad-host>\n\n    <div class=\"tabs\">\n        <div class=\"tab playlists-tab\" *ngIf=\"activeTabIs('playlists')\">\n            <media-grid *ngIf=\"user.playlists.length\">\n                <playlist-item [playlist]=\"playlist\" [creator]=\"user\" *ngFor=\"let playlist of user.playlists\" [scrollContainer]=\"scrollContainer\"></playlist-item>\n            </media-grid>\n\n            <no-results-message *ngIf=\"!user.playlists.length\">\n                <span primary-text trans>Seems like this user has not created any playlists yet.</span>\n            </no-results-message>\n        </div>\n\n        <div class=\"tab following-tab\" *ngIf=\"activeTabIs('following')\">\n            <div class=\"followed-users\" *ngIf=\"user.followed_users.length\">\n                <div class=\"follower-row\" *ngFor=\"let followedUser of user.followed_users\">\n                    <img [src]=\"followedUser.avatar\">\n                    <div class=\"meta\">\n                        <a class=\"name hover-underline\" [routerLink]=\"urls.user(followedUser)\">{{followedUser['display_name']}}</a>\n                        <div class=\"followers\">{{followedUser.followers_count}} <span trans>Followers</span></div>\n                    </div>\n                    <button class=\"no-style follow-button\" (click)=\"follow(followedUser)\" *ngIf=\"!currentUserIsFollowing(followedUser) && ! isCurrentUser(followedUser)\" trans>Follow</button>\n                    <button class=\"no-style follow-button\" (click)=\"unfollow(followedUser)\" *ngIf=\"currentUserIsFollowing(followedUser) && ! isCurrentUser(followedUser)\" trans>Unfollow</button>\n                </div>\n            </div>\n\n            <no-results-message *ngIf=\"!user.followed_users.length\">\n                <span primary-text trans>Seems like this user is not following anyone yet.</span>\n            </no-results-message>\n        </div>\n\n        <div class=\"tab followers-tab\" *ngIf=\"activeTabIs('followers')\">\n            <div class=\"following-users\" *ngIf=\"user.followers.length\">\n                <div class=\"follower-row\" *ngFor=\"let follower of user.followers\">\n                    <img [src]=\"follower.avatar\">\n                    <div class=\"meta\">\n                        <a class=\"name hover-underline\" [routerLink]=\"urls.user(follower)\">{{follower['display_name']}}</a>\n                        <div class=\"followers\">{{follower.followers_count}} <span trans>Followers</span></div>\n                    </div>\n                    <button class=\"no-style follow-button\" (click)=\"follow(follower)\" *ngIf=\"!currentUserIsFollowing(follower) && ! isCurrentUser(follower)\" trans>Follow</button>\n                    <button class=\"no-style follow-button\" (click)=\"unfollow(follower)\" *ngIf=\"currentUserIsFollowing(follower) && ! isCurrentUser(follower)\" trans>Unfollow</button>\n                </div>\n            </div>\n\n            <no-results-message *ngIf=\"!user.followers.length\">\n                <span primary-text trans>Seems like no one is following this user yet.</span>\n            </no-results-message>\n        </div>\n    </div>\n\n    <ad-host slot=\"ad_slot_2\" class=\"margin-bottom\"></ad-host>\n</div>"

/***/ }),

/***/ "./src/app/web-player/users/user-profile-page/user-profile-page.component.scss":
/***/ (function(module, exports) {

module.exports = "user-profile-page {\n  display: block;\n  width: 100%;\n  height: 100%;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto; }\n  user-profile-page .profile-header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    position: relative;\n    padding: 60px 0;\n    background-size: cover;\n    background-position: center; }\n  user-profile-page .profile-header:before {\n      position: absolute;\n      content: \"\";\n      background: -webkit-gradient(linear, left top, left bottom, color-stop(-80%, transparent), to(#1e1e26));\n      background: linear-gradient(to bottom, transparent -80%, #1e1e26 100%);\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0; }\n  user-profile-page .profile-header > .avatar {\n      position: relative;\n      width: 140px;\n      height: 140px;\n      -o-object-fit: cover;\n         object-fit: cover; }\n  user-profile-page .profile-header > .meta {\n      position: relative;\n      margin-top: 20px;\n      color: #fff; }\n  user-profile-page .profile-header > .meta > .name {\n        font-size: 3.5rem;\n        font-weight: 300;\n        text-align: center; }\n  user-profile-page .profile-header > .meta > button {\n        display: block;\n        padding: 7px 45px;\n        margin: 5px auto 0;\n        background-color: #6eac00;\n        border-radius: 15px; }\n  user-profile-page .profile-header > .meta > button:hover {\n          background-color: #78bb00; }\n  user-profile-page .nav-links {\n    position: relative;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    font-weight: 600;\n    text-transform: uppercase;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n    margin: 0 20px; }\n  user-profile-page .nav-links > .nav-link {\n      padding: 5px 5px 15px;\n      margin: 0 15px;\n      border-bottom: 2px solid transparent;\n      color: inherit; }\n  @media only screen and (max-width: 768px) {\n        user-profile-page .nav-links > .nav-link {\n          font-weight: 400;\n          font-size: 1.3rem;\n          white-space: nowrap;\n          overflow: hidden;\n          text-transform: none; } }\n  user-profile-page .nav-links > .nav-link.active {\n        color: #fff;\n        border-color: #6eac00; }\n  user-profile-page .tabs > .following-tab, user-profile-page .tabs > .followers-tab {\n    padding: 0 20px; }\n  user-profile-page .tabs .follower-row {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    padding: 15px 0;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.05); }\n  user-profile-page .tabs .follower-row > img {\n      width: 65px;\n      height: 65px;\n      -o-object-fit: cover;\n         object-fit: cover;\n      margin-right: 15px; }\n  user-profile-page .tabs .follower-row > .meta {\n      font-size: 1.5rem; }\n  user-profile-page .tabs .follower-row > .meta > .followers {\n        color: #898B8C;\n        margin-top: 5px; }\n  user-profile-page .tabs .follower-row > .meta .name {\n        display: block;\n        color: inherit; }\n  user-profile-page .tabs .follower-row > .follow-button {\n      display: block;\n      margin-left: auto;\n      padding: 7px 45px;\n      background-color: #2a2a35;\n      border: 1px solid rgba(255, 255, 255, 0.1);\n      border-radius: 15px; }\n  user-profile-page .tabs .follower-row > .follow-button:hover {\n        background-color: #353543; }\n  user-profile-page .tabs no-results-message {\n    margin-top: 30px; }\n"

/***/ }),

/***/ "./src/app/web-player/users/user-profile-page/user-profile-page.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserProfilePageComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__users_service__ = __webpack_require__("./src/app/web-player/users/users.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_current_user__ = __webpack_require__("./src/app/auth/current-user.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var UserProfilePageComponent = (function () {
    /**
     * UserProfilePageComponent Constructor.
     */
    function UserProfilePageComponent(route, router, settings, urls, users, currentUser) {
        this.route = route;
        this.router = router;
        this.settings = settings;
        this.urls = urls;
        this.users = users;
        this.currentUser = currentUser;
        /**
         * Active component subscriptions.
         */
        this.subscriptions = [];
        /**
         * Currently active tab.
         */
        this.activeTab = 'playlists';
    }
    UserProfilePageComponent.prototype.ngOnInit = function () {
        this.setActiveTabFromUrl(this.router.url);
        this.bindToRoutingEvents();
    };
    UserProfilePageComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (subscription) {
            subscription.unsubscribe();
        });
        this.subscriptions = [];
    };
    /**
     * Get profile background image url.
     */
    UserProfilePageComponent.prototype.getProfileBackground = function () {
        return this.settings.getBaseUrl() + 'assets/images/default/artist-big.png';
    };
    /**
     * Check if active tab matches specified one.
     */
    UserProfilePageComponent.prototype.activeTabIs = function (name) {
        return this.activeTab === name;
    };
    /**
     * Follow specified user with currently logged in user.
     */
    UserProfilePageComponent.prototype.follow = function (user) {
        var _this = this;
        this.users.follow(user.id).subscribe(function () {
            _this.currentUser.addFollower(user);
        });
    };
    /**
     * Unfollow specified user with currently logged in user.
     */
    UserProfilePageComponent.prototype.unfollow = function (user) {
        var _this = this;
        this.users.unfollow(user.id).subscribe(function () {
            _this.currentUser.removeFollower(user);
        });
    };
    UserProfilePageComponent.prototype.currentUserIsFollowing = function (user) {
        return this.currentUser.isFollowing(user);
    };
    /**
     * Check if specified user is currently logged in.
     */
    UserProfilePageComponent.prototype.isCurrentUser = function (user) {
        return user.id === this.currentUser.get('id');
    };
    /**
     * Bind to router state change events.
     */
    UserProfilePageComponent.prototype.bindToRoutingEvents = function () {
        var _this = this;
        //set user model
        this.route.data.subscribe(function (data) {
            _this.user = data.user;
        });
        //change active tab
        var sub = this.router.events
            .filter(function (event) { return event instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* NavigationEnd */]; })
            .subscribe(function (event) {
            _this.setActiveTabFromUrl(event.url);
        });
        this.subscriptions.push(sub);
    };
    /**
     * Set currently active tab based on specified url.
     */
    UserProfilePageComponent.prototype.setActiveTabFromUrl = function (url) {
        var tab = url.split('/').pop();
        switch (tab) {
            case 'following':
                this.activeTab = 'following';
                break;
            case 'followers':
                this.activeTab = 'followers';
                break;
            default:
                this.activeTab = 'playlists';
        }
    };
    UserProfilePageComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'user-profile-page',
            template: __webpack_require__("./src/app/web-player/users/user-profile-page/user-profile-page.component.html"),
            styles: [__webpack_require__("./src/app/web-player/users/user-profile-page/user-profile-page.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__shared_settings_service__["a" /* Settings */],
            __WEBPACK_IMPORTED_MODULE_3__web_player_urls_service__["a" /* WebPlayerUrls */],
            __WEBPACK_IMPORTED_MODULE_4__users_service__["a" /* Users */],
            __WEBPACK_IMPORTED_MODULE_5__auth_current_user__["a" /* CurrentUser */]])
    ], UserProfilePageComponent);
    return UserProfilePageComponent;
}());



/***/ }),

/***/ "./src/app/web-player/users/users.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Users; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__ = __webpack_require__("./src/app/shared/app-http-client.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var Users = (function () {
    /**
     * Users REST service constructor.
     */
    function Users(http) {
        this.http = http;
    }
    /**
     * Get user matching specified ID.
     */
    Users.prototype.get = function (id) {
        return this.http.get("users/" + id);
    };
    /**
     * Follow specified user with currently logged in user.
     */
    Users.prototype.follow = function (id) {
        return this.http.post("users/" + id + "/follow");
    };
    /**
     * Unfollow specified user with currently logged in user.
     */
    Users.prototype.unfollow = function (id) {
        return this.http.post("users/" + id + "/unfollow");
    };
    /**
     * Fetch users without pagination.
     */
    Users.prototype.getAll = function (params) {
        if (params === void 0) { params = null; }
        return this.http.get('users', params).map(function (response) { return response['data']; });
    };
    /**
     * Create a new user.
     */
    Users.prototype.create = function (payload) {
        return this.http.post('users', payload);
    };
    /**
     * Update existing user.
     */
    Users.prototype.update = function (id, payload) {
        return this.http.put('users/' + id, payload);
    };
    /**
     * Change specified user password.
     */
    Users.prototype.changePassword = function (id, payload) {
        return this.http.post('users/' + id + '/password/change', payload);
    };
    /**
     * Attach specified groups to user.
     */
    Users.prototype.attachGroups = function (id, payload) {
        if (payload === void 0) { payload = {}; }
        return this.http.post('users/' + id + '/groups/attach', payload);
    };
    /**
     * Detach specified groups from user.
     */
    Users.prototype.detachGroups = function (id, payload) {
        if (payload === void 0) { payload = {}; }
        return this.http.post('users/' + id + '/groups/detach', payload);
    };
    /**
     * Add specified permissions to user.
     */
    Users.prototype.addPermissions = function (id, payload) {
        if (payload === void 0) { payload = {}; }
        return this.http.post('users/' + id + '/permissions/add', payload);
    };
    /**
     * Remove specified permissions from user.
     */
    Users.prototype.removePermissions = function (id, payload) {
        if (payload === void 0) { payload = {}; }
        return this.http.post('users/' + id + '/permissions/remove', payload);
    };
    /**
     * Upload and attach avatar to specified user.
     */
    Users.prototype.uploadAvatar = function (id, files) {
        var payload = new FormData();
        payload.append('avatar', files.item(0));
        return this.http.post('users/' + id + '/avatar', payload);
    };
    /**
     * Delete specified user's avatar.
     */
    Users.prototype.deleteAvatar = function (id) {
        return this.http.delete('users/' + id + '/avatar');
    };
    /**
     * Delete multiple users.
     */
    Users.prototype.deleteMultiple = function (ids) {
        return this.http.delete('users/delete-multiple', { ids: ids });
    };
    Users = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_app_http_client_service__["a" /* AppHttpClient */]])
    ], Users);
    return Users;
}());



/***/ }),

/***/ "./src/app/web-player/web-player-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WebPlayerRoutingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__albums_popular_albums_popular_albums_component__ = __webpack_require__("./src/app/web-player/albums/popular-albums/popular-albums.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__web_player_component__ = __webpack_require__("./src/app/web-player/web-player.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__genres_popular_genres_popular_genres_component__ = __webpack_require__("./src/app/web-player/genres/popular-genres/popular-genres.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__albums_album_album_component__ = __webpack_require__("./src/app/web-player/albums/album/album.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__albums_album_album_resolver_service__ = __webpack_require__("./src/app/web-player/albums/album/album-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__albums_popular_albums_popular_albums_resolver_service__ = __webpack_require__("./src/app/web-player/albums/popular-albums/popular-albums-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__genres_popular_genres_popular_genres_resolver_service__ = __webpack_require__("./src/app/web-player/genres/popular-genres/popular-genres-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__users_user_library_library_tracks_library_tracks_component__ = __webpack_require__("./src/app/web-player/users/user-library/library-tracks/library-tracks.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__users_user_library_library_tracks_library_tracks_resolver_service__ = __webpack_require__("./src/app/web-player/users/user-library/library-tracks/library-tracks-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__users_user_library_library_albums_library_albums_component__ = __webpack_require__("./src/app/web-player/users/user-library/library-albums/library-albums.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__users_user_library_library_albums_library_albums_resolver_service__ = __webpack_require__("./src/app/web-player/users/user-library/library-albums/library-albums-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__guards_auth_guard_service__ = __webpack_require__("./src/app/guards/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__users_user_library_library_artists_library_artists_component__ = __webpack_require__("./src/app/web-player/users/user-library/library-artists/library-artists.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__users_user_library_library_artists_library_artists_resolver_service__ = __webpack_require__("./src/app/web-player/users/user-library/library-artists/library-artists-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__artists_artist_artist_component__ = __webpack_require__("./src/app/web-player/artists/artist/artist.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__artists_artist_artist_resolver_service__ = __webpack_require__("./src/app/web-player/artists/artist/artist-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__ = __webpack_require__("./src/app/shared/empty-route/empty-route.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__genres_genre_genre_component__ = __webpack_require__("./src/app/web-player/genres/genre/genre.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__genres_genre_genre_artists_resolver_service__ = __webpack_require__("./src/app/web-player/genres/genre/genre-artists-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__playlists_playlist_playlist_component__ = __webpack_require__("./src/app/web-player/playlists/playlist/playlist.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__playlists_playlist_playlist_resolver_service__ = __webpack_require__("./src/app/web-player/playlists/playlist/playlist-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__search_search_search_component__ = __webpack_require__("./src/app/web-player/search/search/search.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__search_search_search_resolver_service__ = __webpack_require__("./src/app/web-player/search/search/search-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__search_search_search_tab_valid_guard__ = __webpack_require__("./src/app/web-player/search/search/search-tab-valid.guard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__tracks_track_page_track_page_component__ = __webpack_require__("./src/app/web-player/tracks/track-page/track-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__tracks_track_page_track_page_resolver_service__ = __webpack_require__("./src/app/web-player/tracks/track-page/track-page-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__users_user_profile_page_user_profile_page_component__ = __webpack_require__("./src/app/web-player/users/user-profile-page/user-profile-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__users_user_profile_page_user_profile_page_resolver_service__ = __webpack_require__("./src/app/web-player/users/user-profile-page/user-profile-page-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__albums_new_releases_page_new_releases_page_component__ = __webpack_require__("./src/app/web-player/albums/new-releases-page/new-releases-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__albums_new_releases_page_new_releases_page_resolver_service__ = __webpack_require__("./src/app/web-player/albums/new-releases-page/new-releases-page.resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__tracks_top_tracks_page_top_tracks_page_component__ = __webpack_require__("./src/app/web-player/tracks/top-tracks-page/top-tracks-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__tracks_top_tracks_page_top_tracks_page_resolver_service__ = __webpack_require__("./src/app/web-player/tracks/top-tracks-page/top-tracks-page-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__radio_page_radio_page_component__ = __webpack_require__("./src/app/web-player/radio-page/radio-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__radio_page_radio_page_resolver_service__ = __webpack_require__("./src/app/web-player/radio-page/radio-page-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__users_account_settings_account_settings_component__ = __webpack_require__("./src/app/web-player/users/account-settings/account-settings.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__users_account_settings_account_settings_resolve_service__ = __webpack_require__("./src/app/web-player/users/account-settings/account-settings-resolve.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__users_user_library_user_library_component__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__users_user_library_library_playlists_library_playlists_component__ = __webpack_require__("./src/app/web-player/users/user-library/library-playlists/library-playlists.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__users_user_library_library_playlists_library_playlists_resolver_service__ = __webpack_require__("./src/app/web-player/users/user-library/library-playlists/library-playlists-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__pages_page_component__ = __webpack_require__("./src/app/pages/page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__guards_check_permissions_guard_service__ = __webpack_require__("./src/app/guards/check-permissions-guard.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











































var routes = [
    { path: '', component: __WEBPACK_IMPORTED_MODULE_3__web_player_component__["a" /* WebPlayerComponent */], canActivateChild: [__WEBPACK_IMPORTED_MODULE_42__guards_check_permissions_guard_service__["a" /* CheckPermissionsGuard */]], data: { name: 'parent-home-route' }, children: [
            { path: '', component: __WEBPACK_IMPORTED_MODULE_4__genres_popular_genres_popular_genres_component__["a" /* PopularGenresComponent */], resolve: { genres: __WEBPACK_IMPORTED_MODULE_8__genres_popular_genres_popular_genres_resolver_service__["a" /* PopularGenresResolver */] }, data: { name: 'home' } },
            { path: 'popular-albums', component: __WEBPACK_IMPORTED_MODULE_2__albums_popular_albums_popular_albums_component__["a" /* PopularAlbumsComponent */], resolve: { albums: __WEBPACK_IMPORTED_MODULE_7__albums_popular_albums_popular_albums_resolver_service__["a" /* PopularAlbumsResolver */] }, data: { name: 'popular-albums' } },
            { path: 'new-releases', component: __WEBPACK_IMPORTED_MODULE_30__albums_new_releases_page_new_releases_page_component__["a" /* NewReleasesPageComponent */], resolve: { albums: __WEBPACK_IMPORTED_MODULE_31__albums_new_releases_page_new_releases_page_resolver_service__["a" /* NewReleasesPageResolver */] }, data: { name: 'new-releases' } },
            { path: 'top-50', component: __WEBPACK_IMPORTED_MODULE_32__tracks_top_tracks_page_top_tracks_page_component__["a" /* TopTracksPageComponent */], resolve: { tracks: __WEBPACK_IMPORTED_MODULE_33__tracks_top_tracks_page_top_tracks_page_resolver_service__["a" /* TopTracksPageResolver */] }, data: { name: 'top-50' } },
            { path: 'popular-genres', component: __WEBPACK_IMPORTED_MODULE_4__genres_popular_genres_popular_genres_component__["a" /* PopularGenresComponent */], resolve: { genres: __WEBPACK_IMPORTED_MODULE_8__genres_popular_genres_popular_genres_resolver_service__["a" /* PopularGenresResolver */] }, data: { name: 'popular-genres' } },
            { path: 'album/:id/:artist/:album', component: __WEBPACK_IMPORTED_MODULE_5__albums_album_album_component__["a" /* AlbumComponent */], resolve: { album: __WEBPACK_IMPORTED_MODULE_6__albums_album_album_resolver_service__["a" /* AlbumResolver */] }, data: { name: 'album' } },
            { path: 'genre/:name', component: __WEBPACK_IMPORTED_MODULE_19__genres_genre_genre_component__["a" /* GenreComponent */], resolve: { genreData: __WEBPACK_IMPORTED_MODULE_20__genres_genre_genre_artists_resolver_service__["a" /* GenreArtistsResolver */] }, data: { name: 'genre' } },
            { path: 'playlists/:id', component: __WEBPACK_IMPORTED_MODULE_21__playlists_playlist_playlist_component__["a" /* PlaylistComponent */], resolve: { playlist: __WEBPACK_IMPORTED_MODULE_22__playlists_playlist_playlist_resolver_service__["a" /* PlaylistResolver */] }, data: { name: 'playlist' } },
            { path: 'playlists/:id/:name', component: __WEBPACK_IMPORTED_MODULE_21__playlists_playlist_playlist_component__["a" /* PlaylistComponent */], resolve: { playlist: __WEBPACK_IMPORTED_MODULE_22__playlists_playlist_playlist_resolver_service__["a" /* PlaylistResolver */] }, data: { name: 'playlist' } },
            { path: 'track/:id', component: __WEBPACK_IMPORTED_MODULE_26__tracks_track_page_track_page_component__["a" /* TrackPageComponent */], resolve: { track: __WEBPACK_IMPORTED_MODULE_27__tracks_track_page_track_page_resolver_service__["a" /* TrackPageResolver */] }, data: { name: 'track' } },
            { path: 'track/:id/:name', component: __WEBPACK_IMPORTED_MODULE_26__tracks_track_page_track_page_component__["a" /* TrackPageComponent */], resolve: { track: __WEBPACK_IMPORTED_MODULE_27__tracks_track_page_track_page_resolver_service__["a" /* TrackPageResolver */] }, data: { name: 'track' } },
            { path: 'user/:id', component: __WEBPACK_IMPORTED_MODULE_28__users_user_profile_page_user_profile_page_component__["a" /* UserProfilePageComponent */], resolve: { user: __WEBPACK_IMPORTED_MODULE_29__users_user_profile_page_user_profile_page_resolver_service__["a" /* UserProfilePageResolver */] }, data: { name: 'user' }, children: [
                    { path: 'playlists', component: __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__["a" /* EmptyRouteComponent */] },
                    { path: 'following', component: __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__["a" /* EmptyRouteComponent */] },
                    { path: 'followers', component: __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__["a" /* EmptyRouteComponent */] },
                ] },
            { path: 'user/:id/:name', component: __WEBPACK_IMPORTED_MODULE_28__users_user_profile_page_user_profile_page_component__["a" /* UserProfilePageComponent */], resolve: { user: __WEBPACK_IMPORTED_MODULE_29__users_user_profile_page_user_profile_page_resolver_service__["a" /* UserProfilePageResolver */] }, data: { name: 'user' }, children: [
                    { path: 'playlists', component: __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__["a" /* EmptyRouteComponent */] },
                    { path: 'following', component: __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__["a" /* EmptyRouteComponent */] },
                    { path: 'followers', component: __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__["a" /* EmptyRouteComponent */] },
                ] },
            { path: 'search', component: __WEBPACK_IMPORTED_MODULE_23__search_search_search_component__["a" /* SearchComponent */], data: { name: 'search' } },
            { path: 'search/:query', component: __WEBPACK_IMPORTED_MODULE_23__search_search_search_component__["a" /* SearchComponent */], resolve: { results: __WEBPACK_IMPORTED_MODULE_24__search_search_search_resolver_service__["a" /* SearchResolver */] }, data: { name: 'search' } },
            { path: 'search/:query/:tab', component: __WEBPACK_IMPORTED_MODULE_23__search_search_search_component__["a" /* SearchComponent */], resolve: { results: __WEBPACK_IMPORTED_MODULE_24__search_search_search_resolver_service__["a" /* SearchResolver */] }, canActivate: [__WEBPACK_IMPORTED_MODULE_25__search_search_search_tab_valid_guard__["a" /* SearchTabValidGuard */]], data: { name: 'search' } },
            { path: 'artist/:name', component: __WEBPACK_IMPORTED_MODULE_16__artists_artist_artist_component__["a" /* ArtistComponent */], resolve: { artist: __WEBPACK_IMPORTED_MODULE_17__artists_artist_artist_resolver_service__["a" /* ArtistResolver */] }, data: { name: 'artist' }, children: [
                    { path: 'similar', component: __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__["a" /* EmptyRouteComponent */] },
                    { path: 'about', component: __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__["a" /* EmptyRouteComponent */] },
                ] },
            { path: 'artist/:id/:name', component: __WEBPACK_IMPORTED_MODULE_16__artists_artist_artist_component__["a" /* ArtistComponent */], resolve: { artist: __WEBPACK_IMPORTED_MODULE_17__artists_artist_artist_resolver_service__["a" /* ArtistResolver */] }, data: { name: 'artist' }, children: [
                    { path: 'similar', component: __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__["a" /* EmptyRouteComponent */] },
                    { path: 'about', component: __WEBPACK_IMPORTED_MODULE_18__shared_empty_route_empty_route_component__["a" /* EmptyRouteComponent */] },
                ] },
            { path: 'radio/artist/:id/:name', component: __WEBPACK_IMPORTED_MODULE_34__radio_page_radio_page_component__["a" /* RadioPageComponent */], resolve: { radio: __WEBPACK_IMPORTED_MODULE_35__radio_page_radio_page_resolver_service__["a" /* RadioPageResolver */] }, data: { type: 'artist', name: 'radio' } },
            { path: 'radio/track/:id/:name', component: __WEBPACK_IMPORTED_MODULE_34__radio_page_radio_page_component__["a" /* RadioPageComponent */], resolve: { radio: __WEBPACK_IMPORTED_MODULE_35__radio_page_radio_page_resolver_service__["a" /* RadioPageResolver */] }, data: { type: 'track', name: 'radio' } },
            { path: 'library', component: __WEBPACK_IMPORTED_MODULE_38__users_user_library_user_library_component__["a" /* UserLibraryComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard_service__["a" /* AuthGuard */]], canActivateChild: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard_service__["a" /* AuthGuard */]], children: [
                    { path: '', redirectTo: 'songs', pathMatch: 'full' },
                    { path: 'songs', component: __WEBPACK_IMPORTED_MODULE_9__users_user_library_library_tracks_library_tracks_component__["a" /* LibraryTracksComponent */], resolve: { pagination: __WEBPACK_IMPORTED_MODULE_10__users_user_library_library_tracks_library_tracks_resolver_service__["a" /* LibraryTracksResolver */] }, data: { name: 'library.tracks' } },
                    { path: 'albums', component: __WEBPACK_IMPORTED_MODULE_11__users_user_library_library_albums_library_albums_component__["a" /* LibraryAlbumsComponent */], resolve: { albums: __WEBPACK_IMPORTED_MODULE_12__users_user_library_library_albums_library_albums_resolver_service__["a" /* LibraryAlbumsResolver */] }, data: { name: 'library.albums' } },
                    { path: 'artists', component: __WEBPACK_IMPORTED_MODULE_14__users_user_library_library_artists_library_artists_component__["a" /* LibraryArtistsComponent */], resolve: { artists: __WEBPACK_IMPORTED_MODULE_15__users_user_library_library_artists_library_artists_resolver_service__["a" /* LibraryArtistsResolver */] }, data: { name: 'library.artists' } },
                    { path: 'playlists', component: __WEBPACK_IMPORTED_MODULE_39__users_user_library_library_playlists_library_playlists_component__["a" /* LibraryPlaylistsComponent */], resolve: { playlists: __WEBPACK_IMPORTED_MODULE_40__users_user_library_library_playlists_library_playlists_resolver_service__["a" /* LibraryPlaylistsResolver */] }, data: { name: 'library.playlists' } },
                ] },
            { path: 'account-settings', component: __WEBPACK_IMPORTED_MODULE_36__users_account_settings_account_settings_component__["a" /* AccountSettingsComponent */], resolve: { resolves: __WEBPACK_IMPORTED_MODULE_37__users_account_settings_account_settings_resolve_service__["a" /* AccountSettingsResolve */] }, canActivate: [__WEBPACK_IMPORTED_MODULE_13__guards_auth_guard_service__["a" /* AuthGuard */]], data: { name: 'account-settings' } },
            {
                path: 'pages/:id/:slug',
                component: __WEBPACK_IMPORTED_MODULE_41__pages_page_component__["a" /* PageComponent */],
                data: { permissions: ['pages.view'] }
            },
        ] }
];
var WebPlayerRoutingModule = (function () {
    function WebPlayerRoutingModule() {
    }
    WebPlayerRoutingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* RouterModule */].forChild(routes)],
            exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* RouterModule */]]
        })
    ], WebPlayerRoutingModule);
    return WebPlayerRoutingModule;
}());



/***/ }),

/***/ "./src/app/web-player/web-player-state.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WebPlayerState; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var WebPlayerState = (function () {
    function WebPlayerState() {
        /**
         * Whether web player is currently loading (globally)
         */
        this.loading = false;
        /**
         * Whether mobile layout should be activated.
         */
        this.isMobile = false;
        this.isMobile = window.matchMedia && window.matchMedia('(max-width: 768px)').matches;
    }
    WebPlayerState = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], WebPlayerState);
    return WebPlayerState;
}());



/***/ }),

/***/ "./src/app/web-player/web-player-urls.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WebPlayerUrls; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var WebPlayerUrls = (function () {
    function WebPlayerUrls(settings) {
        this.settings = settings;
    }
    /**
     * Get router link for specified album.
     */
    WebPlayerUrls.prototype.album = function (album, artist) {
        if (!artist)
            artist = album.artist;
        if (artist) {
            artist = typeof artist === 'string' ? artist : artist.name;
        }
        else {
            artist = 'Various Artists';
        }
        return ['/album', album.id, this.encodeItemName(artist), this.encodeItemName(album.name)];
    };
    /**
     * Get router link for specified artist.
     */
    WebPlayerUrls.prototype.artist = function (artist, append) {
        var link = ['/artist'];
        if (typeof artist === 'string') {
            link.push(this.encodeItemName(artist));
        }
        else if (artist) {
            link = link.concat([artist.id, this.encodeItemName(artist.name)]);
        }
        if (append)
            link.push(append);
        return link;
    };
    /**
     * Get router link for specified artist radio.
     */
    WebPlayerUrls.prototype.artistRadio = function (artist) {
        return ['radio/artist', artist.id, this.encodeItemName(artist.name)];
    };
    /**
     * Get router link for specified track radio.
     */
    WebPlayerUrls.prototype.trackRadio = function (track) {
        return ['radio/track', track.id, this.encodeItemName(track.name)];
    };
    /**
     * Get router link for specified genre.
     */
    WebPlayerUrls.prototype.genre = function (genre) {
        return ['/genre', this.encodeItemName(genre.name)];
    };
    WebPlayerUrls.prototype.track = function (track) {
        return ['/track', track.id, this.encodeItemName(track.name)];
    };
    WebPlayerUrls.prototype.playlist = function (playlist) {
        return ['/playlists', playlist.id, this.encodeItemName(playlist.name)];
    };
    WebPlayerUrls.prototype.user = function (user, append) {
        var link = ['/user', user.id, this.encodeItemName(user['display_name'])];
        if (append)
            link.push(append);
        return link;
    };
    WebPlayerUrls.prototype.search = function (query, tab) {
        var link = ['/search', this.encodeItemName(query)];
        if (tab)
            link.push(tab);
        return link;
    };
    /**
     * Get router link for editing specified artist.
     */
    WebPlayerUrls.prototype.editArtist = function (artist) {
        return ['admin/artists', artist.id, 'edit'];
    };
    WebPlayerUrls.prototype.encodeItemName = function (name) {
        if (!name)
            return '';
        return name.replace(/%/g, '%25').replace(/\+/g, '%2B');
    };
    WebPlayerUrls.prototype.routerLinkToUrl = function (commands) {
        var baseUrl = this.settings.getBaseUrl().replace(/\/$/, '');
        return baseUrl + this.encodeItemName(commands.join('/'));
    };
    WebPlayerUrls = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__shared_settings_service__["a" /* Settings */]])
    ], WebPlayerUrls);
    return WebPlayerUrls;
}());



/***/ }),

/***/ "./src/app/web-player/web-player-utils.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WpUtils; });
var WpUtils = (function () {
    function WpUtils() {
    }
    WpUtils.assignAlbumToTracks = function (tracks, album) {
        album = { id: album.id, name: album.name, image: album.image };
        if (!tracks)
            tracks = [];
        tracks.slice().forEach(function (track) { return track.album = track.album || album; });
        return tracks;
    };
    return WpUtils;
}());



/***/ }),

/***/ "./src/app/web-player/web-player.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"player-content\" [class.mobile]=\"state.isMobile\">\n    <ng-container *ngIf=\"!state.isMobile\">\n        <nav-sidebar *ngIf=\"!state.isMobile\"></nav-sidebar>\n        <search-slideout-panel customScrollbar></search-slideout-panel>\n        <div class=\"search-panel-overlay\" [class.visible]=\"searchPanel.isOpen\"></div>\n    </ng-container>\n\n    <router-outlet></router-outlet>\n\n    <queue-sidebar *ngIf=\"!state.isMobile\" [class.full-height]=\"shouldHideVideo\"></queue-sidebar>\n</div>\n\n<player-controls *ngIf=\"!state.isMobile\"></player-controls>\n<mobile-player-controls *ngIf=\"state.isMobile\"></mobile-player-controls>\n\n<fullscreen-overlay [class.mobile]=\"state.isMobile\" ngClass=\"strategy-{{player.getPlaybackStrategy()}}\" [class.hide-video]=\"shouldHideVideo\" customScrollbar>\n    <div class=\"player-container youtube-player\" id=\"youtube-player\"></div>\n    <div class=\"player-container html5-player\"></div>\n    <div class=\"player-container soundcloud-player\"></div>\n</fullscreen-overlay>\n\n<loading-indicator [isVisible]=\"state.loading\" class=\"overlay\"></loading-indicator>"

/***/ }),

/***/ "./src/app/web-player/web-player.component.scss":
/***/ (function(module, exports) {

module.exports = "web-player {\n  display: block;\n  position: relative;\n  background-color: #1e1e26;\n  color: #C2C2CA;\n  height: 100%;\n  width: 100%;\n  overflow: hidden; }\n  web-player > .player-content {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    width: 100%;\n    height: calc(100% - 65px);\n    position: relative;\n    -webkit-box-flex: 1;\n        -ms-flex: 1 1 auto;\n            flex: 1 1 auto;\n    overflow: hidden; }\n  web-player > .player-content.mobile {\n      height: calc(100% - 137px); }\n  web-player .search-panel-overlay {\n    display: none;\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    bottom: 65px;\n    left: 220px;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 3; }\n  web-player .search-panel-overlay.visible {\n      display: block; }\n"

/***/ }),

/***/ "./src/app/web-player/web-player.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WebPlayerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__search_search_slideout_panel_search_slideout_panel_service__ = __webpack_require__("./src/app/web-player/search/search-slideout-panel/search-slideout-panel.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__fullscreen_overlay_fullscreen_overlay_service__ = __webpack_require__("./src/app/web-player/fullscreen-overlay/fullscreen-overlay.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_settings_service__ = __webpack_require__("./src/app/shared/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var WebPlayerComponent = (function () {
    /**
     * WebPlayerComponent Constructor.
     */
    function WebPlayerComponent(searchPanel, player, renderer, contextMenu, state, overlay, settings) {
        this.searchPanel = searchPanel;
        this.player = player;
        this.renderer = renderer;
        this.contextMenu = contextMenu;
        this.state = state;
        this.overlay = overlay;
        this.settings = settings;
        /**
         * Whether small video should be hidden.
         */
        this.shouldHideVideo = false;
    }
    WebPlayerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.player.init();
        this.overlay.init();
        this.shouldHideVideo = this.settings.get('player.hide_video');
        //disable default context menus in web player
        this.renderer.listen('document', 'contextmenu', function (e) {
            e.preventDefault();
            _this.contextMenu.close();
        });
    };
    WebPlayerComponent.prototype.ngOnDestroy = function () {
        this.player.destroy();
        this.overlay.destroy();
    };
    WebPlayerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'web-player',
            template: __webpack_require__("./src/app/web-player/web-player.component.html"),
            styles: [__webpack_require__("./src/app/web-player/web-player.component.scss")],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewEncapsulation"].None,
            host: { 'id': 'web-player' }
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__search_search_slideout_panel_search_slideout_panel_service__["a" /* SearchSlideoutPanel */],
            __WEBPACK_IMPORTED_MODULE_2__player_player_service__["a" /* Player */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["Renderer2"],
            __WEBPACK_IMPORTED_MODULE_3__context_menu_context_menu_service__["a" /* ContextMenu */],
            __WEBPACK_IMPORTED_MODULE_4__web_player_state_service__["a" /* WebPlayerState */],
            __WEBPACK_IMPORTED_MODULE_5__fullscreen_overlay_fullscreen_overlay_service__["a" /* FullscreenOverlay */],
            __WEBPACK_IMPORTED_MODULE_6__shared_settings_service__["a" /* Settings */]])
    ], WebPlayerComponent);
    return WebPlayerComponent;
}());



/***/ }),

/***/ "./src/app/web-player/web-player.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WebPlayerModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__nav_sidebar_nav_sidebar_component__ = __webpack_require__("./src/app/web-player/nav-sidebar/nav-sidebar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__web_player_component__ = __webpack_require__("./src/app/web-player/web-player.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__search_search_slideout_panel_search_slideout_panel_component__ = __webpack_require__("./src/app/web-player/search/search-slideout-panel/search-slideout-panel.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__search_search_slideout_panel_search_slideout_panel_service__ = __webpack_require__("./src/app/web-player/search/search-slideout-panel/search-slideout-panel.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_shared_module__ = __webpack_require__("./src/app/shared/shared.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__search_search_service__ = __webpack_require__("./src/app/web-player/search/search.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__albums_popular_albums_popular_albums_component__ = __webpack_require__("./src/app/web-player/albums/popular-albums/popular-albums.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__web_player_routing_module__ = __webpack_require__("./src/app/web-player/web-player-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__albums_albums_service__ = __webpack_require__("./src/app/web-player/albums/albums.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__web_player_urls_service__ = __webpack_require__("./src/app/web-player/web-player-urls.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__genres_popular_genres_popular_genres_component__ = __webpack_require__("./src/app/web-player/genres/popular-genres/popular-genres.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__genres_genres_service__ = __webpack_require__("./src/app/web-player/genres/genres.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__filterable_page_filterable_page_header_filterable_page_header_component__ = __webpack_require__("./src/app/web-player/filterable-page/filterable-page-header/filterable-page-header.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__player_player_service__ = __webpack_require__("./src/app/web-player/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__player_player_controls_player_controls_component__ = __webpack_require__("./src/app/web-player/player/player-controls/player-controls.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__player_player_queue_service__ = __webpack_require__("./src/app/web-player/player/player-queue.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__albums_album_album_component__ = __webpack_require__("./src/app/web-player/albums/album/album.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__albums_album_album_resolver_service__ = __webpack_require__("./src/app/web-player/albums/album/album-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__tracks_track_list_track_list_component__ = __webpack_require__("./src/app/web-player/tracks/track-list/track-list.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__tracks_track_list_playing_indicator_playing_indicator_component__ = __webpack_require__("./src/app/web-player/tracks/track-list/playing-indicator/playing-indicator.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__player_strategies_youtube_strategy_service__ = __webpack_require__("./src/app/web-player/player/strategies/youtube-strategy.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__albums_popular_albums_popular_albums_resolver_service__ = __webpack_require__("./src/app/web-player/albums/popular-albums/popular-albums-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__genres_popular_genres_popular_genres_resolver_service__ = __webpack_require__("./src/app/web-player/genres/popular-genres/popular-genres-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__player_player_state_service__ = __webpack_require__("./src/app/web-player/player/player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__player_formatted_duration_service__ = __webpack_require__("./src/app/web-player/player/formatted-duration.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__queue_sidebar_queue_sidebar_component__ = __webpack_require__("./src/app/web-player/queue-sidebar/queue-sidebar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__custom_scrollbar_directive__ = __webpack_require__("./src/app/web-player/custom-scrollbar.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__player_player_controls_volume_controls_volume_controls_component__ = __webpack_require__("./src/app/web-player/player/player-controls/volume-controls/volume-controls.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__player_player_controls_player_seekbar_player_seekbar_component__ = __webpack_require__("./src/app/web-player/player/player-controls/player-seekbar/player-seekbar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__player_playback_control_button_playback_control_button_component__ = __webpack_require__("./src/app/web-player/player/playback-control-button/playback-control-button.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__fullscreen_overlay_fullscreen_overlay_component__ = __webpack_require__("./src/app/web-player/fullscreen-overlay/fullscreen-overlay.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__player_player_controls_main_playback_buttons_main_playback_buttons_component__ = __webpack_require__("./src/app/web-player/player/player-controls/main-playback-buttons/main-playback-buttons.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__fullscreen_overlay_fullscreen_overlay_service__ = __webpack_require__("./src/app/web-player/fullscreen-overlay/fullscreen-overlay.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__player_player_controls_repeat_button_repeat_button_component__ = __webpack_require__("./src/app/web-player/player/player-controls/repeat-button/repeat-button.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__queue_sidebar_queue_sidebar_service__ = __webpack_require__("./src/app/web-player/queue-sidebar/queue-sidebar.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__users_user_library_user_library_service__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__users_user_library_library_track_toggle_button_library_track_toggle_button_component__ = __webpack_require__("./src/app/web-player/users/user-library/library-track-toggle-button/library-track-toggle-button.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__users_user_library_library_tracks_library_tracks_component__ = __webpack_require__("./src/app/web-player/users/user-library/library-tracks/library-tracks.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__users_user_library_library_tracks_library_tracks_resolver_service__ = __webpack_require__("./src/app/web-player/users/user-library/library-tracks/library-tracks-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__users_user_library_library_tracks_service__ = __webpack_require__("./src/app/web-player/users/user-library/library-tracks.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__users_user_library_library_albums_library_albums_component__ = __webpack_require__("./src/app/web-player/users/user-library/library-albums/library-albums.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__users_user_library_library_albums_library_albums_resolver_service__ = __webpack_require__("./src/app/web-player/users/user-library/library-albums/library-albums-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__filterable_page_sorting_header_sorting_header_component__ = __webpack_require__("./src/app/web-player/filterable-page/sorting-header/sorting-header.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__users_user_library_library_artists_library_artists_component__ = __webpack_require__("./src/app/web-player/users/user-library/library-artists/library-artists.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__users_user_library_library_artists_library_artists_resolver_service__ = __webpack_require__("./src/app/web-player/users/user-library/library-artists/library-artists-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__albums_album_item_album_item_component__ = __webpack_require__("./src/app/web-player/albums/album-item/album-item.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__media_grid_media_grid_component__ = __webpack_require__("./src/app/web-player/media-grid/media-grid.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__artists_artists_service__ = __webpack_require__("./src/app/web-player/artists/artists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__artists_artist_item_artist_item_component__ = __webpack_require__("./src/app/web-player/artists/artist-item/artist-item.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__artists_artist_service__ = __webpack_require__("./src/app/web-player/artists/artist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__artists_artist_artist_component__ = __webpack_require__("./src/app/web-player/artists/artist/artist.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__artists_artist_artist_resolver_service__ = __webpack_require__("./src/app/web-player/artists/artist/artist-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__context_menu_context_menu_directive__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.directive.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__context_menu_context_menu_service__ = __webpack_require__("./src/app/web-player/context-menu/context-menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__albums_album_context_menu_album_context_menu_component__ = __webpack_require__("./src/app/web-player/albums/album-context-menu/album-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__playlists_crupdate_playlist_modal_crupdate_playlist_modal_component__ = __webpack_require__("./src/app/web-player/playlists/crupdate-playlist-modal/crupdate-playlist-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__tracks_track_context_menu_track_context_menu_component__ = __webpack_require__("./src/app/web-player/tracks/track-context-menu/track-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__artists_artists_links_list_artists_links_list_component__ = __webpack_require__("./src/app/web-player/artists/artists-links-list/artists-links-list.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__artists_artist_context_menu_artist_context_menu_component__ = __webpack_require__("./src/app/web-player/artists/artist-context-menu/artist-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__genres_genre_genre_component__ = __webpack_require__("./src/app/web-player/genres/genre/genre.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61__genres_genre_genre_artists_resolver_service__ = __webpack_require__("./src/app/web-player/genres/genre/genre-artists-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__playlists_user_playlists_service__ = __webpack_require__("./src/app/web-player/playlists/user-playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__playlists_playlists_service__ = __webpack_require__("./src/app/web-player/playlists/playlists.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__context_menu_context_menu_playlist_panel_context_menu_playlist_panel_component__ = __webpack_require__("./src/app/web-player/context-menu/context-menu-playlist-panel/context-menu-playlist-panel.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__playlists_playlist_playlist_component__ = __webpack_require__("./src/app/web-player/playlists/playlist/playlist.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__playlists_playlist_playlist_resolver_service__ = __webpack_require__("./src/app/web-player/playlists/playlist/playlist-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__search_search_search_component__ = __webpack_require__("./src/app/web-player/search/search/search.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68__search_search_search_resolver_service__ = __webpack_require__("./src/app/web-player/search/search/search-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69__search_search_search_tab_valid_guard__ = __webpack_require__("./src/app/web-player/search/search/search-tab-valid.guard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_70__playlists_playlist_item_playlist_item_component__ = __webpack_require__("./src/app/web-player/playlists/playlist-item/playlist-item.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_71__playlists_playlist_service__ = __webpack_require__("./src/app/web-player/playlists/playlist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_72__users_user_item_user_item_component__ = __webpack_require__("./src/app/web-player/users/user-item/user-item.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_73__playlists_playlist_track_context_menu_playlist_track_context_menu_component__ = __webpack_require__("./src/app/web-player/playlists/playlist-track-context-menu/playlist-track-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_74__playlists_playlist_context_menu_playlist_context_menu_component__ = __webpack_require__("./src/app/web-player/playlists/playlist-context-menu/playlist-context-menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_75__web_player_state_service__ = __webpack_require__("./src/app/web-player/web-player-state.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_76__tracks_track_page_track_page_component__ = __webpack_require__("./src/app/web-player/tracks/track-page/track-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_77__tracks_track_page_track_page_resolver_service__ = __webpack_require__("./src/app/web-player/tracks/track-page/track-page-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_78__tracks_tracks_service__ = __webpack_require__("./src/app/web-player/tracks/tracks.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_79__users_user_profile_page_user_profile_page_component__ = __webpack_require__("./src/app/web-player/users/user-profile-page/user-profile-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_80__users_users_service__ = __webpack_require__("./src/app/web-player/users/users.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_81__users_user_profile_page_user_profile_page_resolver_service__ = __webpack_require__("./src/app/web-player/users/user-profile-page/user-profile-page-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_82__albums_new_releases_page_new_releases_page_resolver_service__ = __webpack_require__("./src/app/web-player/albums/new-releases-page/new-releases-page.resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_83__albums_new_releases_page_new_releases_page_component__ = __webpack_require__("./src/app/web-player/albums/new-releases-page/new-releases-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_84__tracks_top_tracks_page_top_tracks_page_component__ = __webpack_require__("./src/app/web-player/tracks/top-tracks-page/top-tracks-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_85__tracks_top_tracks_page_top_tracks_page_resolver_service__ = __webpack_require__("./src/app/web-player/tracks/top-tracks-page/top-tracks-page-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_86__radio_page_radio_page_component__ = __webpack_require__("./src/app/web-player/radio-page/radio-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_87__radio_page_radio_page_resolver_service__ = __webpack_require__("./src/app/web-player/radio-page/radio-page-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_88__context_menu_share_media_item_modal_share_media_item_modal_component__ = __webpack_require__("./src/app/web-player/context-menu/share-media-item-modal/share-media-item-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_89__lyrics_lyrics_modal_lyrics_modal_component__ = __webpack_require__("./src/app/web-player/lyrics/lyrics-modal/lyrics-modal.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_90__lyrics_lyrics_service__ = __webpack_require__("./src/app/web-player/lyrics/lyrics.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_91__users_account_settings_account_settings_component__ = __webpack_require__("./src/app/web-player/users/account-settings/account-settings.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_92__users_account_settings_connect_social_accounts_panel_connect_social_accounts_panel_component__ = __webpack_require__("./src/app/web-player/users/account-settings/connect-social-accounts-panel/connect-social-accounts-panel.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_93__users_account_settings_account_settings_resolve_service__ = __webpack_require__("./src/app/web-player/users/account-settings/account-settings-resolve.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_94__player_mobile_player_controls_mobile_player_controls_component__ = __webpack_require__("./src/app/web-player/player/mobile-player-controls/mobile-player-controls.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_95__users_user_library_user_library_component__ = __webpack_require__("./src/app/web-player/users/user-library/user-library.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_96__users_user_library_library_playlists_library_playlists_component__ = __webpack_require__("./src/app/web-player/users/user-library/library-playlists/library-playlists.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_97__users_user_library_library_playlists_library_playlists_resolver_service__ = __webpack_require__("./src/app/web-player/users/user-library/library-playlists/library-playlists-resolver.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_98__player_strategies_html5_strategy_service__ = __webpack_require__("./src/app/web-player/player/strategies/html5-strategy.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_99__player_strategies_soundcloud_strategy_service__ = __webpack_require__("./src/app/web-player/player/strategies/soundcloud-strategy.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_100__ad_host_ad_host_component__ = __webpack_require__("./src/app/web-player/ad-host/ad-host.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_101__player_track_plays_service__ = __webpack_require__("./src/app/web-player/player/track-plays.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






































































































var WebPlayerModule = (function () {
    function WebPlayerModule() {
    }
    WebPlayerModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_5__shared_shared_module__["a" /* SharedModule */],
                __WEBPACK_IMPORTED_MODULE_8__web_player_routing_module__["a" /* WebPlayerRoutingModule */],
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__web_player_component__["a" /* WebPlayerComponent */],
                __WEBPACK_IMPORTED_MODULE_1__nav_sidebar_nav_sidebar_component__["a" /* NavSidebarComponent */],
                __WEBPACK_IMPORTED_MODULE_7__albums_popular_albums_popular_albums_component__["a" /* PopularAlbumsComponent */],
                __WEBPACK_IMPORTED_MODULE_83__albums_new_releases_page_new_releases_page_component__["a" /* NewReleasesPageComponent */],
                __WEBPACK_IMPORTED_MODULE_11__genres_popular_genres_popular_genres_component__["a" /* PopularGenresComponent */],
                __WEBPACK_IMPORTED_MODULE_3__search_search_slideout_panel_search_slideout_panel_component__["a" /* SearchSlideoutPanelComponent */],
                __WEBPACK_IMPORTED_MODULE_13__filterable_page_filterable_page_header_filterable_page_header_component__["a" /* FilterablePageHeaderComponent */],
                __WEBPACK_IMPORTED_MODULE_15__player_player_controls_player_controls_component__["a" /* PlayerControlsComponent */],
                __WEBPACK_IMPORTED_MODULE_17__albums_album_album_component__["a" /* AlbumComponent */],
                __WEBPACK_IMPORTED_MODULE_19__tracks_track_list_track_list_component__["a" /* TrackListComponent */],
                __WEBPACK_IMPORTED_MODULE_20__tracks_track_list_playing_indicator_playing_indicator_component__["a" /* PlayingIndicatorComponent */],
                __WEBPACK_IMPORTED_MODULE_26__queue_sidebar_queue_sidebar_component__["a" /* QueueSidebarComponent */],
                __WEBPACK_IMPORTED_MODULE_27__custom_scrollbar_directive__["a" /* CustomScrollbarDirective */],
                __WEBPACK_IMPORTED_MODULE_28__player_player_controls_volume_controls_volume_controls_component__["a" /* VolumeControlsComponent */],
                __WEBPACK_IMPORTED_MODULE_29__player_player_controls_player_seekbar_player_seekbar_component__["a" /* PlayerSeekbarComponent */],
                __WEBPACK_IMPORTED_MODULE_30__player_playback_control_button_playback_control_button_component__["a" /* PlaybackControlButtonComponent */],
                __WEBPACK_IMPORTED_MODULE_31__fullscreen_overlay_fullscreen_overlay_component__["a" /* FullscreenOverlayComponent */],
                __WEBPACK_IMPORTED_MODULE_32__player_player_controls_main_playback_buttons_main_playback_buttons_component__["a" /* MainPlaybackButtonsComponent */],
                __WEBPACK_IMPORTED_MODULE_34__player_player_controls_repeat_button_repeat_button_component__["a" /* RepeatButtonComponent */],
                __WEBPACK_IMPORTED_MODULE_37__users_user_library_library_track_toggle_button_library_track_toggle_button_component__["a" /* LibraryTrackToggleButtonComponent */],
                __WEBPACK_IMPORTED_MODULE_38__users_user_library_library_tracks_library_tracks_component__["a" /* LibraryTracksComponent */],
                __WEBPACK_IMPORTED_MODULE_41__users_user_library_library_albums_library_albums_component__["a" /* LibraryAlbumsComponent */],
                __WEBPACK_IMPORTED_MODULE_43__filterable_page_sorting_header_sorting_header_component__["a" /* SortingHeaderComponent */],
                __WEBPACK_IMPORTED_MODULE_44__users_user_library_library_artists_library_artists_component__["a" /* LibraryArtistsComponent */],
                __WEBPACK_IMPORTED_MODULE_46__albums_album_item_album_item_component__["a" /* AlbumItemComponent */],
                __WEBPACK_IMPORTED_MODULE_49__artists_artist_item_artist_item_component__["a" /* ArtistItemComponent */],
                __WEBPACK_IMPORTED_MODULE_72__users_user_item_user_item_component__["a" /* UserItemComponent */],
                __WEBPACK_IMPORTED_MODULE_70__playlists_playlist_item_playlist_item_component__["a" /* PlaylistItemComponent */],
                __WEBPACK_IMPORTED_MODULE_47__media_grid_media_grid_component__["a" /* MediaGridComponent */],
                __WEBPACK_IMPORTED_MODULE_51__artists_artist_artist_component__["a" /* ArtistComponent */],
                __WEBPACK_IMPORTED_MODULE_53__context_menu_context_menu_directive__["a" /* ContextMenuDirective */],
                __WEBPACK_IMPORTED_MODULE_55__albums_album_context_menu_album_context_menu_component__["a" /* AlbumContextMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_56__playlists_crupdate_playlist_modal_crupdate_playlist_modal_component__["a" /* CrupdatePlaylistModalComponent */],
                __WEBPACK_IMPORTED_MODULE_57__tracks_track_context_menu_track_context_menu_component__["a" /* TrackContextMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_58__artists_artists_links_list_artists_links_list_component__["a" /* ArtistsLinksListComponent */],
                __WEBPACK_IMPORTED_MODULE_59__artists_artist_context_menu_artist_context_menu_component__["a" /* ArtistContextMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_60__genres_genre_genre_component__["a" /* GenreComponent */],
                __WEBPACK_IMPORTED_MODULE_64__context_menu_context_menu_playlist_panel_context_menu_playlist_panel_component__["a" /* ContextMenuPlaylistPanelComponent */],
                __WEBPACK_IMPORTED_MODULE_65__playlists_playlist_playlist_component__["a" /* PlaylistComponent */],
                __WEBPACK_IMPORTED_MODULE_67__search_search_search_component__["a" /* SearchComponent */],
                __WEBPACK_IMPORTED_MODULE_72__users_user_item_user_item_component__["a" /* UserItemComponent */],
                __WEBPACK_IMPORTED_MODULE_73__playlists_playlist_track_context_menu_playlist_track_context_menu_component__["a" /* PlaylistTrackContextMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_74__playlists_playlist_context_menu_playlist_context_menu_component__["a" /* PlaylistContextMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_76__tracks_track_page_track_page_component__["a" /* TrackPageComponent */],
                __WEBPACK_IMPORTED_MODULE_79__users_user_profile_page_user_profile_page_component__["a" /* UserProfilePageComponent */],
                __WEBPACK_IMPORTED_MODULE_84__tracks_top_tracks_page_top_tracks_page_component__["a" /* TopTracksPageComponent */],
                __WEBPACK_IMPORTED_MODULE_86__radio_page_radio_page_component__["a" /* RadioPageComponent */],
                __WEBPACK_IMPORTED_MODULE_88__context_menu_share_media_item_modal_share_media_item_modal_component__["a" /* ShareMediaItemModalComponent */],
                __WEBPACK_IMPORTED_MODULE_89__lyrics_lyrics_modal_lyrics_modal_component__["a" /* LyricsModalComponent */],
                __WEBPACK_IMPORTED_MODULE_91__users_account_settings_account_settings_component__["a" /* AccountSettingsComponent */],
                __WEBPACK_IMPORTED_MODULE_92__users_account_settings_connect_social_accounts_panel_connect_social_accounts_panel_component__["a" /* ConnectSocialAccountsPanelComponent */],
                __WEBPACK_IMPORTED_MODULE_94__player_mobile_player_controls_mobile_player_controls_component__["a" /* MobilePlayerControlsComponent */],
                __WEBPACK_IMPORTED_MODULE_95__users_user_library_user_library_component__["a" /* UserLibraryComponent */],
                __WEBPACK_IMPORTED_MODULE_96__users_user_library_library_playlists_library_playlists_component__["a" /* LibraryPlaylistsComponent */],
                __WEBPACK_IMPORTED_MODULE_100__ad_host_ad_host_component__["a" /* AdHostComponent */]
            ],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_55__albums_album_context_menu_album_context_menu_component__["a" /* AlbumContextMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_57__tracks_track_context_menu_track_context_menu_component__["a" /* TrackContextMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_59__artists_artist_context_menu_artist_context_menu_component__["a" /* ArtistContextMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_74__playlists_playlist_context_menu_playlist_context_menu_component__["a" /* PlaylistContextMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_73__playlists_playlist_track_context_menu_playlist_track_context_menu_component__["a" /* PlaylistTrackContextMenuComponent */],
                __WEBPACK_IMPORTED_MODULE_56__playlists_crupdate_playlist_modal_crupdate_playlist_modal_component__["a" /* CrupdatePlaylistModalComponent */],
                __WEBPACK_IMPORTED_MODULE_88__context_menu_share_media_item_modal_share_media_item_modal_component__["a" /* ShareMediaItemModalComponent */],
                __WEBPACK_IMPORTED_MODULE_89__lyrics_lyrics_modal_lyrics_modal_component__["a" /* LyricsModalComponent */],
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_9__albums_albums_service__["a" /* Albums */],
                __WEBPACK_IMPORTED_MODULE_48__artists_artists_service__["a" /* Artists */],
                __WEBPACK_IMPORTED_MODULE_12__genres_genres_service__["a" /* Genres */],
                __WEBPACK_IMPORTED_MODULE_6__search_search_service__["a" /* Search */],
                __WEBPACK_IMPORTED_MODULE_14__player_player_service__["a" /* Player */],
                __WEBPACK_IMPORTED_MODULE_50__artists_artist_service__["a" /* ArtistService */],
                __WEBPACK_IMPORTED_MODULE_71__playlists_playlist_service__["a" /* PlaylistService */],
                __WEBPACK_IMPORTED_MODULE_21__player_strategies_youtube_strategy_service__["a" /* YoutubeStrategy */],
                __WEBPACK_IMPORTED_MODULE_98__player_strategies_html5_strategy_service__["a" /* Html5Strategy */],
                __WEBPACK_IMPORTED_MODULE_99__player_strategies_soundcloud_strategy_service__["a" /* SoundcloudStrategy */],
                __WEBPACK_IMPORTED_MODULE_10__web_player_urls_service__["a" /* WebPlayerUrls */],
                __WEBPACK_IMPORTED_MODULE_16__player_player_queue_service__["a" /* PlayerQueue */],
                __WEBPACK_IMPORTED_MODULE_24__player_player_state_service__["a" /* PlayerState */],
                __WEBPACK_IMPORTED_MODULE_25__player_formatted_duration_service__["a" /* FormattedDuration */],
                __WEBPACK_IMPORTED_MODULE_35__queue_sidebar_queue_sidebar_service__["a" /* QueueSidebar */],
                __WEBPACK_IMPORTED_MODULE_4__search_search_slideout_panel_search_slideout_panel_service__["a" /* SearchSlideoutPanel */],
                __WEBPACK_IMPORTED_MODULE_33__fullscreen_overlay_fullscreen_overlay_service__["a" /* FullscreenOverlay */],
                __WEBPACK_IMPORTED_MODULE_18__albums_album_album_resolver_service__["a" /* AlbumResolver */],
                __WEBPACK_IMPORTED_MODULE_22__albums_popular_albums_popular_albums_resolver_service__["a" /* PopularAlbumsResolver */],
                __WEBPACK_IMPORTED_MODULE_23__genres_popular_genres_popular_genres_resolver_service__["a" /* PopularGenresResolver */],
                __WEBPACK_IMPORTED_MODULE_61__genres_genre_genre_artists_resolver_service__["a" /* GenreArtistsResolver */],
                __WEBPACK_IMPORTED_MODULE_66__playlists_playlist_playlist_resolver_service__["a" /* PlaylistResolver */],
                __WEBPACK_IMPORTED_MODULE_52__artists_artist_artist_resolver_service__["a" /* ArtistResolver */],
                __WEBPACK_IMPORTED_MODULE_82__albums_new_releases_page_new_releases_page_resolver_service__["a" /* NewReleasesPageResolver */],
                __WEBPACK_IMPORTED_MODULE_36__users_user_library_user_library_service__["a" /* UserLibrary */],
                __WEBPACK_IMPORTED_MODULE_68__search_search_search_resolver_service__["a" /* SearchResolver */],
                __WEBPACK_IMPORTED_MODULE_39__users_user_library_library_tracks_library_tracks_resolver_service__["a" /* LibraryTracksResolver */],
                __WEBPACK_IMPORTED_MODULE_42__users_user_library_library_albums_library_albums_resolver_service__["a" /* LibraryAlbumsResolver */],
                __WEBPACK_IMPORTED_MODULE_45__users_user_library_library_artists_library_artists_resolver_service__["a" /* LibraryArtistsResolver */],
                __WEBPACK_IMPORTED_MODULE_97__users_user_library_library_playlists_library_playlists_resolver_service__["a" /* LibraryPlaylistsResolver */],
                __WEBPACK_IMPORTED_MODULE_40__users_user_library_library_tracks_service__["a" /* LibraryTracks */],
                __WEBPACK_IMPORTED_MODULE_62__playlists_user_playlists_service__["a" /* UserPlaylists */],
                __WEBPACK_IMPORTED_MODULE_63__playlists_playlists_service__["a" /* Playlists */],
                __WEBPACK_IMPORTED_MODULE_54__context_menu_context_menu_service__["a" /* ContextMenu */],
                __WEBPACK_IMPORTED_MODULE_69__search_search_search_tab_valid_guard__["a" /* SearchTabValidGuard */],
                __WEBPACK_IMPORTED_MODULE_75__web_player_state_service__["a" /* WebPlayerState */],
                __WEBPACK_IMPORTED_MODULE_77__tracks_track_page_track_page_resolver_service__["a" /* TrackPageResolver */],
                __WEBPACK_IMPORTED_MODULE_78__tracks_tracks_service__["a" /* Tracks */],
                __WEBPACK_IMPORTED_MODULE_80__users_users_service__["a" /* Users */],
                __WEBPACK_IMPORTED_MODULE_81__users_user_profile_page_user_profile_page_resolver_service__["a" /* UserProfilePageResolver */],
                __WEBPACK_IMPORTED_MODULE_85__tracks_top_tracks_page_top_tracks_page_resolver_service__["a" /* TopTracksPageResolver */],
                __WEBPACK_IMPORTED_MODULE_87__radio_page_radio_page_resolver_service__["a" /* RadioPageResolver */],
                __WEBPACK_IMPORTED_MODULE_90__lyrics_lyrics_service__["a" /* Lyrics */],
                __WEBPACK_IMPORTED_MODULE_93__users_account_settings_account_settings_resolve_service__["a" /* AccountSettingsResolve */],
                __WEBPACK_IMPORTED_MODULE_101__player_track_plays_service__["a" /* TrackPlays */]
            ]
        })
    ], WebPlayerModule);
    return WebPlayerModule;
}());



/***/ }),

/***/ "./src/app/wildcard-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WildcardRoutingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shared_not_found_not_found_page_component__ = __webpack_require__("./src/app/shared/not-found/not-found-page.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var routes = [
    {
        path: '**',
        pathMatch: 'full',
        component: __WEBPACK_IMPORTED_MODULE_0__shared_not_found_not_found_page_component__["a" /* NotFoundPageComponent */]
    },
    {
        path: '404',
        pathMatch: 'full',
        component: __WEBPACK_IMPORTED_MODULE_0__shared_not_found_not_found_page_component__["a" /* NotFoundPageComponent */]
    },
];
var WildcardRoutingModule = (function () {
    function WildcardRoutingModule() {
    }
    WildcardRoutingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["NgModule"])({
            imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* RouterModule */].forChild(routes)],
            exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* RouterModule */]],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_0__shared_not_found_not_found_page_component__["a" /* NotFoundPageComponent */]
            ],
        })
    ], WildcardRoutingModule);
    return WildcardRoutingModule;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "./src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("./node_modules/@angular/platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("./src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("./src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("./src/main.ts");


/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map